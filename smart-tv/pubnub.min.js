// Version: 3.6.0
(function(){
var ca=void 0,C=!0,da=null,K=!1;function N(){return function(){}}
window.JSON&&window.JSON.stringify||function(){function b(){try{return this.valueOf()}catch(c){return da}}function l(b){c.lastIndex=0;return c.test(b)?'"'+b.replace(c,function(c){var b=x[c];return"string"===typeof b?b:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function t(c,x){var A,E,F,G,B,H=s,u=x[c];u&&"object"===typeof u&&(u=b.call(u));"function"===typeof J&&(u=J.call(x,c,u));switch(typeof u){case "string":return l(u);case "number":return isFinite(u)?String(u):"null";
case "boolean":case "null":return String(u);case "object":if(!u)return"null";s+=I;B=[];if("[object Array]"===Object.prototype.toString.apply(u)){G=u.length;for(A=0;A<G;A+=1)B[A]=t(A,u)||"null";F=0===B.length?"[]":s?"[\n"+s+B.join(",\n"+s)+"\n"+H+"]":"["+B.join(",")+"]";s=H;return F}if(J&&"object"===typeof J){G=J.length;for(A=0;A<G;A+=1)E=J[A],"string"===typeof E&&(F=t(E,u))&&B.push(l(E)+(s?": ":":")+F)}else for(E in u)Object.hasOwnProperty.call(u,E)&&(F=t(E,u))&&B.push(l(E)+(s?": ":":")+F);F=0===
B.length?"{}":s?"{\n"+s+B.join(",\n"+s)+"\n"+H+"}":"{"+B.join(",")+"}";s=H;return F}}window.JSON||(window.JSON={});var c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s,I,x={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},J;"function"!==typeof JSON.stringify&&(JSON.stringify=function(c,b,l){var x;I=s="";if("number"===typeof l)for(x=0;x<l;x+=1)I+=" ";else"string"===typeof l&&(I=l);if((J=b)&&"function"!==
typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return t("",{"":c})});"function"!==typeof JSON.parse&&(JSON.parse=function(c){return eval("("+c+")")})}();var ja=1,ka=K,la=[],ma="-pnpres",na=10,oa=1E4,qa=310,ta=60,O=1E3,ua="/",va="&",wa=5,xa=30,ya=/{([\w\-]+)}/g;function za(){return"x"+ ++ja+""+ +new Date}function U(){return+new Date}
var Ba=function(){var b=Math.floor(20*Math.random());return function(l,t){return 0<l.indexOf("pubsub.")&&l.replace("pubsub","ps"+(t?Aa().split("-")[0]:20>++b?b:b=1))||l}}();function Ca(b,l){var t=b.join(ua),c=[];if(!l)return t;Z(l,function(b,l){var x="object"==typeof l?JSON.stringify(l):l;"undefined"!=typeof l&&(l!=da&&0<encodeURIComponent(x).length)&&c.push(b+"="+encodeURIComponent(x))});return t+="?"+c.join(va)}
function Da(b,l){function t(){s+l>U()?(clearTimeout(c),c=setTimeout(t,l)):(s=U(),b())}var c,s=0;return t}function Ea(b,l){var t=[];Z(b||[],function(c){l(c)&&t.push(c)});return t}function Fa(b,l){return b.replace(ya,function(b,c){return l[c]||b})}function Aa(b){var l="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=16*Math.random()|0;return("x"==b?c:c&3|8).toString(16)});b&&b(l);return l}
function Z(b,l){if(b&&l){var t=Object.prototype.toString.call(b);if("[object Array]"===t||"[object NodeList]"===t)for(var c=0,t=b.length;c<t;)l.call(b[c],b[c],c++);else for(c in b)b.hasOwnProperty&&b.hasOwnProperty(c)&&l.call(b[c],c,b[c])}}function Ga(b,l){var t=[];Z(b||[],function(c,b){t.push(l(c,b))});return t}function Ha(b){return encodeURIComponent(b)}function Ia(b){var l=[];Z(b,function(b,c){c.f&&l.push(b)});return l.sort()}
function Ja(){setTimeout(function(){ka||(ka=1,Z(la,function(b){b()}))},O)}
function Ka(b){function l(){}function t(a,d,e){var c=K;if("number"===typeof a)c=a>wa||0==a?K:C;else{if("boolean"===typeof a)return a?xa:0;c=C}return c?(e&&e("Presence Heartbeat value invalid. Valid range ( x > "+wa+" or x = 0). Current Value : "+(d||wa)),d||wa):a}function c(a,d){return ia.decrypt(a,d||Y)||ia.decrypt(a,Y)||a}function s(){clearTimeout(pa);!P||500<=P||1>P||!Ia(p).length?m=K:(m=C,V.presence_heartbeat({a:function(){pa=setTimeout(s,P*O)},error:function(a){g&&g("Presence Heartbeat unable to reach Pubnub servers."+
JSON.stringify(a));pa=setTimeout(s,P*O)}}))}function I(){!m&&s()}function x(a){if(h){if(!W.length)return}else{a&&(W.i=0);if(W.i||!W.length)return;W.i=1}n(W.shift())}function J(a){var d=0;Z(Ia(p),function(e){if(e=p[e])d++,(a||N())(e)});return d}function q(a,d,e){if("object"==typeof a){if(a.error&&a.message&&a.payload){e({message:a.message,payload:a.payload});return}if(a.payload){d(a.payload);return}}d(a)}function D(a,d){"object"==typeof a&&a.error?d({message:a.message,payload:a.payload}):d(a)}function A(){r()||
F(1,{error:"Offline. Please check your network settings. "});setTimeout(A,O)}function E(){V.time(function(a){G(N(),a);a||F(1,{error:"Heartbeat failed to connect to Pubnub Servers.Please check your network settings."});setTimeout(E,u)})}function F(a,d){e&&e(a,d);e=da}function G(d,e){function c(e){e&&(a=U()-(e/1E4+(U()-g)/2),d&&d(a))}var g=U();e&&c(e)||V.time(c)}var B=+b.windowing||na,H=(+b.timeout||qa)*O,u=(+b.keepalive||ta)*O,v=b.noleave||0,f=b.publish_key||"demo",k=b.subscribe_key||"demo",L=b.auth_key||
"",R=b.secret_key||"",S=b.PNSDK||"",ea=b.hmac_SHA256,aa=b.ssl?"s":"",X="http"+aa+"://"+(b.origin||"pubsub.pubnub.com"),M=Ba(X),fa=Ba(X),W=[],a=0,z=0,d=0,e=0,w=0,y=0,sa=K,p={},ba={},pa=da,ga=t(b.heartbeat||b.pnexpires||0,b.error),P=ga-3,m=K,h=b.no_wait_for_pending,n=b.xdr,g=b.error||N(),r=b._is_online||function(){return 1},T=b.jsonp_cb||function(){return 0},ha=b.db||{get:N(),set:N()},Y=b.cipher_key,Q=b.uuid||ha&&ha.get(k+"uuid")||"",ia=b.crypto_obj||{encrypt:function(a){return a},decrypt:function(a){return a}},
V={LEAVE:function(a,d,e,c){var g={uuid:Q,auth:L},z=Ba(X);e=e||N();var w=c||N();c=T();if(0<a.indexOf(ma))return C;if(v||!aa&&"0"==c)return K;"0"!=c&&(g.callback=c);n({l:d||aa,timeout:2E3,a:c,data:g,c:function(a){q(a,e,w)},b:function(a){D(a,w)},url:[z,"v2","presence","sub_key",k,"channel",encodeURIComponent(a),"leave"]});return C},set_resumed:function(a){sa=a},get_cipher_key:function(){return Y},set_cipher_key:function(a){Y=a},raw_encrypt:function(a,d){return ia.encrypt(a,d||Y)||a},raw_decrypt:function(a,
d){return c(a,d)},get_heartbeat:function(){return ga},set_heartbeat:function(a){ga=t(a,P,g);P=1<=ga-3?ga-3:1;l();s()},get_heartbeat_interval:function(){return P},set_heartbeat_interval:function(a){P=a;s()},history:function(a,d){d=a.callback||d;var e=a.count||a.limit||100,z=a.reverse||"false",w=a.error||N(),b=a.auth_key||L,p=a.cipher_key,m=a.channel,y=a.start,h=a.end,f={},r=T();if(!m)return g("Missing Channel");if(!d)return g("Missing Callback");if(!k)return g("Missing Subscribe Key");f.stringtoken=
"true";f.count=e;f.reverse=z;f.auth=b;r&&(f.callback=r);y&&(f.start=y);h&&(f.end=h);n({a:r,data:f,c:function(a){if("object"==typeof a&&a.error)w({message:a.message,payload:a.payload});else{for(var e=a[0],g=[],ra=0;ra<e.length;ra++){var z=c(e[ra],p);try{g.push(JSON.parse(z))}catch(b){g.push(z)}}d([g,a[1],a[2]])}},b:function(a){D(a,w)},url:[M,"v2","history","sub-key",k,"channel",encodeURIComponent(m)]})},replay:function(a){var d=d||a.callback||N(),e=a.auth_key||L,c=a.source,z=a.destination,w=a.stop,
b=a.start,p=a.end,m=a.reverse;a=a.limit;var y=T(),h={};if(!c)return g("Missing Source Channel");if(!z)return g("Missing Destination Channel");if(!f)return g("Missing Publish Key");if(!k)return g("Missing Subscribe Key");"0"!=y&&(h.callback=y);w&&(h.stop="all");m&&(h.reverse="true");b&&(h.start=b);p&&(h.end=p);a&&(h.count=a);h.auth=e;n({a:y,c:function(a){q(a,d,err)},b:function(){d([0,"Disconnected"])},url:[M,"v1","replay",f,k,c,z],data:h})},auth:function(a){L=a;l()},time:function(a){var d=T();n({a:d,
data:{uuid:Q,auth:L},timeout:5*O,url:[M,"time",d],c:function(d){a(d[0])},b:function(){a(0)}})},publish:function(a,d){d=d||a.callback||N();var e=a.message,c=a.channel,z=a.auth_key||L,w=a.cipher_key,b=a.error||N(),h=T(),n="push";a.prepend&&(n="unshift");if(!e)return g("Missing Message");if(!c)return g("Missing Channel");if(!f)return g("Missing Publish Key");if(!k)return g("Missing Subscribe Key");e=JSON.stringify(ia.encrypt(e,w||Y)||e);W[n]({a:h,timeout:5*O,url:[M,"publish",f,k,0,encodeURIComponent(c),
h,encodeURIComponent(e)],data:{uuid:Q,auth:z},b:function(a){D(a,b);x(1)},c:function(a){q(a,d,b);x(1)}});x()},unsubscribe:function(a,d){var e=a.channel;d=d||a.callback||N();var c=a.error||N();y=0;w=1;e=Ga((e.join?e.join(","):""+e).split(","),function(a){if(p[a])return a+","+a+ma}).join(",");Z(e.split(","),function(a){var e=C;a&&(ka&&(e=V.LEAVE(a,0,d,c)),e||d({action:"leave"}),p[a]=0,a in ba&&delete ba[a])});l()},subscribe:function(b,h){function m(a){a?setTimeout(l,O):(M=Ba(X,1),fa=Ba(X,1),setTimeout(function(){V.time(m)},
O));J(function(d){if(a&&d.d)return d.d=0,d.n(d.name);!a&&!d.d&&(d.d=1,d.disconnect(d.name))})}function f(){var b=T(),g=Ia(p).join(",");if(g){F();var h={uuid:Q,auth:v};2<JSON.stringify(ba).length&&(h.metadata=JSON.stringify(ba));ga&&(h.pnexpires=ga);I();e=n({timeout:E,a:b,b:function(a){D(a,t);V.time(m)},data:h,url:[fa,"subscribe",k,encodeURIComponent(g),b,y],c:function(e){if(!e||"object"==typeof e&&"error"in e&&e.error)return t(e.error),setTimeout(l,O);u(e[1]);y=!y&&w&&ha.get(k)||e[1];J(function(a){a.e||
(a.e=1,a.m(a.name))});if(sa&&!w)y=0,sa=K,ha.set(k,0);else{Y&&(y=1E4,Y=0);ha.set(k,e[1]);var b=function(){var a=(2<e.length?e[2]:Ga(Ia(p),function(a){return Ga(Array(e[0].length).join(",").split(","),function(){return a})}).join(",")).split(",");return function(){var e=a.shift()||d;return[(p[e]||{}).a||z,e.split(ma)[0]]}}(),g=U()-a-+e[1]/1E4;Z(e[0],function(a){var d=b();a=c(a,p[d[1]].cipher_key);try{d[0](JSON.parse(a),e,d[1],g)}catch(z){d[0](a,e,d[1],g)}})}setTimeout(f,R)}})}}var r=b.channel;h=(h=
h||b.callback)||b.message;var v=b.auth_key||L,s=b.connect||N(),x=b.reconnect||N(),q=b.disconnect||N(),t=b.error||N(),u=b.idle||N(),P=b.presence||0,A=b.noheresync||0,Y=b.backfill||0,ia=b.timetoken||0,E=b.timeout||H,R=b.windowing||B,S=b.state,G=b.heartbeat||b.pnexpires;w=b.restore;y=ia;if(!r)return g("Missing Channel");if(!h)return g("Missing Callback");if(!k)return g("Missing Subscribe Key");(G||0===G)&&set_heartbeat(G);Z((r.join?r.join(","):""+r).split(","),function(a){var e=p[a]||{};p[d=a]={name:a,
e:e.e,d:e.d,f:1,a:z=h,cipher_key:b.cipher_key,m:s,disconnect:q,n:x};S&&(ba[a]=a in S?S[a]:S);P&&(V.subscribe({channel:a+ma,callback:P}),!e.f&&!A&&V.here_now({channel:a,callback:function(d){Z("uuids"in d?d.uuids:[],function(e){P({action:"join",uuid:e,timestamp:U(),occupancy:d.occupancy||1},d,a)})}}))});l=function(){F();setTimeout(f,R)};if(!ka)return la.push(l);l()},here_now:function(a,d){d=a.callback||d;var e=a.error||N(),c=a.auth_key||L,b=a.channel,z=T(),c={uuid:Q,auth:c};a.state&&(c.metadata=1);
if(!d)return g("Missing Callback");if(!k)return g("Missing Subscribe Key");var w=[M,"v2","presence","sub_key",k];b&&w.push("channel")&&w.push(encodeURIComponent(b));"0"!=z&&(c.callback=z);n({a:z,data:c,c:function(a){q(a,d,e)},b:function(a){D(a,e)},url:w})},where_now:function(a,d){d=a.callback||d;var e=a.error||N(),c=a.auth_key||L,b=T(),z=a.uuid||Q,c={auth:c};if(!d)return g("Missing Callback");if(!k)return g("Missing Subscribe Key");"0"!=b&&(c.callback=b);n({a:b,data:c,c:function(a){q(a,d,e)},b:function(a){D(a,
e)},url:[M,"v2","presence","sub_key",k,"uuid",encodeURIComponent(z)]})},state:function(a,d){d=a.callback||d||N();var e=a.error||N(),c=a.auth_key||L,b=T(),z=a.state,w=a.uuid||Q,h=a.channel,c={auth:c};if(!k)return g("Missing Subscribe Key");if(!w)return g("Missing UUID");if(!h)return g("Missing Channel");"0"!=b&&(c.callback=b);p[h]&&p[h].f&&(ba[h]=z);c.metadata=JSON.stringify(z);n({a:b,data:c,c:function(a){q(a,d,e)},b:function(a){D(a,e)},url:z?[M,"v2","presence","sub-key",k,"channel",encodeURIComponent(h),
"uuid",w,"data"]:[M,"v2","presence","sub-key",k,"channel",encodeURIComponent(h),"uuid",encodeURIComponent(w)]})},grant:function(a,d){d=a.callback||d;var e=a.error||N(),c=a.channel,b=T(),z=a.ttl,w=a.read?"1":"0",h=a.write?"1":"0",m={},p=a.auth_key;if(!c)return g("Missing Channel");if(!d)return g("Missing Callback");if(!k)return g("Missing Subscribe Key");if(!f)return g("Missing Publish Key");if(!R)return g("Missing Secret Key");"0"!=b&&(m.callback=b);var m=Math.floor((new Date).getTime()/1E3),y=k+
"\n"+f+"\ngrant\n"+(p&&0<encodeURIComponent(p).length?"auth="+encodeURIComponent(p)+"&":"")+"channel="+encodeURIComponent(c)+"&pnsdk="+encodeURIComponent(S)+"&r="+w+"&timestamp="+encodeURIComponent(m);z&&(y+="&ttl="+z);y=ea(y+("&w="+h),R);y=y.replace(/\+/g,"-");y=y.replace(/\//g,"_");m={w:h,r:w,signature:y,channel:c,timestamp:m};z&&(m.ttl=z);p&&(m.auth=p);n({a:b,data:m,c:function(a){q(a,d,e)},b:function(a){D(a,e)},url:[M,"v1","auth","grant","sub-key",k]})},audit:function(a,d){d=a.callback||d;var e=
a.error||N(),c=a.channel,b=a.auth_key,z=T();if(!d)return g("Missing Callback");if(!k)return g("Missing Subscribe Key");if(!f)return g("Missing Publish Key");if(!R)return g("Missing Secret Key");"0"!=z&&(w.callback=z);var w=Math.floor((new Date).getTime()/1E3),h=k+"\n"+f+"\naudit\n";b&&(h+="auth="+encodeURIComponent(b)+"&");c&&(h+="channel="+encodeURIComponent(c)+"&");var h=h+("pnsdk="+encodeURIComponent(S)+"&timestamp="+w),h=ea(h,R),h=h.replace(/\+/g,"-"),h=h.replace(/\//g,"_"),w={signature:h,timestamp:w};
c&&(w.channel=c);b&&(w.auth=b);n({a:z,data:w,c:function(a){q(a,d,e)},b:function(a){D(a,e)},url:[M,"v1","auth","audit","sub-key",k]})},revoke:function(a,d){a.read=K;a.write=K;V.grant(a,d)},set_uuid:function(a){Q=a;l()},get_uuid:function(){return Q},presence_heartbeat:function(a){var d=a.callback||N(),e=a.error||N();a=T();var c={uuid:Q,auth:L};2<JSON.stringify(ba).length&&(c.metadata=JSON.stringify(ba));n({a:a,data:c,timeout:5*O,url:[M,"v2","presence","sub-key",k,"channel",Ha(Ia(p).join(",")),"heartbeat"],
c:function(a){q(a,d,e)},b:function(a){D(a,e)}})},xdr:n,ready:Ja,db:ha,uuid:Aa,map:Ga,each:Z,"each-channel":J,grep:Ea,offline:function(){F(1)},supplant:Fa,now:U,unique:za,updater:Da};Q||(Q=V.uuid());ha.set(k+"uuid",Q);setTimeout(A,O);setTimeout(E,u);pa=setTimeout(I,(P-3)*O);G();return V}
var $=function(){function b(a){for(var c=[],d=0;256>d;d++){for(var e=a,b=d,y=ca,f=ca,y=f=0;8>y;y++)f=1==(b&1)?f^e:f,e=127<e?283^e<<1:e<<1,b>>>=1;c[d]=f}return c}function l(a,c){var d=[];for(i=0;i<a.length;i+=c)d[i/c]=parseInt(a.substr(i,c),16);return d}function t(a){for(var c=0;4>c;c++)a[c]=k[a[c]];return a}function c(a){var c=[],d=[],e,b,y=[];for(e=0;e<v;e++)b=[a[4*e],a[4*e+1],a[4*e+2],a[4*e+3]],c[e]=b;for(e=v;e<4*(u+1);e++){c[e]=[];for(a=0;4>a;a++)d[a]=c[e-1][a];if(0===e%v){a=d[0];b=ca;for(b=0;4>
b;b++)d[b]=d[b+1];d[3]=a;d=t(d);d[0]^=R[e/v-1]}else 6<v&&4==e%v&&(d=t(d));for(a=0;4>a;a++)c[e][a]=c[e-v][a]^d[a]}for(e=0;e<u+1;e++){y[e]=[];for(d=0;4>d;d++)y[e].push(c[4*e+d][0],c[4*e+d][1],c[4*e+d][2],c[4*e+d][3])}return y}function s(a,c){var d=[],e;for(e=0;16>e;e++)d[e]=a[e]^c[e];return d}function I(a,c,d){var e=[],b;for(b=0;16>b;b++)e[b]=a[b]^c[d][b];return e}function x(a){var c=[],d;if(f)for(d=0;4>d;d++)c[4*d]=fa[a[4*d]]^X[a[1+4*d]]^M[a[2+4*d]]^aa[a[3+4*d]],c[1+4*d]=aa[a[4*d]]^fa[a[1+4*d]]^X[a[2+
4*d]]^M[a[3+4*d]],c[2+4*d]=M[a[4*d]]^aa[a[1+4*d]]^fa[a[2+4*d]]^X[a[3+4*d]],c[3+4*d]=X[a[4*d]]^M[a[1+4*d]]^aa[a[2+4*d]]^fa[a[3+4*d]];else for(d=0;4>d;d++)c[4*d]=S[a[4*d]]^ea[a[1+4*d]]^a[2+4*d]^a[3+4*d],c[1+4*d]=a[4*d]^S[a[1+4*d]]^ea[a[2+4*d]]^a[3+4*d],c[2+4*d]=a[4*d]^a[1+4*d]^S[a[2+4*d]]^ea[a[3+4*d]],c[3+4*d]=ea[a[4*d]]^a[1+4*d]^a[2+4*d]^S[a[3+4*d]];return c}function J(a){var c=[],d=f?[0,13,10,7,4,1,14,11,8,5,2,15,12,9,6,3]:[0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11],e;for(e=0;16>e;e++)c[e]=a[d[e]];return c}
function q(a){var c=f?L:k,d=[],e;for(e=0;16>e;e++)d[e]=c[a[e]];return d}function D(a,c){f=C;var d=I(a,c,u),e;for(e=u-1;-1<e;e--)d=J(d),d=q(d),d=I(d,c,e),0<e&&(d=x(d));return d}function A(a,c){f=K;var d=I(a,c,0),e;for(e=1;e<u+1;e++)d=q(d),d=J(d),e<u&&(d=x(d)),d=I(d,c,e);return d}function E(a,b,d,e){b=c(b);var w=a.length/16,y=[],f,p=[],k="";for(f=0;f<w;f++)y.push(a.slice(16*f,16*(f+1)));for(f=y.length-1;0<=f;f--)p[f]=D(y[f],b),p[f]=0===f?s(p[f],d):s(p[f],y[f-1]);for(f=0;f<w-1;f++)k+=H(p[f]);var k=k+
H(p[f],C),v;if(e)v=k;else try{v=decodeURIComponent(escape(k))}catch(l){throw"Bad Key";}return v}function F(a,b,d){b=c(b);var e=Math.ceil(a.length/16),w=[],f,k=[];for(f=0;f<e;f++){var p=w,v=f,l=a.slice(16*f,16*f+16),x=[],q=ca,q=ca;16>l.length&&(q=16-l.length,x=[q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q]);for(q=0;q<l.length;q++)x[q]=l[q];p[v]=x}0===a.length%16&&w.push([16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16]);for(f=0;f<w.length;f++)w[f]=0===f?s(w[f],d):s(w[f],k[f-1]),k[f]=A(w[f],b);return k}function G(a,
c){var d=12<=u?3:2,e=[],b=[],e=[],b=[],f=a.concat(c),k;e[0]=GibberishAES.j.k(f);b=e[0];for(k=1;k<d;k++)e[k]=GibberishAES.j.k(e[k-1].concat(f)),b=b.concat(e[k]);e=b.slice(0,4*v);b=b.slice(4*v,4*v+16);return{key:e,g:b}}function B(a,c){var d=[],e;if(!c)try{a=unescape(encodeURIComponent(a))}catch(b){throw"Error on UTF-8 encode";}for(e=0;e<a.length;e++)d[e]=a.charCodeAt(e);return d}function H(a,c){var d="",e,b;if(c){e=a[15];if(16<e)throw"Decryption error: Maybe bad key";if(16==e)return"";for(b=0;b<16-
e;b++)d+=String.fromCharCode(a[b])}else for(b=0;16>b;b++)d+=String.fromCharCode(a[b]);return d}var u=14,v=8,f=K,k=l("637c777bf26b6fc53001672bfed7ab76ca82c97dfa5947f0add4a2af9ca472c0b7fd9326363ff7cc34a5e5f171d8311504c723c31896059a071280e2eb27b27509832c1a1b6e5aa0523bd6b329e32f8453d100ed20fcb15b6acbbe394a4c58cfd0efaafb434d338545f9027f503c9fa851a3408f929d38f5bcb6da2110fff3d2cd0c13ec5f974417c4a77e3d645d197360814fdc222a908846eeb814de5e0bdbe0323a0a4906245cc2d3ac629195e479e7c8376d8dd54ea96c56f4ea657aae08ba78252e1ca6b4c6e8dd741f4bbd8b8a703eb5664803f60e613557b986c11d9ee1f8981169d98e949b1e87e9ce5528df8ca1890dbfe6426841992d0fb054bb16",
2),L=function(a){var c=[];for(i=0;i<a.length;i++)c[a[i]]=i;return c}(k),R=l("01020408102040801b366cd8ab4d9a2f5ebc63c697356ad4b37dfaefc591",2),S=b(2),ea=b(3),aa=b(9),X=b(11),M=b(13),fa=b(14),W=function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=a.split("");"function"===typeof Array.indexOf&&(a=c);return{encode:function(a){var e=[],b="",f;for(f=0;f<16*a.length;f++)e.push(a[Math.floor(f/16)][f%16]);for(f=0;f<e.length;f+=3)b+=c[e[f]>>2],b+=c[(e[f]&3)<<4|e[f+1]>>4],b=
e[f+1]!==ca?b+c[(e[f+1]&15)<<2|e[f+2]>>6]:b+"=",b=e[f+2]!==ca?b+c[e[f+2]&63]:b+"=";a=b.slice(0,64);for(f=1;f<Math.ceil(b.length/64);f++)a+=b.slice(64*f,64*f+64)+(Math.ceil(b.length/64)==f+1?"":"\n");return a},decode:function(d){d=d.replace(/\n/g,"");var c=[],b=[],f=[],k;for(k=0;k<d.length;k+=4)b[0]=a.indexOf(d.charAt(k)),b[1]=a.indexOf(d.charAt(k+1)),b[2]=a.indexOf(d.charAt(k+2)),b[3]=a.indexOf(d.charAt(k+3)),f[0]=b[0]<<2|b[1]>>4,f[1]=(b[1]&15)<<4|b[2]>>2,f[2]=(b[2]&3)<<6|b[3],c.push(f[0],f[1],f[2]);
return c=c.slice(0,c.length-c.length%16)}}}();return{size:function(a){switch(a){case 128:u=10;v=4;break;case 192:u=12;v=6;break;case 256:u=14;v=8;break;default:throw"Invalid Key Size Specified:"+a;}},h2a:function(a){var c=[];a.replace(/(..)/g,function(a){c.push(parseInt(a,16))});return c},expandKey:c,encryptBlock:A,decryptBlock:D,Decrypt:f,s2a:B,rawEncrypt:F,rawDecrypt:E,dec:function(a,c,d){a=W.p(a);var b=a.slice(8,16),b=G(B(c,d),b);c=b.key;b=b.g;a=a.slice(16,a.length);return a=E(a,c,b,d)},openSSLKey:G,
a2h:function(a){var c="",d;for(d=0;d<a.length;d++)c+=(16>a[d]?"0":"")+a[d].toString(16);return c},enc:function(a,c,d){var b;b=[];var f;for(f=0;8>f;f++)b=b.concat(Math.floor(256*Math.random()));f=G(B(c,d),b);c=f.key;f=f.g;b=[[83,97,108,116,101,100,95,95].concat(b)];a=B(a,d);a=F(a,c,f);a=b.concat(a);return W.q(a)},Hash:{MD5:function(a){function c(a,b){var d,e,f,h,g;f=a&2147483648;h=b&2147483648;d=a&1073741824;e=b&1073741824;g=(a&1073741823)+(b&1073741823);return d&e?g^2147483648^f^h:d|e?g&1073741824?
g^3221225472^f^h:g^1073741824^f^h:g^f^h}function d(a,b,d,e,f,h,g){a=c(a,c(c(b&d|~b&e,f),g));return c(a<<h|a>>>32-h,b)}function b(a,d,e,f,h,g,k){a=c(a,c(c(d&f|e&~f,h),k));return c(a<<g|a>>>32-g,d)}function f(a,b,d,e,h,g,k){a=c(a,c(c(b^d^e,h),k));return c(a<<g|a>>>32-g,b)}function k(a,b,d,e,f,g,h){a=c(a,c(c(d^(b|~e),f),h));return c(a<<g|a>>>32-g,b)}function v(a){var c,b,d=[];for(b=0;3>=b;b++)c=a>>>8*b&255,d=d.concat(c);return d}var p=[],q,x,s,t,m,h,n,g,r=l("67452301efcdab8998badcfe10325476d76aa478e8c7b756242070dbc1bdceeef57c0faf4787c62aa8304613fd469501698098d88b44f7afffff5bb1895cd7be6b901122fd987193a679438e49b40821f61e2562c040b340265e5a51e9b6c7aad62f105d02441453d8a1e681e7d3fbc821e1cde6c33707d6f4d50d87455a14eda9e3e905fcefa3f8676f02d98d2a4c8afffa39428771f6816d9d6122fde5380ca4beea444bdecfa9f6bb4b60bebfbc70289b7ec6eaa127fad4ef308504881d05d9d4d039e6db99e51fa27cf8c4ac5665f4292244432aff97ab9423a7fc93a039655b59c38f0ccc92ffeff47d85845dd16fa87e4ffe2ce6e0a30143144e0811a1f7537e82bd3af2352ad7d2bbeb86d391",
8),p=function(a){var b,c=a.length;b=c+8;for(var d=16*((b-b%64)/64+1),e=[],f=0,g=0;g<c;)b=(g-g%4)/4,f=8*(g%4),e[b]|=a[g]<<f,g++;b=(g-g%4)/4;e[b]|=128<<8*(g%4);e[d-2]=c<<3;e[d-1]=c>>>29;return e}(a);m=r[0];h=r[1];n=r[2];g=r[3];for(a=0;a<p.length;a+=16)q=m,x=h,s=n,t=g,m=d(m,h,n,g,p[a+0],7,r[4]),g=d(g,m,h,n,p[a+1],12,r[5]),n=d(n,g,m,h,p[a+2],17,r[6]),h=d(h,n,g,m,p[a+3],22,r[7]),m=d(m,h,n,g,p[a+4],7,r[8]),g=d(g,m,h,n,p[a+5],12,r[9]),n=d(n,g,m,h,p[a+6],17,r[10]),h=d(h,n,g,m,p[a+7],22,r[11]),m=d(m,h,n,g,
p[a+8],7,r[12]),g=d(g,m,h,n,p[a+9],12,r[13]),n=d(n,g,m,h,p[a+10],17,r[14]),h=d(h,n,g,m,p[a+11],22,r[15]),m=d(m,h,n,g,p[a+12],7,r[16]),g=d(g,m,h,n,p[a+13],12,r[17]),n=d(n,g,m,h,p[a+14],17,r[18]),h=d(h,n,g,m,p[a+15],22,r[19]),m=b(m,h,n,g,p[a+1],5,r[20]),g=b(g,m,h,n,p[a+6],9,r[21]),n=b(n,g,m,h,p[a+11],14,r[22]),h=b(h,n,g,m,p[a+0],20,r[23]),m=b(m,h,n,g,p[a+5],5,r[24]),g=b(g,m,h,n,p[a+10],9,r[25]),n=b(n,g,m,h,p[a+15],14,r[26]),h=b(h,n,g,m,p[a+4],20,r[27]),m=b(m,h,n,g,p[a+9],5,r[28]),g=b(g,m,h,n,p[a+14],
9,r[29]),n=b(n,g,m,h,p[a+3],14,r[30]),h=b(h,n,g,m,p[a+8],20,r[31]),m=b(m,h,n,g,p[a+13],5,r[32]),g=b(g,m,h,n,p[a+2],9,r[33]),n=b(n,g,m,h,p[a+7],14,r[34]),h=b(h,n,g,m,p[a+12],20,r[35]),m=f(m,h,n,g,p[a+5],4,r[36]),g=f(g,m,h,n,p[a+8],11,r[37]),n=f(n,g,m,h,p[a+11],16,r[38]),h=f(h,n,g,m,p[a+14],23,r[39]),m=f(m,h,n,g,p[a+1],4,r[40]),g=f(g,m,h,n,p[a+4],11,r[41]),n=f(n,g,m,h,p[a+7],16,r[42]),h=f(h,n,g,m,p[a+10],23,r[43]),m=f(m,h,n,g,p[a+13],4,r[44]),g=f(g,m,h,n,p[a+0],11,r[45]),n=f(n,g,m,h,p[a+3],16,r[46]),
h=f(h,n,g,m,p[a+6],23,r[47]),m=f(m,h,n,g,p[a+9],4,r[48]),g=f(g,m,h,n,p[a+12],11,r[49]),n=f(n,g,m,h,p[a+15],16,r[50]),h=f(h,n,g,m,p[a+2],23,r[51]),m=k(m,h,n,g,p[a+0],6,r[52]),g=k(g,m,h,n,p[a+7],10,r[53]),n=k(n,g,m,h,p[a+14],15,r[54]),h=k(h,n,g,m,p[a+5],21,r[55]),m=k(m,h,n,g,p[a+12],6,r[56]),g=k(g,m,h,n,p[a+3],10,r[57]),n=k(n,g,m,h,p[a+10],15,r[58]),h=k(h,n,g,m,p[a+1],21,r[59]),m=k(m,h,n,g,p[a+8],6,r[60]),g=k(g,m,h,n,p[a+15],10,r[61]),n=k(n,g,m,h,p[a+6],15,r[62]),h=k(h,n,g,m,p[a+13],21,r[63]),m=k(m,
h,n,g,p[a+4],6,r[64]),g=k(g,m,h,n,p[a+11],10,r[65]),n=k(n,g,m,h,p[a+2],15,r[66]),h=k(h,n,g,m,p[a+9],21,r[67]),m=c(m,q),h=c(h,x),n=c(n,s),g=c(g,t);return v(m).concat(v(h),v(n),v(g))}},Base64:W}}();
function La(){function b(b){function c(b,c){var l=(b&65535)+(c&65535);return(b>>16)+(c>>16)+(l>>16)<<16|l&65535}function l(b,c){return b>>>c|b<<32-c}b=function(b){b=b.replace(/\r\n/g,"\n");for(var c="",l=0;l<b.length;l++){var q=b.charCodeAt(l);128>q?c+=String.fromCharCode(q):(127<q&&2048>q?c+=String.fromCharCode(q>>6|192):(c+=String.fromCharCode(q>>12|224),c+=String.fromCharCode(q>>6&63|128)),c+=String.fromCharCode(q&63|128))}return c}(b);return function(b){for(var c="",l=0;l<4*b.length;l++)c+="0123456789abcdef".charAt(b[l>>
2]>>8*(3-l%4)+4&15)+"0123456789abcdef".charAt(b[l>>2]>>8*(3-l%4)&15);return c}(function(b,t){var J=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,
2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],q=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],D=Array(64),A,E,F,G,B,H,u,v,f,k,L,R;b[t>>5]|=128<<24-t%32;b[(t+64>>9<<4)+15]=t;for(f=0;f<b.length;f+=16){A=q[0];E=q[1];F=q[2];G=q[3];
B=q[4];H=q[5];u=q[6];v=q[7];for(k=0;64>k;k++)D[k]=16>k?b[k+f]:c(c(c(l(D[k-2],17)^l(D[k-2],19)^D[k-2]>>>10,D[k-7]),l(D[k-15],7)^l(D[k-15],18)^D[k-15]>>>3),D[k-16]),L=c(c(c(c(v,l(B,6)^l(B,11)^l(B,25)),B&H^~B&u),J[k]),D[k]),R=c(l(A,2)^l(A,13)^l(A,22),A&E^A&F^E&F),v=u,u=H,H=B,B=c(G,L),G=F,F=E,E=A,A=c(L,R);q[0]=c(A,q[0]);q[1]=c(E,q[1]);q[2]=c(F,q[2]);q[3]=c(G,q[3]);q[4]=c(B,q[4]);q[5]=c(H,q[5]);q[6]=c(u,q[6]);q[7]=c(v,q[7])}return q}(function(b){for(var c=[],l=0;l<8*b.length;l+=8)c[l>>5]|=(b.charCodeAt(l/
8)&255)<<24-l%32;return c}(b),8*b.length))}$.size(256);var l=$.s2a("0123456789012345");return{encrypt:function(t,c){if(!c)return t;var s=$.s2a(b(c).slice(0,32)),I=$.s2a(JSON.stringify(t)),s=$.rawEncrypt(I,s,l);return $.Base64.encode(s)||t},decrypt:function(t,c){if(!c)return t;var s=$.s2a(b(c).slice(0,32));try{var I=$.Base64.decode(t),x=$.rawDecrypt(I,s,l,K);return JSON.parse(x)}catch(J){}}}}
window.PUBNUB||function(){function b(v){function f(c){return b(c)}XORIGN=0;var k=v.subscribe_key||"";v.uuid||B.get(k+"uuid");v.xdr=A;v.db=B;v.error=v.error||t;v._is_online=E;v.jsonp_cb=D;v.PNSDK=G;v.crypto_obj=La();var k=Ka(v),u;for(u in k)k.hasOwnProperty(u)&&(f[u]=k[u]);f.css=J;f.$=l;f.create=q;f.bind=s;f.head=I;f.search=c;f.attr=x;f.events=H;f.init=f;s("beforeunload",window,function(){f["each-channel"](function(b){f.LEAVE(b.name,1)});return C});if(v.notest)return f;s("offline",window,f.offline);
s("offline",document,f.offline);return f}function l(b){return document.getElementById(b)}function t(b){console.error(b)}function c(b,c){var k=[];Z(b.split(/\s+/),function(b){Z((c||document).getElementsByTagName(b),function(b){k.push(b)})});return k}function s(b,c,k){Z(b.split(","),function(b){function l(b){b||(b=window.event);k(b)||(b.cancelBubble=C,b.returnValue=K,b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation())}c.addEventListener?c.addEventListener(b,l,K):c.attachEvent?
c.attachEvent("on"+b,l):c["on"+b]=l})}function I(){return c("head")[0]}function x(b,c,k){if(k)b.setAttribute(c,k);else return b&&b.getAttribute&&b.getAttribute(c)}function J(b,c){for(var k in c)if(c.hasOwnProperty(k))try{b.style[k]=c[k]+(0<"|width|height|top|left|".indexOf(k)&&"number"==typeof c[k]?"px":"")}catch(l){}}function q(b){return document.createElement(b)}function D(){return za()}function A(b){function c(b,f){u||(u=1,k.onerror=da,clearTimeout(A),b||!f||E(f),setTimeout(function(){b&&B();var a=
l(t),c=a&&a.parentNode;c&&c.removeChild(a)},O))}var k=q("script"),s=b.a,t=za(),u=0,A=setTimeout(function(){c(1)},b.timeout||oa),B=b.b||N(),D=b.data||{},E=b.c||N();window[s]=function(b){c(0,b)};b.l||(k[F]=F);k.onerror=function(){c(1)};D.pnsdk=G;k.src=Ca(b.url,D);x(k,"id",t);I().appendChild(k);return c}function E(){return!("onLine"in navigator)?1:navigator.onLine}var F="async",G="PubNub-JS-SmartTV/3.6.0";window.console||(window.console=window.console||{});console.log||(console.log=console.error=(window.opera||
{}).postError||N());var B=function(){var b=window.localStorage;return{get:function(c){try{return b?b.getItem(c):-1==document.cookie.indexOf(c)?da:((document.cookie||"").match(RegExp(c+"=([^;]+)"))||[])[1]||da}catch(k){}},set:function(c,k){try{if(b)return b.setItem(c,k)&&0;document.cookie=c+"="+k+"; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/"}catch(l){}}}}(),H={list:{},unbind:function(b){H.list[b]=[]},bind:function(b,c){(H.list[b]=H.list[b]||[]).push(c)},fire:function(b,c){Z(H.list[b]||[],function(b){b(c)})}},
u=l("pubnub")||0;b.init=b;s("load",window,function(){setTimeout(Ja,0)});u=u||{};PUBNUB=b({notest:1,publish_key:x(u,"pub-key"),subscribe_key:x(u,"sub-key"),ssl:!document.location.href.indexOf("https")||"on"==x(u,"ssl"),origin:x(u,"origin"),uuid:x(u,"uuid")})}();
(function(){var b=PUBNUB.ws=function(l,t){if(!(this instanceof b))return new b(l,t);var c=this;l=c.url=l||"";c.protocol=t||"Sec-WebSocket-Protocol";var s=l.split("/"),s={ssl:"wss:"===s[0],origin:s[2],publish_key:s[3],subscribe_key:s[4],channel:s[5]};c.CONNECTING=0;c.OPEN=1;c.CLOSING=2;c.CLOSED=3;c.CLOSE_NORMAL=1E3;c.CLOSE_GOING_AWAY=1001;c.CLOSE_PROTOCOL_ERROR=1002;c.CLOSE_UNSUPPORTED=1003;c.CLOSE_TOO_LARGE=1004;c.CLOSE_NO_STATUS=1005;c.CLOSE_ABNORMAL=1006;c.onclose=c.onerror=c.onmessage=c.onopen=
c.onsend=N();c.binaryType="";c.extensions="";c.bufferedAmount=0;c.trasnmitting=K;c.buffer=[];c.readyState=c.CONNECTING;if(!l)return c.readyState=c.CLOSED,c.onclose({code:c.CLOSE_ABNORMAL,reason:"Missing URL",wasClean:C}),c;c.h=PUBNUB.init(s);c.h.o=s;c.o=s;c.h.subscribe({restore:K,channel:s.channel,disconnect:c.onerror,reconnect:c.onopen,error:function(){c.onclose({code:c.CLOSE_ABNORMAL,reason:"Missing URL",wasClean:K})},callback:function(b){c.onmessage({data:b})},connect:function(){c.readyState=c.OPEN;
c.onopen()}})}})();
})();
