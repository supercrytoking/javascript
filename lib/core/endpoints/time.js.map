{"version":3,"sources":["core/endpoints/time.js"],"names":[],"mappings":";;;;;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;;AAWE,wBAAmD;AAAA,QAArC,UAAqC,QAArC,UAAqC;AAAA,QAAzB,MAAyB,QAAzB,MAAyB;;AAAA;;AAAA,0FAC3C,EAAE,cAAF,EAD2C;;AAEjD,UAAK,WAAL,GAAmB,UAAnB;AAFiD;AAGlD;;;;0BAEK,Q,EAAoB;AACxB,UAAM,iBAAqC;AACzC,gBAAQ;AACN,gBAAM,EAAE,UAAU,KAAZ;AADA,SADiC;AAIzC,aAAK;AAJoC,OAA3C;;AAQA,UAAI,CAAC,KAAK,sBAAL,CAA4B,cAA5B,CAAL,EAAkD;AAAE;AAAS;;AAG7D,UAAM,SAAS,KAAK,gBAAL,CAAsB,cAAtB,CAAf;;AAEA,WAAK,WAAL,CAAiB,GAAjB,CAAqB,MAArB,EAA6B,cAA7B,EAA6C,UAAC,MAAD,EAA6B,OAA7B,EAAiD;AAC5F,YAAI,OAAO,KAAX,EAAkB,OAAO,SAAS,MAAT,CAAP;;AAElB,YAAI,WAAyB;AAC3B,qBAAW,QAAQ,CAAR;AADgB,SAA7B;;AAIA,iBAAS,MAAT,EAAiB,QAAjB;AACD,OARD;AASD","file":"core/endpoints/time.js","sourcesContent":["/* @flow */\n\nimport Networking from '../components/networking';\nimport Config from '../components/config';\nimport BaseEndpoint from './base.js';\nimport { EndpointDefinition, StatusAnnouncement, TimeResponse } from '../flow_interfaces';\n\ntype TimeConstruct = {\n  networking: Networking,\n  config: Config\n};\n\nexport default class extends BaseEndpoint {\n\n  _networking: Networking;\n\n  constructor({ networking, config }: TimeConstruct) {\n    super({ config });\n    this._networking = networking;\n  }\n\n  fetch(callback: Function) {\n    const endpointConfig: EndpointDefinition = {\n      params: {\n        uuid: { required: false }\n      },\n      url: '/time/0'\n    };\n\n    // validate this request and return false if stuff is missing\n    if (!this.validateEndpointConfig(endpointConfig)) { return; }\n\n    // create base params\n    const params = this.createBaseParams(endpointConfig);\n\n    this._networking.GET(params, endpointConfig, (status: StatusAnnouncement, payload: Object) => {\n      if (status.error) return callback(status);\n\n      let response: TimeResponse = {\n        timetoken: payload[0]\n      };\n\n      callback(status, response);\n    });\n  }\n}\n"],"sourceRoot":"/source/"}