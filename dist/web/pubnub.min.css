!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PUBNUB=t():e.PUBNUB=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){var t,n,r=0,i=0,o=!0,a=e.timeout||f.DEF_TIMEOUT,s=e.data||{},c=e.fail||function(){},u=e.success||function(){},h=function(e,i){r||(r=1,clearTimeout(n),t&&(t.onerror=t.onload=null,t.abort&&t.abort(),t=null),e&&c(i))},l=function(){if(!i){var e;i=1,clearTimeout(n);try{e=JSON.parse(t.responseText)}catch(r){return h(1)}u(e)}};n=f.timeout(function(){h(1)},a);try{t="undefined"!=typeof XDomainRequest&&new XDomainRequest||new XMLHttpRequest,t.onerror=t.onabort=function(){h(1,t.responseText||{error:"Network Connection Error"})},t.onload=t.onloadend=l,s.pnsdk=p;var d=f.build_url(e.url,s);t.open("GET",d,o),o&&(t.timeout=a),t.send()}catch(g){h(1,{error:"XHR Failed",stacktrace:g})}return h}function i(e,t){var n=l.HmacSHA256(e,t);return n.toString(l.enc.Base64)}function o(){if(!("onLine"in navigator))return 1;try{return navigator.onLine}catch(e){return!0}}function a(e){return"sendBeacon"in navigator?navigator.sendBeacon(e):!1}function s(e){console.error(e)}function c(e){e.db=d,e.xdr=r,e.error=e.error||s,e.hmac_SHA256=i,e.crypto_obj=h(),e._is_online=o,e.sendBeacon=a,e.params={pnsdk:p};var t=function(e){return c(e)},n=f.PN_API(e);for(var u in n)n.hasOwnProperty(u)&&(t[u]=n[u]);return t.init=t,t.crypto_obj=h(),t.PNmessage=f.PNmessage,window.addEventListener("beforeunload",function(){return t["each-channel"](function(e){t.LEAVE(e.name,0)}),!0}),t.ready(),window.addEventListener("offline",t.offline),t}var u=n(1),f=n(2),h=n(73),l=n(74),p="PubNub-JS-consumer/"+u.version,d=function(){var e="undefined"!=typeof localStorage&&localStorage;return{get:function(t){try{return e?e.getItem(t):-1===document.cookie.indexOf(t)?null:((document.cookie||"").match(RegExp(t+"=([^;]+)"))||[])[1]||null}catch(n){return}},set:function(t,n){try{if(e)return e.setItem(t,n)&&0;document.cookie=t+"="+n+"; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/"}catch(r){return}}}}();c.PNmessage=f.PNmessage,e.exports=c},function(e,t){e.exports={name:"pubnub",preferGlobal:!1,version:"4.0.0-beta1",author:"PubNub <support@pubnub.com>",description:"Publish & Subscribe Real-time Messaging with PubNub",contributors:[{name:"Stephen Blum",email:"stephen@pubnub.com"}],bin:{},scripts:{test:"grunt test --force"},main:"./node.js/pubnub.js",browser:"./modern/dist/pubnub.js",repository:{type:"git",url:"git://github.com/pubnub/javascript.git"},keywords:["cloud","publish","subscribe","websockets","comet","bosh","xmpp","real-time","messaging"],dependencies:{agentkeepalive:"~0.2",bunyan:"^1.5.1",lodash:"^4.1.0",loglevel:"^1.4.0",uuid:"^2.0.1"},noAnalyze:!1,devDependencies:{"babel-core":"^6.6.5","babel-eslint":"5.0.0","babel-plugin-transform-class-properties":"^6.6.0","babel-plugin-transform-flow-strip-types":"^6.6.5","babel-preset-es2015":"^6.6.0","babel-register":"^6.6.5",chai:"3.5.0",eslint:"2.2.0","eslint-config-airbnb":"6.0.2","eslint-plugin-flowtype":"2.1.0","eslint-plugin-mocha":"2.0.0","eslint-plugin-react":"4.1.0","flow-bin":"^0.22.1",gulp:"^3.9.1","gulp-babel":"^6.1.2","gulp-clean":"^0.3.2","gulp-exec":"^2.1.2","gulp-flowtype":"^0.4.9","gulp-mocha":"^2.2.0","gulp-rename":"^1.2.2","gulp-webpack":"^1.5.0","imports-loader":"0.6.5",isparta:"4.0.0","json-loader":"0.5.4",karma:"0.13.21","karma-chai":"0.1.0","karma-mocha":"^0.2.2","karma-phantomjs-launcher":"1.0.0","karma-spec-reporter":"0.0.24","load-grunt-tasks":"^3.4.1",mocha:"2.4.5","node-uuid":"1.4.7","phantomjs-prebuilt":"2.1.4",proxyquire:"1.7.4","run-sequence":"^1.1.5",sinon:"^1.17.3","uglify-js":"^2.6.2",underscore:"1.7.0",webpack:"^1.12.14","webpack-dev-server":"1.14.1"},bundleDependencies:[],license:"MIT",engine:{node:">=0.8"}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return"x"+ ++F+ +new Date}function o(){z||(z=1,K.each(G,function(e){e()}))}function a(e){var t=e||{apns:{}};return t.getPubnubMessage=function(){var e={};if(Object.keys(t.apns).length){e.pn_apns={aps:{alert:t.apns.alert,badge:t.apns.badge}};for(var n in t.apns)e.pn_apns[n]=t.apns[n];var r=["badge","alert"];for(var n in r)delete e.pn_apns[r[n]]}t.gcm&&(e.pn_gcm={data:t.gcm});for(var n in t)e[n]=t[n];var i=["apns","gcm","publish","channel","callback","error"];for(var n in i)delete e[i[n]];return e},t.publish=function(){var e=t.getPubnubMessage();t.pubnub&&t.channel&&t.pubnub.publish({message:e,channel:t.channel,callback:t.callback,error:t.error})},t}function s(e){function t(e,t){return j.encrypt(e,t||M.getCipherKey())||e}function n(e,t){return j.decrypt(e,t||M.getCipherKey())||j.decrypt(e,M.getCipherKey())||e}function r(){return clearTimeout(ve),!N.getHeartbeatInterval()||N.getHeartbeatInterval()>=500||N.getHeartbeatInterval()<1||!F.generate_channel_list(!0).length&&!F.generate_channel_group_list(!0).length?void(me=!1):(me=!0,void Se.presence_heartbeat({callback:function(e){ve=K.timeout(r,N.getHeartbeatInterval()*$)},error:function(e){P&&P("Presence Heartbeat unable to reach Pubnub servers."+JSON.stringify(e)),ve=K.timeout(r,N.getHeartbeatInterval()*$)}}))}function a(){!me&&r()}function s(e){if(_e){if(!ue.length)return}else{if(e&&(ue.sending=0),ue.sending||!ue.length)return;ue.sending=1}A(ue.shift())}function u(e){var t=0;return K.each(F.generate_channel_group_list(),function(n){var r=F.getChannelGroup(n);r&&(t++,(e||function(){})(r))}),t}function h(e){var t=0;return K.each(F.generate_channel_list(),function(n){var r=F.getChannel(n);r&&(t++,(e||function(){})(r))}),t}function p(){be()||v(1,{error:"Offline. Please check your network settings."}),ke&&clearTimeout(ke),ke=K.timeout(p,$)}function g(){se&&Se.time(function(e){b(function(){},e),e||v(1,{error:"Heartbeat failed to connect to Pubnub Servers.Please check your network settings."}),Ee&&clearTimeout(Ee),Ee=K.timeout(g,ae)})}function v(e,t){pe&&pe(e,t),pe=null,clearTimeout(ke),clearTimeout(Ee)}function _(e){var t=K.rnow()-fe;return t-e/1e4}function b(e,t){function n(t){if(t){var n=t/1e4,i=(K.rnow()-r)/2;fe=K.rnow()-(n+i),e&&e(fe)}}var r=K.rnow();t&&n(t)||Se.time(n)}var k="undefined"!=typeof e.use_send_beacon?e.use_send_beacon:!0,S=k?e.sendBeacon:null,A=e.xdr,I=e.db||{get:function(){},set:function(){}},P=e.error||function(){},U=e.hmac_SHA256,j=e.crypto_obj||{encrypt:function(e){return e},decrypt:function(e){return e}},M=(new d["default"]).setInstanceId(f["default"].v4()).setAuthKey(e.auth_key||"").setSecretKey(e.secret_key||"").setSubscribeKey(e.subscribe_key).setPublishKey(e.publish_key).setCipherKey(e.cipher_key);M.setUUID(e.uuid||!e.unique_uuid&&I.get(M.getSubscribeKey()+"uuid")||f["default"].v4()),I.set(M.getSubscribeKey()+"uuid",M.getUUID());var N=(new y["default"]).setRequestIdConfig(e.use_request_id||!1).setPresenceTimeout(K.validateHeartbeat(e.heartbeat||e.pnexpires||0,P)).setSupressLeaveEvents(e.noleave||0).setInstanceIdConfig(e.instance_id||!1);N.setHeartbeatInterval(e.heartbeat_interval||N.getPresenceTimeout()/2-1);var F=new m["default"],Y=new l["default"](e.xdr,M,e.ssl,e.origin).addBeaconDispatcher(S).setCoreParams(e.params||{}),W=new E["default"]({keychain:M,config:N,networking:Y}),Q=new T["default"]({keychain:M,config:N,networking:Y,error:P}),V=new O["default"]({keychain:M,config:N,networking:Y,error:P,state:F}),Z=new x["default"]({keychain:M,networking:Y,error:P,decrypt:n}),ee=new C["default"]({keychain:M,config:N,networking:Y,error:P,hmac_SHA256:U}),te=new R["default"]({keychain:M,networking:Y,error:P}),ne=new D["default"]({keychain:M,networking:Y,config:N,error:P}),re=new B["default"]({keychain:M,networking:Y,presenceEndpoints:V,state:F}),ie=+e.windowing||H,oe=(+e.timeout||q)*$,ae=(+e.keepalive||J)*$,se=e.timecheck||0,ce=function(){},ue=[],fe=0,he=0,le=0,pe=0,de=e.restore||0,ge=0,ye=!1,ve=null,me=!1,_e=e.no_wait_for_pending,be=e._is_online||function(){return 1},we=e.shutdown,ke=void 0,Ee=void 0;2===N.getPresenceTimeout()&&N.setHeartbeatInterval(1);var Se={history:function(e,t){Z.fetchHistory(e,t)},time:function(e){W.fetchTime(e)},here_now:function(e,t){V.hereNow(e,t)},where_now:function(e,t){V.whereNow(e,t)},presence_heartbeat:function(e){V.heartbeat(e)},state:function(e,t){V.performState(e,t)},grant:function(e,t){ee.performGrant(e,t)},audit:function(e,t){ee.performAudit(e,t)},mobile_gw_provision:function(e){Q.provisionDevice(e)},replay:function(e,t){te.performReplay(e,t)},channel_group:function(e,t){ne.channelGroup(e,t)},channel_group_list_groups:function(e,t){ne.listGroups(e,t)},channel_group_remove_group:function(e,t){ne.removeGroup(e,t)},channel_group_list_channels:function(e,t){ne.listChannels(e,t)},channel_group_add_channel:function(e,t){ne.addChannel(e,t)},channel_group_remove_channel:function(e,t){ne.removeChannel(e,t)},set_resumed:function(e){ye=e},get_cipher_key:function(){return M.getCipherKey()},set_cipher_key:function(e){M.setCipherKey(e)},raw_encrypt:function(e,n){return t(e,n)},raw_decrypt:function(e,t){return n(e,t)},get_heartbeat:function(){return N.getPresenceTimeout()},set_heartbeat:function(e,t){N.setPresenceTimeout(K.validateHeartbeat(e,N.getPresenceTimeout(),P)),N.setHeartbeatInterval(t||N.getPresenceTimeout()/2-1),2===N.getPresenceTimeout()&&N.setHeartbeatInterval(1),ce(),r()},get_heartbeat_interval:function(){return N.getHeartbeatInterval()},set_heartbeat_interval:function(e){N.setHeartbeatInterval(e),r()},get_version:function(){return X},getGcmMessageObject:function(e){return{data:e}},getApnsMessageObject:function(e){var t={aps:{badge:1,alert:""}};for(var n in e)n[t]=e[n];return t},_add_param:function(e,t){Y.addCoreParam(e,t)},auth:function(e){M.setAuthKey(e),ce()},publish:function(e,n){var r=e.message;if(!r)return P("Missing Message");var i,n=n||e.callback||r.callback||e.success||function(){},o=e.channel||r.channel,a=e.auth_key||M.getAuthKey(),c=e.cipher_key,u=e.error||r.error||function(){},f=e.post||!1,h="store_in_history"in e?e.store_in_history:!0,l="push",p={uuid:M.getUUID(),auth:a};return e.prepend&&(l="unshift"),o?M.getPublishKey()?M.getSubscribeKey()?(r.getPubnubMessage&&(r=r.getPubnubMessage()),r=JSON.stringify(t(r,c)),i=[Y.getStandardOrigin(),"publish",M.getPublishKey(),M.getSubscribeKey(),0,K.encode(o),0,K.encode(r)],h||(p.store="0"),N.isInstanceIdEnabled()&&(p.instanceid=M.getInstanceId()),ue[l]({url:i,data:Y.prepareParams(p),fail:function(e){w["default"].error(e,u),s(1)},success:function(e){w["default"].callback(e,n,u),s(1)},mode:f?"POST":"GET"}),void s()):P("Missing Subscribe Key"):P("Missing Publish Key"):P("Missing Channel")},unsubscribe:function(e,t){ge=0,de=1,re.performUnsubscribe(e,t),ce()},subscribe:function(e,t){function r(e){e?K.timeout(ce,S):(Y.shiftStandardOrigin(!0),Y.shiftSubscribeOrigin(!0),K.timeout(function(){Se.time(r)},$)),h(function(t){return e&&t.disconnected?(t.disconnected=0,t.reconnect(t.name)):void(e||t.disconnected||(t.disconnected=1,t.disconnect(t.name)))}),u(function(t){return e&&t.disconnected?(t.disconnected=0,t.reconnect(t.name)):void(e||t.disconnected||(t.disconnected=1,t.disconnect(t.name)))})}function i(){var e=F.generate_channel_list().join(","),t=F.generate_channel_group_list().join(",");if(e||t){e||(e=","),v();var o=Y.prepareParams({uuid:M.getUUID(),auth:M.getAuthKey()});t&&(o["channel-group"]=t);var s=JSON.stringify(F.getPresenceState());s.length>2&&(o.state=JSON.stringify(F.getPresenceState())),N.getPresenceTimeout()&&(o.heartbeat=N.getPresenceTimeout()),N.isInstanceIdEnabled()&&(o.instanceid=M.getInstanceId()),a(),pe=A({timeout:E,fail:function(e){e&&e.error&&e.service?(w["default"].error(e,d),r(!1)):Se.time(function(t){!t&&w["default"].error(e,d),r(t)})},data:Y.prepareParams(o),url:[Y.getSubscribeOrigin(),"subscribe",M.getSubscribeKey(),K.encode(e),0,ge],success:function(e){if(!e||"object"==("undefined"==typeof e?"undefined":c(e))&&"error"in e&&e.error)return d(e),K.timeout(ce,$);if(g(e[1]),ge=!ge&&de&&I.get(M.getSubscribeKey())||e[1],h(function(e){e.connected||(e.connected=1,e.connect(e.name))}),u(function(e){e.connected||(e.connected=1,e.connect(e.name))}),ye&&!de)return ge=0,ye=!1,I.set(M.getSubscribeKey(),0),void K.timeout(i,S);b&&(ge=1e4,b=0),I.set(M.getSubscribeKey(),e[1]);var t=function(){var t="",n="";e.length>3?(t=e[3],n=e[2]):t=e.length>2?e[2]:K.map(F.generate_channel_list(),function(t){return K.map(Array(e[0].length).join(",").split(","),function(){return t})}).join(",");var r=t.split(","),i=n?n.split(","):[];return function(){var e=r.shift()||le,t=i.shift(),n={};t?(e&&e.indexOf("-pnpres")>=0&&t.indexOf("-pnpres")<0&&(t+="-pnpres"),n=F.getChannelGroup(t)||F.getChannel(t)||{callback:function(){}}):n=F.getChannel(e);var o=[n.callback||he,e.split(L.PRESENCE_SUFFIX)[0]];return t&&o.push(t.split(L.PRESENCE_SUFFIX)[0]),o}}(),r=_(+e[1]);K.each(e[0],function(i){var o=t(),a=n(i,F.getChannel(o[1])?F.getChannel(o[1]).cipher_key:null);o[0]&&o[0](a,e,o[2]||o[1],r,o[1])}),K.timeout(i,S)}})}}var o=e.channel,s=e.channel_group,t=t||e.callback,t=t||e.message,f=e.connect||function(){},l=e.reconnect||function(){},p=e.disconnect||function(){},d=e.error||d||function(){},g=e.idle||function(){},y=e.presence||0,m=e.noheresync||0,b=e.backfill||0,k=e.timetoken||0,E=e.timeout||oe,S=e.windowing||ie,O=e.state,x=e.heartbeat||e.pnexpires,T=e.heartbeat_interval,C=e.restore||de;return M.setAuthKey(e.auth_key||M.getAuthKey()),de=C,ge=k,o||s?t?M.getSubscribeKey()?((x||0===x||T||0===T)&&Se.set_heartbeat(x,T),o&&K.each((o.join?o.join(","):""+o).split(","),function(n){var r=F.getChannel(n)||{};F.addChannel(le=n,{name:n,connected:r.connected,disconnected:r.disconnected,subscribed:1,callback:he=t,cipher_key:e.cipher_key,connect:f,disconnect:p,reconnect:l}),O&&(n in O?F.addToPresenceState(n,O[n]):F.addToPresenceState(n,O)),y&&(Se.subscribe({channel:n+L.PRESENCE_SUFFIX,callback:y,restore:C}),r.subscribed||m||Se.here_now({channel:n,data:Y.prepareParams({uuid:M.getUUID(),auth:M.getAuthKey()}),callback:function(e){K.each("uuids"in e?e.uuids:[],function(t){y({action:"join",uuid:t,timestamp:Math.floor(K.rnow()/1e3),occupancy:e.occupancy||1},e,n)})}}))}),s&&K.each((s.join?s.join(","):""+s).split(","),function(n){var r=F.getChannelGroup(n)||{};F.addChannelGroup(n,{name:n,connected:r.connected,disconnected:r.disconnected,subscribed:1,callback:he=t,cipher_key:e.cipher_key,connect:f,disconnect:p,reconnect:l}),y&&(Se.subscribe({channel_group:n+L.PRESENCE_SUFFIX,callback:y,restore:C,auth_key:M.getAuthKey()}),r.subscribed||m||Se.here_now({channel_group:n,data:Y.prepareParams({uuid:M.getUUID(),auth:M.getAuthKey()}),callback:function(e){K.each("uuids"in e?e.uuids:[],function(t){y({action:"join",uuid:t,timestamp:Math.floor(K.rnow()/1e3),occupancy:e.occupancy||1},e,n)})}}))}),ce=function(){v(),K.timeout(i,S)},z?void ce():G.push(ce)):P("Missing Subscribe Key"):P("Missing Callback"):P("Missing Channel")},revoke:function(e,t){e.read=!1,e.write=!1,Se.grant(e,t)},set_uuid:function(e){M.setUUID(e),ce()},get_uuid:function(){return M.getUUID()},isArray:function(e){return K.isArray(e)},get_subscribed_channels:function(){return F.generate_channel_list(!0)},stop_timers:function(){clearTimeout(ke),clearTimeout(Ee),clearTimeout(ve)},shutdown:function(){Se.stop_timers(),we&&we()},xdr:A,ready:o,db:I,uuid:K.generateUUID,map:K.map,each:K.each,"each-channel":h,grep:K.grep,offline:function(){v(1,{message:"Offline. Please check your network settings."})},supplant:K.supplant,now:K.rnow,unique:i,updater:K.updater};return ke=K.timeout(p,$),Ee=K.timeout(g,ae),ve=K.timeout(a,(N.getHeartbeatInterval()-3)*$),b(),Se}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=n(3),f=r(u),h=n(5),l=r(h),p=n(6),d=r(p),g=n(9),y=r(g),v=n(10),m=r(v),_=n(11),b=(r(_),n(45)),w=r(b),k=n(65),E=r(k),S=n(66),O=r(S),A=n(67),x=r(A),I=n(68),T=r(I),P=n(69),C=r(P),U=n(70),R=r(U),j=n(71),D=r(j),M=n(72),B=r(M),N=n(1),L=n(8),K=n(7),F=1,z=!1,G=[],H=10,Y=15e3,q=310,J=60,$=1e3,X=N.version;e.exports={PN_API:s,unique:i,PNmessage:a,DEF_TIMEOUT:Y,timeout:K.timeout,build_url:K.buildURL,each:K.each,uuid:K.generateUUID,URLBIT:L.URLBIT,grep:K.grep,supplant:K.supplant,now:K.rnow,updater:K.updater,map:K.map}},function(e,t,n){function r(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>i&&(t[r+i++]=u[e])});16>i;)t[r+i++]=0;return t}function i(e,t){var n=t||0,r=c;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function o(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:p,s=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:g+1,u=s-d+(c-g)/1e4;if(0>u&&void 0===e.clockseq&&(a=a+1&16383),(0>u||s>d)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=s,g=c,p=a,s+=122192928e5;var f=(1e4*(268435455&s)+c)%4294967296;o[r++]=f>>>24&255,o[r++]=f>>>16&255,o[r++]=f>>>8&255,o[r++]=255&f;var h=s/4294967296*1e4&268435455;o[r++]=h>>>8&255,o[r++]=255&h,o[r++]=h>>>24&15|16,o[r++]=h>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var y=e.node||l,v=0;6>v;v++)o[r+v]=y[v];return t?t:i(o)}function a(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;16>a;a++)t[r+a]=o[a];return t||i(o)}for(var s=n(4),c=[],u={},f=0;256>f;f++)c[f]=(f+256).toString(16).substr(1),u[c[f]]=f;var h=s(),l=[1|h[0],h[1],h[2],h[3],h[4],h[5]],p=16383&(h[6]<<8|h[7]),d=0,g=0,y=a;y.v1=o,y.v4=a,y.parse=r,y.unparse=i,e.exports=y},function(e,t){(function(t){var n;if(t.crypto&&crypto.getRandomValues){var r=new Uint8Array(16);n=function(){return crypto.getRandomValues(r),r}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(6),s=(r(a),n(7)),c=function(){function e(t,n){var r=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=arguments.length<=3||void 0===arguments[3]?"pubsub.pubnub.com":arguments[3];i(this,e),this._xdr=t,this._keychain=n,this._maxSubDomain=20,this._currentSubDomain=Math.floor(Math.random()*this._maxSubDomain),this._providedFQDN=(r?"https://":"http://")+o,this._coreParams={},this.shiftStandardOrigin(!1),this.shiftSubscribeOrigin(!1)}return o(e,[{key:"setCoreParams",value:function(e){return this._coreParams=e,this}},{key:"addCoreParam",value:function(e,t){this._coreParams[e]=t}},{key:"addBeaconDispatcher",value:function(e){return this._sendBeacon=e,this}},{key:"prepareParams",value:function(e){return e||(e={}),s.each(this._coreParams,function(t,n){t in e||(e[t]=n)}),e}},{key:"nextOrigin",value:function(e){if(-1===this._providedFQDN.indexOf("pubsub."))return this._providedFQDN;var t=void 0;return e?t=s.generateUUID().split("-")[0]:(this._currentSubDomain=this._currentSubDomain+1,this._currentSubDomain>=this._maxSubDomain&&(this._currentSubDomain=1),t=this._currentSubDomain.toString()),this._providedFQDN.replace("pubsub","ps"+t)}},{key:"shiftStandardOrigin",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return this._standardOrigin=this.nextOrigin(e),this._standardOrigin}},{key:"shiftSubscribeOrigin",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return this._subscribeOrigin=this.nextOrigin(e),this._subscribeOrigin}},{key:"fetchHistory",value:function(e,t){var n=t.data,r=t.success,i=t.fail,o=[this.getStandardOrigin(),"v2","history","sub-key",this._keychain.getSubscribeKey(),"channel",s.encode(e)];this._xdr({data:n,success:r,fail:i,url:o})}},{key:"performChannelGroupOperation",value:function(e,t,n){var r=n.data,i=n.success,o=n.fail,a=[this.getStandardOrigin(),"v1","channel-registration","sub-key",this._keychain.getSubscribeKey(),"channel-group"];e&&"*"!==e&&a.push(e),"remove"===t&&a.push("remove"),this._xdr({data:r,success:i,fail:o,url:a})}},{key:"provisionDeviceForPush",value:function(e,t){var n=t.data,r=t.success,i=t.fail,o=[this.getStandardOrigin(),"v1","push","sub-key",this._keychain.getSubscribeKey(),"devices",e];this._xdr({data:n,success:r,fail:i,url:o})}},{key:"performGrant",value:function(e){var t=e.data,n=e.success,r=e.fail,i=[this.getStandardOrigin(),"v1","auth","grant","sub-key",this._keychain.getSubscribeKey()];this._xdr({data:t,success:n,fail:r,url:i})}},{key:"performHeartbeat",value:function(e,t){var n=t.data,r=t.success,i=t.fail,o=[this.getStandardOrigin(),"v2","presence","sub-key",this._keychain.getSubscribeKey(),"channel",e,"heartbeat"];this._xdr({data:n,success:r,fail:i,url:o})}},{key:"performState",value:function(e,t,n,r){var i=r.data,o=r.success,a=r.fail,c=[this.getStandardOrigin(),"v2","presence","sub-key",this._keychain.getSubscribeKey(),"channel",t];e?c.push("uuid",n,"data"):c.push("uuid",s.encode(n)),this._xdr({data:i,success:o,fail:a,url:c})}},{key:"performAudit",value:function(e){var t=e.data,n=e.success,r=e.fail,i=[this.getStandardOrigin(),"v1","auth","audit","sub-key",this._keychain.getSubscribeKey()];this._xdr({data:t,success:n,fail:r,url:i})}},{key:"performChannelLeave",value:function(e,t){var n=t.data,r=t.success,i=t.fail,o=this.nextOrigin(!1),a=[o,"v2","presence","sub_key",this._keychain.getSubscribeKey(),"channel",s.encode(e),"leave"];this._sendBeacon?this._sendBeacon(s.buildURL(a,n))&&r({status:200,action:"leave",message:"OK",service:"Presence"}):this._xdr({data:n,success:r,fail:i,url:a})}},{key:"performChannelGroupLeave",value:function(e){var t=e.data,n=e.success,r=e.fail,i=this.nextOrigin(!1),o=[i,"v2","presence","sub_key",this._keychain.getSubscribeKey(),"channel",s.encode(","),"leave"];"undefined"!=typeof this._sendBeacon?this._sendBeacon(s.buildURL(o,t))&&n({status:200,action:"leave",message:"OK",service:"Presence"}):this._xdr({data:t,success:n,fail:r,url:o})}},{key:"fetchReplay",value:function(e,t,n){var r=n.data,i=n.success,o=n.fail,a=[this.getStandardOrigin(),"v1","replay",this._keychain.getPublishKey(),this._keychain.getSubscribeKey(),e,t];this._xdr({data:r,success:i,fail:o,url:a})}},{key:"fetchTime",value:function(e){var t=e.data,n=e.success,r=e.fail,i=[this.getStandardOrigin(),"time",0];this._xdr({data:t,success:n,fail:r,url:i})}},{key:"fetchWhereNow",value:function(e,t){var n=t.data,r=t.success,i=t.fail,o=[this.getStandardOrigin(),"v2","presence","sub_key",this._keychain.getSubscribeKey(),"uuid",s.encode(e)];this._xdr({data:n,success:r,fail:i,url:o})}},{key:"fetchHereNow",value:function(e,t,n){var r=n.data,i=n.success,o=n.fail,a=[this.getStandardOrigin(),"v2","presence","sub_key",this._keychain.getSubscribeKey()];e&&(a.push("channel"),a.push(s.encode(e))),t&&!e&&(a.push("channel"),a.push(",")),this._xdr({data:r,success:i,fail:o,url:a})}},{key:"performPublish",value:function(e,t,n){var r=n.data,i=n.callback,o=n.success,a=n.fail,c=n.mode,u=[this.getStandardOrigin(),"publish",this._keychain.getPublishKey(),this._keychain.getSubscribeKey(),0,s.encode(e),0,s.encode(t)];this._xdr({data:r,callback:i,success:o,fail:a,url:u,mode:c})}},{key:"getOrigin",value:function(){return this._providedFQDN}},{key:"getStandardOrigin",value:function(){return this._standardOrigin}},{key:"getSubscribeOrigin",value:function(){return this._subscribeOrigin}}]),e}();t["default"]=c},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){n(this,e)}return r(e,[{key:"setUUID",value:function(e){return this._UUID=e,this}},{key:"setCipherKey",value:function(e){return this._cipherKey=e,this}},{key:"setSubscribeKey",value:function(e){return this._subscribeKey=e,this}},{key:"setPublishKey",value:function(e){return this._publishKey=e,this}},{key:"setAuthKey",value:function(e){return this._authKey=e,this}},{key:"setInstanceId",value:function(e){return this._instanceId=e,this}},{key:"setSecretKey",value:function(e){return this._secretKey=e,this}},{key:"getCipherKey",value:function(){return this._cipherKey}},{key:"getSubscribeKey",value:function(){return this._subscribeKey}},{key:"getPublishKey",value:function(){return this._publishKey}},{key:"getAuthKey",value:function(){return this._authKey}},{key:"getInstanceId",value:function(){return this._instanceId}},{key:"getSecretKey",value:function(){return this._secretKey}},{key:"getUUID",value:function(){return this._UUID}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return+new Date}function o(e){return!!e&&"string"!=typeof e&&(Array.isArray&&Array.isArray(e)||"number"==typeof e.length)}function a(e,t){if(e&&t)if(o(e))for(var n=0,r=e.length;r>n;)t.call(e[n],e[n],n++);else for(var n in e)e.hasOwnProperty&&e.hasOwnProperty(n)&&t.call(e[n],n,e[n])}function s(e){return encodeURIComponent(e)}function c(e,t){var n=e.join(E.URLBIT),r=[];return t?(a(t,function(e,t){var n="object"===("undefined"==typeof t?"undefined":b(t))?JSON.stringify(t):t;"undefined"!=typeof t&&null!==t&&s(n).length>0&&r.push(e+"="+s(n))}),n+="?"+r.join(E.PARAMSBIT)):n}function u(e,t){var n,r=0,o=function a(){r+t>i()?(clearTimeout(n),n=setTimeout(a,t)):(r=i(),e())};return o}function f(e,t){var n=[];return a(e||[],function(e){t(e)&&n.push(e)}),n}function h(e,t){return e.replace(S,function(e,n){return t[n]||e})}function l(e,t){return"undefined"!=typeof setTimeout?setTimeout(e,t):void 0}function p(e){var t=k["default"].v4();return e&&e(t),t}function d(e,t){var n=[];return a(e||[],function(e,r){n.push(t(e,r))}),n}function g(e){return encodeURIComponent(e).replace(/[!'()*~]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function y(e){var t=[];return a(e,function(e){t.push(e)}),t}function v(e){return y(e).sort()}function m(e){var t=v(e);return d(t,function(t){return t+"="+g(e[t])}).join("&")}function _(e,t,n){var r=!1;if("undefined"==typeof e)return t;if("number"==typeof e)r=!(e>E._minimumHeartbeatInterval||0===e);else{if("boolean"==typeof e)return e?E._defaultHeartbeatInterval:0;r=!0}if(r){if(n){var i="Presence Heartbeat value invalid. Valid range ( x >";i+=E._minimumHeartbeatInterval+" or x = 0). Current Value : ",i+=t||E._minimumHeartbeatInterval,n(i)}return t||E._minimumHeartbeatInterval}return e}var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},w=n(3),k=r(w),E=n(8),S=/{([\w\-]+)}/g;e.exports={buildURL:c,encode:s,each:a,updater:u,rnow:i,isArray:o,map:d,pamEncode:g,generateUUID:p,timeout:l,supplant:h,grep:f,_get_pam_sign_input_from_params:m,_object_to_key_list_sorted:v,_object_to_key_list:y,validateHeartbeat:_}},function(e,t){e.exports={PARAMSBIT:"&",URLBIT:"/",defaultHeartbeatInterval:30,minimumHeartbeatInterval:5,PRESENCE_SUFFIX:"-pnpres"}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){n(this,e),this._instanceId=!1,this._requestId=!1}return r(e,[{key:"setInstanceIdConfig",value:function(e){return this._instanceId=e,this}},{key:"setRequestIdConfig",value:function(e){return this._requestId=e,this}},{key:"setHeartbeatInterval",value:function(e){return this._heartbeatInterval=e,this}},{key:"setPresenceTimeout",value:function(e){return this._presenceTimeout=e,this}},{key:"setSupressLeaveEvents",value:function(e){return this._suppressLeaveEvents=e,this}},{key:"isInstanceIdEnabled",value:function(){return this._instanceId}},{key:"isRequestIdEnabled",value:function(){return this._requestId}},{key:"isSuppressingLeaveEvents",value:function(){return this._suppressLeaveEvents}},{key:"getHeartbeatInterval",value:function(){return this._heartbeatInterval}},{key:"getPresenceTimeout",value:function(){return this._presenceTimeout}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),s=r(a),c=function(){function e(){i(this,e),this._channelStorage={},this._channelGroupStorage={},this._presenceState={}}return o(e,[{key:"containsChannel",value:function(e){return e in this._channelStorage}},{key:"containsChannelGroup",value:function(e){return e in this._channelGroupStorage}},{key:"getChannel",value:function(e){return this._channelStorage[e]}},{key:"getChannelGroup",value:function(e){return this._channelGroupStorage[e]}},{key:"addChannel",value:function(e,t){this._channelStorage[e]=t}},{key:"addChannelGroup",value:function(e,t){this._channelGroupStorage[e]=t}},{key:"addToPresenceState",value:function(e,t){this._presenceState[e]=t}},{key:"isInPresenceState",value:function(e){return e in this._presenceState}},{key:"removeFromPresenceState",value:function(e){delete this._presenceState[e]}},{key:"getPresenceState",value:function(){return this._presenceState}},{key:"setIsReady",value:function(e){this._ready=e}},{key:"getIsReady",value:function(){return this._ready}},{key:"generate_channel_list",value:function(e){var t=[];return s["default"].each(this._channelStorage,function(n,r){e?n.search("-pnpres")<0&&r.subscribed&&t.push(n):r.subscribed&&t.push(n)}),t.sort()}},{key:"generate_channel_group_list",value:function(e){var t=[];return s["default"].each(this._channelGroupStorage,function(n,r){e?n.search("-pnpres")<0&&r.subscribed&&t.push(n):r.subscribed&&t.push(n)}),t.sort()}}]),e}();t["default"]=c},function(e,t,n){(function(t,r){function i(e){if(null==e)return e;if(Array.isArray(e))return e.slice();if("object"==typeof e){var t={};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}return e}function o(){if(void 0!==this){var e={},t=Error.stackTraceLimit,n=Error.prepareStackTrace;return Error.stackTraceLimit=3,Error.captureStackTrace(this,o),Error.prepareStackTrace=function(t,n){var r=n[2];T&&(r=T.wrapCallSite(r)),e.file=r.getFileName(),e.line=r.getLineNumber();var i=r.getFunctionName();i&&(e.func=i)},this.stack,Error.stackTraceLimit=t,Error.prepareStackTrace=n,e}}function a(e,t){t||(t="    ");var n=e.split(/\r?\n/g);return t+n.join("\n"+t)}function s(e,n){if(S.ok(e),n){if(j[n])return;j[n]=!0}t.stderr.write(e+"\n")}function c(e){return j[e]}function u(){}function f(e){var t="string"==typeof e?F[e.toLowerCase()]:e;return t}function h(e,n,r){if(m("Logger start:",e),
!(this instanceof h))return new h(e,n);var o;if(void 0!==n&&(o=e,e=n,!(o instanceof h)))throw new TypeError("invalid Logger creation: do not pass a second arg");if(!e)throw new TypeError("options (object) is required");if(o){if(e.name)throw new TypeError("invalid options.name: child cannot set logger name")}else if(!e.name)throw new TypeError("options.name (string) is required");if(e.stream&&e.streams)throw new TypeError('cannot mix "streams" and "stream" options');if(e.streams&&!Array.isArray(e.streams))throw new TypeError("invalid options.streams: must be an array");if(e.serializers&&("object"!=typeof e.serializers||Array.isArray(e.serializers)))throw new TypeError("invalid options.serializers: must be an object");if(O.call(this),o&&r){this._isSimpleChild=!0,this._level=o._level,this.streams=o.streams,this.serializers=o.serializers,this.src=o.src;for(var a=this.fields={},s=Object.keys(o.fields),c=0;c<s.length;c++){var f=s[c];a[f]=o.fields[f]}for(var l=Object.keys(e),c=0;c<l.length;c++){var f=l[c];a[f]=e[f]}}else{var p=this;if(o){this._level=o._level,this.streams=[];for(var c=0;c<o.streams.length;c++){var d=i(o.streams[c]);d.closeOnExit=!1,this.streams.push(d)}this.serializers=i(o.serializers),this.src=o.src,this.fields=i(o.fields),e.level&&this.level(e.level)}else this._level=Number.POSITIVE_INFINITY,this.streams=[],this.serializers=null,this.src=!1,this.fields={};if(!G&&w){G=w.createDTraceProvider("bunyan");for(var g in F){var y;H[F[g]]=y=G.addProbe("log-"+g,"char *"),y.dtp=G}G.enable()}e.stream?p.addStream({type:"stream",stream:e.stream,closeOnExit:!1,level:e.level}):e.streams?e.streams.forEach(function(t){p.addStream(t,e.level)}):o&&e.level?this.level(e.level):o||(I?p.addStream({type:"raw",stream:new u,closeOnExit:!1,level:e.level}):p.addStream({type:"stream",stream:t.stdout,closeOnExit:!1,level:e.level})),e.serializers&&p.addSerializers(e.serializers),e.src&&(this.src=!0),m("Logger: ",p);var a=i(e);delete a.stream,delete a.level,delete a.streams,delete a.serializers,delete a.src,this.serializers&&this._applySerializers(a),a.hostname||(a.hostname=_.hostname()),a.pid||(a.pid=t.pid),Object.keys(a).forEach(function(e){p.fields[e]=a[e]})}}function l(e){return function(){function t(t){var s;t[0]instanceof Error?(a={err:n.serializers&&n.serializers.err?n.serializers.err(t[0]):h.stdSerializers.err(t[0])},s={err:!0},u=1===t.length?[a.err.message]:Array.prototype.slice.call(t,1)):"object"!=typeof t[0]&&null!==t[0]||Array.isArray(t[0])?(a=null,u=Array.prototype.slice.call(t)):r.isBuffer(t[0])?(a=null,u=Array.prototype.slice.call(t),u[0]=E.inspect(u[0])):(a=t[0],u=Array.prototype.slice.call(t,1));var c=i(n.fields),f=(c.level=e,a?i(a):null);return f&&(n.serializers&&n._applySerializers(f,s),Object.keys(f).forEach(function(e){c[e]=f[e]})),c.msg=C.apply(n,u),c.time||(c.time=new Date),n.src&&!c.src&&(c.src=o()),c.v=v,c}var n=this,a=null,u=arguments,f=null,l=null;if(this._emit){if(0===arguments.length)return this._level<=e;this._level>e||(l=t(u),f=this._emit(l)),H&&H[e].fire(function(){return[f||l&&n._emit(l,!0)||n._emit(t(u),!0)]})}else{var p="unbound";if(!c[p]){var d=o();s(C("bunyan usage error: %s:%s: attempt to log with an unbound log method: `this` is: %s",d.file,d.line,E.inspect(this)),p)}}}}function p(e){var t=e.stack||e.toString();if(e.cause&&"function"==typeof e.cause){var n=e.cause();n&&(t+="\nCaused by: "+p(n))}return t}function d(){var e=[];return function(t,n){return n&&"object"==typeof n?-1!==e.indexOf(n)?"[Circular]":(e.push(n),n):n}}function g(e){this.limit=e&&e.limit?e.limit:100,this.writable=!0,this.records=[],O.call(this)}var y="1.5.1",v=0,m=function(e){var t=["XXX: "+e].concat(Array.prototype.slice.call(arguments,1));console.error.apply(this,t)},m=function(){};if("undefined"==typeof window){var _=n(17),b=n(!function(){var e=new Error('Cannot find module "fs"');throw e.code="MODULE_NOT_FOUND",e}());try{var w=n(18)}catch(k){w=null}}else var _={hostname:function(){return window.location.host}},b={},w=null;var E=n(20),S=n(23),O=n(24).EventEmitter;try{var A=n(25)}catch(k){A=null}t.env.BUNYAN_TEST_NO_SAFE_JSON_STRINGIFY&&(A=null);try{var x=n(26)}catch(k){x=null}var I=function(){return"undefined"!=typeof window}();try{var T=n(!function(){var e=new Error('Cannot find module "source-map-support"');throw e.code="MODULE_NOT_FOUND",e}())}catch(P){T=null}var C=E.format;if(!C){var U=E.inspect,R=/%[sdj%]/g;C=function(e){if("string"!=typeof e){for(var t=[],n=0;n<arguments.length;n++)t.push(U(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,o=String(e).replace(R,function(e){if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":return JSON.stringify(r[n++],d());case"%%":return"%";default:return e}}),a=r[n];i>n;a=r[++n])o+=null===a||"object"!=typeof a?" "+a:" "+U(a);return o}}var j={};u.prototype.write=function(e){e.level<B?console.log(e):e.level<N?console.info(e):e.level<L?console.warn(e):console.error(e)};var D=10,M=20,B=30,N=40,L=50,K=60,F={trace:D,debug:M,info:B,warn:N,error:L,fatal:K},z={};Object.keys(F).forEach(function(e){z[F[e]]=e});var G=void 0,H=w&&{};E.inherits(h,O),h.prototype.addStream=function(e,t){var n=this;null!==t&&void 0!==t||(t=B),e=i(e);e.type;switch(e.type||(e.stream?e.type="stream":e.path&&(e.type="file")),e.raw="raw"===e.type,e.level?e.level=f(e.level):e.level=f(t),e.level<n._level&&(n._level=e.level),e.type){case"stream":e.closeOnExit||(e.closeOnExit=!1);break;case"file":e.stream?e.closeOnExit||(e.closeOnExit=!1):(e.stream=b.createWriteStream(e.path,{flags:"a",encoding:"utf8"}),e.stream.on("error",function(t){n.emit("error",t,e)}),e.closeOnExit||(e.closeOnExit=!0));break;case"rotating-file":S.ok(!e.stream,'"rotating-file" stream should not give a "stream"'),S.ok(e.path),S.ok(x,'"rotating-file" stream type is not supported: missing "mv" module'),e.stream=new Y(e),e.closeOnExit||(e.closeOnExit=!0);break;case"raw":e.closeOnExit||(e.closeOnExit=!1);break;default:throw new TypeError('unknown stream type "'+e.type+'"')}n.streams.push(e),delete n.haveNonRawStreams},h.prototype.addSerializers=function(e){var t=this;t.serializers||(t.serializers={}),Object.keys(e).forEach(function(n){var r=e[n];if("function"!=typeof r)throw new TypeError(C('invalid serializer for "%s" field: must be a function',n));t.serializers[n]=r})},h.prototype.child=function(e,t){return new this.constructor(this,e||{},t)},h.prototype.reopenFileStreams=function(){var e=this;e.streams.forEach(function(t){"file"===t.type&&(t.stream&&(t.stream.end(),t.stream.destroySoon(),delete t.stream),t.stream=b.createWriteStream(t.path,{flags:"a",encoding:"utf8"}),t.stream.on("error",function(n){e.emit("error",n,t)}))})},h.prototype.level=function(e){if(void 0===e)return this._level;for(var t=f(e),n=this.streams.length,r=0;n>r;r++)this.streams[r].level=t;this._level=t},h.prototype.levels=function(e,t){if(void 0===e)return S.equal(t,void 0),this.streams.map(function(e){return e.level});var n;if("number"==typeof e){if(n=this.streams[e],void 0===n)throw new Error("invalid stream index: "+e)}else{for(var r=this.streams.length,i=0;r>i;i++){var o=this.streams[i];if(o.name===e){n=o;break}}if(!n)throw new Error(C('no stream with name "%s"',e))}if(void 0===t)return n.level;var a=f(t);n.level=a,a<this._level&&(this._level=a)},h.prototype._applySerializers=function(e,t){var n=this;m("_applySerializers: excludeFields",t),Object.keys(this.serializers).forEach(function(r){if(!(void 0===e[r]||t&&t[r])){m('_applySerializers; apply to "%s" key',r);try{e[r]=n.serializers[r](e[r])}catch(i){s(C('bunyan: ERROR: Exception thrown from the "%s" Bunyan serializer. This should never happen. This is a bugin that serializer function.\n%s',r,i.stack||i)),e[r]=C('(Error in Bunyan log "%s" serializer broke field. See stderr for details.)',r)}}})},h.prototype._emit=function(e,t){var n;if(void 0===this.haveNonRawStreams)for(this.haveNonRawStreams=!1,n=0;n<this.streams.length;n++)if(!this.streams[n].raw){this.haveNonRawStreams=!0;break}var r;if(t||this.haveNonRawStreams)try{r=JSON.stringify(e,d())+"\n"}catch(i){if(A)r=A(e)+"\n";else{var o=i.stack.split(/\n/g,2).join("\n");s('bunyan: ERROR: Exception in `JSON.stringify(rec)`. You can install the "safe-json-stringify" module to have Bunyan fallback to safer stringification. Record:\n'+a(C("%s\n%s",E.inspect(e),i.stack)),o),r=C("(Exception in JSON.stringify(rec): %j. See stderr for details.)\n",i.message)}}if(t)return r;var c=e.level;for(n=0;n<this.streams.length;n++){var u=this.streams[n];u.level<=c&&(m('writing log rec "%s" to "%s" stream (%d <= %d): %j',e.msg,u.type,u.level,c,e),u.stream.write(u.raw?e:r))}return r},h.prototype.trace=l(D),h.prototype.debug=l(M),h.prototype.info=l(B),h.prototype.warn=l(N),h.prototype.error=l(L),h.prototype.fatal=l(K),h.stdSerializers={},h.stdSerializers.req=function q(q){return q&&q.connection?{method:q.method,url:q.url,headers:q.headers,remoteAddress:q.connection.remoteAddress,remotePort:q.connection.remotePort}:q},h.stdSerializers.res=function J(J){return J&&J.statusCode?{statusCode:J.statusCode,header:J._header}:J};var Y=(h.stdSerializers.err=function $($){if(!$||!$.stack)return $;var e={message:$.message,name:$.name,stack:p($),code:$.code,signal:$.signal};return e},null);x&&(Y=function(e){if(this.path=e.path,this.stream=b.createWriteStream(this.path,{flags:"a",encoding:"utf8"}),this.count=null==e.count?10:e.count,S.equal(typeof this.count,"number",C('rotating-file stream "count" is not a number: %j (%s) in %j',this.count,typeof this.count,this)),S.ok(this.count>=0,C('rotating-file stream "count" is not >= 0: %j in %j',this.count,this)),e.period){var t={hourly:"1h",daily:"1d",weekly:"1w",monthly:"1m",yearly:"1y"}[e.period]||e.period,n=/^([1-9][0-9]*)([hdwmy]|ms)$/.exec(t);if(!n)throw new Error(C('invalid period: "%s"',e.period));this.periodNum=Number(n[1]),this.periodScope=n[2]}else this.periodNum=1,this.periodScope="d";this.rotQueue=[],this.rotating=!1,this._setupNextRot()},E.inherits(Y,O),Y.prototype._setupNextRot=function(){var e=this;this.rotAt=this._nextRotTime();var t=this.rotAt-Date.now(),n=2147483647;t>n&&(t=n),this.timeout=setTimeout(function(){e.rotate()},t),"function"==typeof this.timeout.unref&&this.timeout.unref()},Y.prototype._nextRotTime=function(e){var t=!1;t&&console.log("-- _nextRotTime: %s%s",this.periodNum,this.periodScope);var n=new Date;t&&console.log("  now local: %s",n),t&&console.log("    now utc: %s",n.toISOString());var r;switch(this.periodScope){case"ms":r=this.rotAt?this.rotAt+this.periodNum:Date.now()+this.periodNum;break;case"h":r=this.rotAt?this.rotAt+60*this.periodNum*60*1e3:Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()+1);break;case"d":r=this.rotAt?this.rotAt+24*this.periodNum*60*60*1e3:Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()+1);break;case"w":r=this.rotAt?this.rotAt+7*this.periodNum*24*60*60*1e3:Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()+(7-n.getUTCDay()));break;case"m":r=this.rotAt?Date.UTC(n.getUTCFullYear(),n.getUTCMonth()+this.periodNum,1):Date.UTC(n.getUTCFullYear(),n.getUTCMonth()+1,1);break;case"y":r=this.rotAt?Date.UTC(n.getUTCFullYear()+this.periodNum,0,1):Date.UTC(n.getUTCFullYear()+1,0,1);break;default:S.fail(C('invalid period scope: "%s"',this.periodScope))}if(t){console.log("  **rotAt**: %s (utc: %s)",r,new Date(r).toUTCString());var i=Date.now();console.log("        now: %s (%sms == %smin == %sh to go)",i,r-i,(r-i)/1e3/60,(r-i)/1e3/60/60)}return r},Y.prototype.rotate=function(){function e(){var e=i.path+"."+String(a-1);0===a&&(e=i.path),a-=1,o&&console.log("rm %s",e),b.unlink(e,function(e){n()})}function n(){if(0===i.count||0>a)return r();var e=i.path,s=i.path+"."+String(a);a>0&&(e+="."+String(a-1)),a-=1,b.exists(e,function(a){a?(o&&console.log("[pid %s] mv %s %s",t.pid,e,s),x(e,s,function(e){e?(i.emit("error",e),r()):n()})):n()})}function r(){o&&console.log("[pid %s] open %s",t.pid,i.path),i.stream=b.createWriteStream(i.path,{flags:"a",encoding:"utf8"});for(var e=i.rotQueue,n=e.length,r=0;n>r;r++)i.stream.write(e[r]);i.rotQueue=[],i.rotating=!1,i.emit("drain"),i._setupNextRot()}var i=this,o=!1;if(i.rotAt&&i.rotAt>Date.now())return i._setupNextRot();if(o&&console.log("-- [%s, pid=%s] rotating %s",new Date,t.pid,i.path),i.rotating)throw new TypeError("cannot start a rotation when already rotating");i.rotating=!0,i.stream.end();var a=this.count;e()},Y.prototype.write=function(e){return this.rotating?(this.rotQueue.push(e),!1):this.stream.write(e)},Y.prototype.end=function(e){this.stream.end()},Y.prototype.destroy=function(e){this.stream.destroy()},Y.prototype.destroySoon=function(e){this.stream.destroySoon()}),E.inherits(g,O),g.prototype.write=function(e){if(!this.writable)throw new Error("RingBuffer has been ended already");return this.records.push(e),this.records.length>this.limit&&this.records.shift(),!0},g.prototype.end=function(){arguments.length>0&&this.write.apply(this,Array.prototype.slice.call(arguments)),this.writable=!1},g.prototype.destroy=function(){this.writable=!1,this.emit("close")},g.prototype.destroySoon=function(){this.destroy()},e.exports=h,e.exports.TRACE=D,e.exports.DEBUG=M,e.exports.INFO=B,e.exports.WARN=N,e.exports.ERROR=L,e.exports.FATAL=K,e.exports.resolveLevel=f,e.exports.levelFromName=F,e.exports.nameFromLevel=z,e.exports.VERSION=y,e.exports.LOG_VERSION=v,e.exports.createLogger=function(e){return new h(e)},e.exports.RingBuffer=g,e.exports.RotatingFileStream=Y,e.exports.safeCycles=d}).call(t,n(12),n(13).Buffer)},function(e,t){function n(){u=!1,a.length?c=a.concat(c):f=-1,c.length&&r()}function r(){if(!u){var e=setTimeout(n);u=!0;for(var t=c.length;t;){for(a=c,c=[];++f<t;)a&&a[f].run();f=-1,t=c.length}a=null,u=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function o(){}var a,s=e.exports={},c=[],u=!1,f=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new i(e,t)),1!==c.length||u||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,n){(function(e,r){"use strict";function i(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}function o(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(t){return this instanceof e?(e.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?a(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):c(this,t)):arguments.length>1?new e(t,arguments[1]):new e(t)}function a(t,n){if(t=g(t,0>n?0:0|y(n)),!e.TYPED_ARRAY_SUPPORT)for(var r=0;n>r;r++)t[r]=0;return t}function s(e,t,n){"string"==typeof n&&""!==n||(n="utf8");var r=0|m(t,n);return e=g(e,r),e.write(t,n),e}function c(t,n){if(e.isBuffer(n))return u(t,n);if(W(n))return f(t,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return h(t,n);if(n instanceof ArrayBuffer)return l(t,n)}return n.length?p(t,n):d(t,n)}function u(e,t){var n=0|y(t.length);return e=g(e,n),t.copy(e,0,0,n),e}function f(e,t){var n=0|y(t.length);e=g(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function h(e,t){var n=0|y(t.length);e=g(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function l(t,n){return e.TYPED_ARRAY_SUPPORT?(n.byteLength,t=e._augment(new Uint8Array(n))):t=h(t,new Uint8Array(n)),t}function p(e,t){var n=0|y(t.length);e=g(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function d(e,t){var n,r=0;"Buffer"===t.type&&W(t.data)&&(n=t.data,r=0|y(n.length)),e=g(e,r);for(var i=0;r>i;i+=1)e[i]=255&n[i];return e}function g(t,n){e.TYPED_ARRAY_SUPPORT?(t=e._augment(new Uint8Array(n)),t.__proto__=e.prototype):(t.length=n,t._isBuffer=!0);var r=0!==n&&n<=e.poolSize>>>1;return r&&(t.parent=Q),t}function y(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function v(t,n){if(!(this instanceof v))return new v(t,n);var r=new e(t,n);return delete r.parent,r}function m(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return G(e).length;t=(""+t).toLowerCase(),r=!0}}function _(e,t,n){var r=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return T(this,t,n);case"binary":return P(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;r>a;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function w(e,t,n,r){return J(G(t,e.length-n),e,n,r)}function k(e,t,n,r){return J(H(t),e,n,r)}function E(e,t,n,r){return k(e,t,n,r)}function S(e,t,n,r){return J(q(t),e,n,r)}function O(e,t,n,r){return J(Y(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?$.fromByteArray(e):$.fromByteArray(e.slice(t,n))}function x(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;n>i;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n>=i+s){var c,u,f,h;switch(s){case 1:128>o&&(a=o);break;case 2:c=e[i+1],128===(192&c)&&(h=(31&o)<<6|63&c,h>127&&(a=h));break;case 3:c=e[i+1],u=e[i+2],128===(192&c)&&128===(192&u)&&(h=(15&o)<<12|(63&c)<<6|63&u,h>2047&&(55296>h||h>57343)&&(a=h));break;case 4:c=e[i+1],u=e[i+2],f=e[i+3],128===(192&c)&&128===(192&u)&&128===(192&f)&&(h=(15&o)<<18|(63&c)<<12|(63&u)<<6|63&f,h>65535&&1114112>h&&(a=h))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return I(r)}function I(e){var t=e.length;if(V>=t)return String.fromCharCode.apply(String,e);for(var n="",r=0;t>r;)n+=String.fromCharCode.apply(String,e.slice(r,r+=V));return n}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(e[i]);return r}function C(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;n>o;o++)i+=z(e[o]);return i}function U(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,n,r,i,o,a){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(n>o||a>n)throw new RangeError("value is out of bounds");if(r+i>t.length)throw new RangeError("index out of range")}function D(e,t,n,r){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);o>i;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);o>i;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function B(e,t,n,r,i,o){if(t>i||o>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function N(e,t,n,r,i){return i||B(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,i){return i||B(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(e,t,n,r,52,8),n+8}function K(e){if(e=F(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function F(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function z(e){return 16>e?"0"+e.toString(16):e.toString(16)}function G(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;r>a;a++){if(n=e.charCodeAt(a),n>55295&&57344>n){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function Y(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);a++)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function q(e){return $.toByteArray(K(e))}function J(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}var $=n(14),X=n(15),W=n(16);t.Buffer=e,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var Q={};e.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),e.TYPED_ARRAY_SUPPORT?(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array):(e.prototype.length=void 0,e.prototype.parent=void 0),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,i=n.length,o=0,a=Math.min(r,i);a>o&&t[o]===n[o];)++o;return o!==a&&(r=t[o],i=n[o]),i>r?-1:r>i?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!W(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;r++)n+=t[r].length;var i=new e(n),o=0;for(r=0;r<t.length;r++){var a=t[r];a.copy(i,o),o+=a.length}return i},e.byteLength=m,e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):_.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,n){function r(e,t,n){for(var r=-1,i=0;n+i<e.length;i++)if(e[n+i]===t[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===t.length)return n+r}else r=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,n);if(e.isBuffer(t))return r(this,t,n);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,n):r(this,[t],n);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=t,t=0|n,n=i}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return k(this,e,t,n);case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var V=4096;e.prototype.slice=function(t,n){var r=this.length;t=~~t,n=void 0===n?r:~~n,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),t>n&&(n=t);var i;if(e.TYPED_ARRAY_SUPPORT)i=e._augment(this.subarray(t,n));else{var o=n-t;i=new e(o,void 0);for(var a=0;o>a;a++)i[a]=this[a+t]}return i.length&&(i.parent=this.parent||this),i},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},e.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},e.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),X.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),X.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),X.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),X.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||j(this,e,t,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||j(this,e,t,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},e.prototype.writeUInt8=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):D(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):D(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):M(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):M(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=0,a=1,s=0>e?1:0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0>e?1:0;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},e.prototype.writeInt8=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):D(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):D(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):M(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):M(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&r>i&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var o,a=i-r;if(this===t&&n>r&&i>n)for(o=a-1;o>=0;o--)t[o+n]=this[o+r];else if(1e3>a||!e.TYPED_ARRAY_SUPPORT)for(o=0;a>o;o++)t[o+n]=this[o+r];else t._set(this.subarray(r,r+a),n);return a},e.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;n>r;r++)this[r]=e;else{var i=G(e.toString()),o=i.length;for(r=t;n>r;r++)this[r]=i[r%o]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),n=0,r=t.length;r>n;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Z=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._set=t.set,t.get=Z.get,t.set=Z.set,t.write=Z.write,t.toString=Z.toString,t.toLocaleString=Z.toString,t.toJSON=Z.toJSON,t.equals=Z.equals,t.compare=Z.compare,t.indexOf=Z.indexOf,t.copy=Z.copy,t.slice=Z.slice,t.readUIntLE=Z.readUIntLE,t.readUIntBE=Z.readUIntBE,t.readUInt8=Z.readUInt8,t.readUInt16LE=Z.readUInt16LE,t.readUInt16BE=Z.readUInt16BE,t.readUInt32LE=Z.readUInt32LE,t.readUInt32BE=Z.readUInt32BE,
t.readIntLE=Z.readIntLE,t.readIntBE=Z.readIntBE,t.readInt8=Z.readInt8,t.readInt16LE=Z.readInt16LE,t.readInt16BE=Z.readInt16BE,t.readInt32LE=Z.readInt32LE,t.readInt32BE=Z.readInt32BE,t.readFloatLE=Z.readFloatLE,t.readFloatBE=Z.readFloatBE,t.readDoubleLE=Z.readDoubleLE,t.readDoubleBE=Z.readDoubleBE,t.writeUInt8=Z.writeUInt8,t.writeUIntLE=Z.writeUIntLE,t.writeUIntBE=Z.writeUIntBE,t.writeUInt16LE=Z.writeUInt16LE,t.writeUInt16BE=Z.writeUInt16BE,t.writeUInt32LE=Z.writeUInt32LE,t.writeUInt32BE=Z.writeUInt32BE,t.writeIntLE=Z.writeIntLE,t.writeIntBE=Z.writeIntBE,t.writeInt8=Z.writeInt8,t.writeInt16LE=Z.writeInt16LE,t.writeInt16BE=Z.writeInt16BE,t.writeInt32LE=Z.writeInt32LE,t.writeInt32BE=Z.writeInt32BE,t.writeFloatLE=Z.writeFloatLE,t.writeFloatBE=Z.writeFloatBE,t.writeDoubleLE=Z.writeDoubleLE,t.writeDoubleBE=Z.writeDoubleBE,t.fill=Z.fill,t.inspect=Z.inspect,t.toArrayBuffer=Z.toArrayBuffer,t};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(13).Buffer,function(){return this}())},function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a||t===h?62:t===s||t===l?63:c>t?-1:c+10>t?t-c+26+26:f+26>t?t-f:u+26>t?t-u+26:void 0}function n(e){function n(e){u[h++]=e}var r,i,a,s,c,u;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=e.length;c="="===e.charAt(f-2)?2:"="===e.charAt(f-1)?1:0,u=new o(3*e.length/4-c),a=c>0?e.length-4:e.length;var h=0;for(r=0,i=0;a>r;r+=4,i+=3)s=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===c?(s=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&s)):1===c&&(s=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(s>>8&255),n(255&s)),u}function i(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,o,a,s=e.length%3,c="";for(i=0,a=e.length-s;a>i;i+=3)o=(e[i]<<16)+(e[i+1]<<8)+e[i+2],c+=n(o);switch(s){case 1:o=e[e.length-1],c+=t(o>>2),c+=t(o<<4&63),c+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],c+=t(o>>10),c+=t(o>>4&63),c+=t(o<<2&63),c+="="}return c}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),c="0".charCodeAt(0),u="a".charCodeAt(0),f="A".charCodeAt(0),h="-".charCodeAt(0),l="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=i}(t)},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,f=-7,h=n?i-1:0,l=n?-1:1,p=e[t+h];for(h+=l,o=p&(1<<-f)-1,p>>=-f,f+=s;f>0;o=256*o+e[t+h],h+=l,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+e[t+h],h+=l,f-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),o-=u}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,f=(1<<u)-1,h=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),t+=a+h>=1?l/c:l*Math.pow(2,1-h),t*c>=2&&(a++,c/=2),a+h>=f?(s=0,a=f):a+h>=1?(s=(t*c-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+p]=255&a,p+=d,a/=256,u-=8);e[n+p-d]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n"},function(e,t,n){(function(e){function n(){}var r;n.prototype.addProbe=function(e){var t={fire:function(){}};return this[e]=t,t},n.prototype.enable=function(){},n.prototype.fire=function(){},n.prototype.disable=function(){};var i=["Release","default","Debug"];for(var o in i)try{var a=!function(){var e=new Error('Cannot find module "./build"');throw e.code="MODULE_NOT_FOUND",e}();r=a.DTraceProvider;break}catch(s){"darwin"!=e.platform&&"solaris"!=e.platform&&"freebsd"!=e.platform||console.error(s)}r||(r=n),t.DTraceProvider=r,t.createDTraceProvider=function(e,n){return 2==arguments.length?new t.DTraceProvider(e,n):new t.DTraceProvider(e)}}).call(t,n(12))},function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=19},function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&t._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),c(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function c(e,n,r){if(e.customInspect&&n&&A(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return _(i)||(i=c(e,i,r)),i}var o=u(e,n);if(o)return o;var a=Object.keys(n),g=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),O(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(A(n)){var y=n.name?": "+n.name:"";return e.stylize("[Function"+y+"]","special")}if(k(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return f(n)}var v="",m=!1,b=["{","}"];if(d(n)&&(m=!0,b=["[","]"]),A(n)){var w=n.name?": "+n.name:"";v=" [Function"+w+"]"}if(k(n)&&(v=" "+RegExp.prototype.toString.call(n)),S(n)&&(v=" "+Date.prototype.toUTCString.call(n)),O(n)&&(v=" "+f(n)),0===a.length&&(!m||0==n.length))return b[0]+v+b[1];if(0>r)return k(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var E;return E=m?h(e,n,r,g,a):a.map(function(t){return l(e,n,r,g,t,m)}),e.seen.pop(),p(E,v,b)}function u(e,t){if(w(t))return e.stylize("undefined","undefined");if(_(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i){for(var o=[],a=0,s=t.length;s>a;++a)C(t,String(a))?o.push(l(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(l(e,t,n,r,i,!0))}),o}function l(e,t,n,r,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),C(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=y(n)?c(e,u.value,null):c(e,u.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function d(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function y(e){return null===e}function v(e){return null==e}function m(e){return"number"==typeof e}function _(e){return"string"==typeof e}function b(e){return"symbol"==typeof e}function w(e){return void 0===e}function k(e){return E(e)&&"[object RegExp]"===I(e)}function E(e){return"object"==typeof e&&null!==e}function S(e){return E(e)&&"[object Date]"===I(e)}function O(e){return E(e)&&("[object Error]"===I(e)||e instanceof Error)}function A(e){return"function"==typeof e}function x(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function I(e){return Object.prototype.toString.call(e)}function T(e){return 10>e?"0"+e.toString(10):e.toString(10)}function P(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var U=/%[sdj%]/g;t.format=function(e){if(!_(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(U,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];o>n;s=r[++n])a+=y(s)||!E(s)?" "+s:" "+i(s);return a},t.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(w(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var a=!1;return o};var R,j={};t.debuglog=function(e){if(w(R)&&(R=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!j[e])if(new RegExp("\\b"+e+"\\b","i").test(R)){var n=r.pid;j[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else j[e]=function(){};return j[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=g,t.isNull=y,t.isNullOrUndefined=v,t.isNumber=m,t.isString=_,t.isSymbol=b,t.isUndefined=w,t.isRegExp=k,t.isObject=E,t.isDate=S,t.isError=O,t.isFunction=A,t.isPrimitive=x,t.isBuffer=n(21);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",P(),t.format.apply(t,arguments))},t.inherits=n(22),t._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,function(){return this}(),n(12))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){function r(e,t){return p.isUndefined(t)?""+t:p.isNumber(t)&&!isFinite(t)?t.toString():p.isFunction(t)||p.isRegExp(t)?t.toString():t}function i(e,t){return p.isString(e)?e.length<t?e:e.slice(0,t):e}function o(e){return i(JSON.stringify(e.actual,r),128)+" "+e.operator+" "+i(JSON.stringify(e.expected,r),128)}function a(e,t,n,r,i){throw new y.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function s(e,t){e||a(e,!0,t,"==",y.ok)}function c(e,t){if(e===t)return!0;if(p.isBuffer(e)&&p.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return p.isDate(e)&&p.isDate(t)?e.getTime()===t.getTime():p.isRegExp(e)&&p.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:p.isObject(e)||p.isObject(t)?f(e,t):e==t}function u(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function f(e,t){if(p.isNullOrUndefined(e)||p.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(p.isPrimitive(e)||p.isPrimitive(t))return e===t;var n=u(e),r=u(t);if(n&&!r||!n&&r)return!1;if(n)return e=d.call(e),t=d.call(t),c(e,t);var i,o,a=v(e),s=v(t);if(a.length!=s.length)return!1;for(a.sort(),s.sort(),o=a.length-1;o>=0;o--)if(a[o]!=s[o])return!1;for(o=a.length-1;o>=0;o--)if(i=a[o],!c(e[i],t[i]))return!1;return!0}function h(e,t){return e&&t?"[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t?!0:t.call({},e)===!0:!1}function l(e,t,n,r){var i;p.isString(n)&&(r=n,n=null);try{t()}catch(o){i=o}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&a(i,n,"Missing expected exception"+r),!e&&h(i,n)&&a(i,n,"Got unwanted exception"+r),e&&i&&n&&!h(i,n)||!e&&i)throw i}var p=n(20),d=Array.prototype.slice,g=Object.prototype.hasOwnProperty,y=e.exports=s;y.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var t=e.stackStartFunction||a;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=t.name,s=r.indexOf("\n"+i);if(s>=0){var c=r.indexOf("\n",s+1);r=r.substring(c+1)}this.stack=r}}},p.inherits(y.AssertionError,Error),y.fail=a,y.ok=s,y.equal=function(e,t,n){e!=t&&a(e,t,n,"==",y.equal)},y.notEqual=function(e,t,n){e==t&&a(e,t,n,"!=",y.notEqual)},y.deepEqual=function(e,t,n){c(e,t)||a(e,t,n,"deepEqual",y.deepEqual)},y.notDeepEqual=function(e,t,n){c(e,t)&&a(e,t,n,"notDeepEqual",y.notDeepEqual)},y.strictEqual=function(e,t,n){e!==t&&a(e,t,n,"===",y.strictEqual)},y.notStrictEqual=function(e,t,n){e===t&&a(e,t,n,"!==",y.notStrictEqual)},y["throws"]=function(e,t,n){l.apply(this,[!0].concat(d.call(arguments)))},y.doesNotThrow=function(e,t){l.apply(this,[!1].concat(d.call(arguments)))},y.ifError=function(e){if(e)throw e};var v=Object.keys||function(e){var t=[];for(var n in e)g.call(e,n)&&t.push(n);return t}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),u=n.slice(),i=u.length,c=0;i>c;c++)u[c].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){function n(e){return"[Throws: "+(e?e.message:"?")+"]"}function r(e,t){if(o.call(e,t))try{return e[t]}catch(r){return n(r)}return e[t]}function i(e){function t(e){if(null===e||"object"!=typeof e)return e;if(-1!==i.indexOf(e))return"[Circular]";if(i.push(e),"function"==typeof e.toJSON)try{return t(e.toJSON())}catch(o){return n(o)}return Array.isArray(e)?e.map(t):Object.keys(e).reduce(function(n,i){return n[i]=t(r(e,i)),n},{})}var i=[];return t(e)}var o=Object.prototype.hasOwnProperty;e.exports=function(e){return JSON.stringify(i(e))},e.exports.ensureProperties=i},function(e,t,n){function r(e,t,n,r){function s(){f(c.dirname(t),function(e){return e?r(e):void u()})}function u(){l?a.rename(e,t,function(n){return n?"EXDEV"!==n.code?r(n):void i(e,t,l,p,r):r()}):a.link(e,t,function(n){return n?"EXDEV"===n.code?void i(e,t,l,p,r):"EISDIR"===n.code||"EPERM"===n.code?void o(e,t,l,p,r):void r(n):void a.unlink(e,r)})}"function"==typeof n&&(r=n,n={});var h=!!n.mkdirp,l=n.clobber!==!1,p=n.limit||16;h?s():u()}function i(e,t,n,r,i){function s(){a.unlink(e,i)}var c=n?"w":"wx",u=a.createReadStream(e),f=a.createWriteStream(t,{flags:c});u.on("error",function(a){u.destroy(),f.destroy(),f.removeListener("close",s),"EISDIR"===a.code||"EPERM"===a.code?o(e,t,n,r,i):i(a)}),f.on("error",function(e){u.destroy(),f.destroy(),f.removeListener("close",s),i(e)}),f.once("close",s),u.pipe(f)}function o(e,t,n,r,i){function o(){s(e,t,a,function(t){return t?i(t[0]):void u(e,{disableGlob:!0},i)})}var a={stopOnErr:!0,clobber:!1,limit:r};n?u(t,{disableGlob:!0},function(e){return e?i(e):void o()}):o()}var a=n(!function(){var e=new Error('Cannot find module "fs"');throw e.code="MODULE_NOT_FOUND",e}()),s=n(27).ncp,c=n(29),u=n(30),f=n(44);e.exports=r},function(e,t,n){(function(t,r){function i(e,n,s,c){function u(e){if(j++,x)if(x instanceof RegExp){if(!x.test(e))return k(!0)}else if("function"==typeof x&&!x(e))return k(!0);return f(e)}function f(e){var t=U?o.stat:o.lstat;return M>=B?r(function(){f(e)}):(M++,void t(e,function(t,n){var r={};return t?w(t):(r.name=e,r.mode=n.mode,r.mtime=n.mtime,r.atime=n.atime,n.isDirectory()?d(r):n.isFile()?h(r):n.isSymbolicLink()?v(e):void 0)}))}function h(e){var t=e.name.replace(O,A);I&&(t=I(t)),b(t,function(n){if(n)return l(e,t);if(P&&p(t,function(){l(e,t)}),!C)return k();var r=U?o.stat:o.lstat;r(t,function(n,r){return e.mtime.getTime()>r.mtime.getTime()?void l(e,t):k()})})}function l(e,t){var n=o.createReadStream(e.name),r=o.createWriteStream(t,{mode:e.mode});n.on("error",w),r.on("error",w),T?T(n,r,e):r.on("open",function(){n.pipe(r)}),r.once("finish",function(){C?(o.utimesSync(t,e.atime,e.mtime),k()):k()})}function p(e,t){o.unlink(e,function(e){return e?w(e):t()})}function d(e){var t=e.name.replace(O,A);b(t,function(n){return n?g(e,t):void y(e.name)})}function g(e,t){o.mkdir(t,e.mode,function(t){return t?w(t):void y(e.name)})}function y(e){o.readdir(e,function(t,n){return t?w(t):(n.forEach(function(t){u(a.join(e,t))}),k())})}function v(e){var t=e.replace(O,A);o.readlink(e,function(e,n){return e?w(e):void m(n,t)})}function m(e,t){U&&(e=a.resolve(S,e)),b(t,function(n){return n?_(e,t):void o.readlink(t,function(n,r){return n?w(n):(U&&(r=a.resolve(S,r)),r===e?k():p(t,function(){_(e,t)}))})})}function _(e,t){o.symlink(e,t,function(e){return e?w(e):k()})}function b(e,t){o.lstat(e,function(e){return t(e?"ENOENT"===e.code?!0:!1:!1)})}function w(e){return s.stopOnError?E(e):(!R&&s.errs?R=o.createWriteStream(s.errs):R||(R=[]),"undefined"==typeof R.write?R.push(e):R.write(e.stack+"\n\n"),k())}function k(e){return e||M--,D++,j===D&&0===M&&void 0!==E?E(R?R:null):void 0}var E=c;c||(E=s,s={});var S=t.cwd(),O=a.resolve(S,e),A=a.resolve(S,n),x=s.filter,I=s.rename,T=s.transform,P=s.clobber!==!1,C=s.modified,U=s.dereference,R=null,j=0,D=0,M=0,B=s.limit||i.limit||16;B=1>B?1:B>512?512:B,u(O)}var o=n(!function(){var e=new Error('Cannot find module "fs"');throw e.code="MODULE_NOT_FOUND",e}()),a=n(29);e.exports=i,i.ncp=i}).call(t,n(12),n(28).setImmediate)},function(e,t,n){(function(e,r){function i(e,t){this._id=e,this._clearFn=t}var o=n(12).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,c={},u=0;t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=u++,r=arguments.length<2?!1:s.call(arguments,1);return c[n]=!0,o(function(){c[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete c[e]}}).call(t,n(28).setImmediate,n(28).clearImmediate)},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===a(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,c=0;a>c;c++)if(i[c]!==o[c]){s=c;break}for(var u=[],c=s;c<i.length;c++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(t,n(12))},function(e,t,n){(function(t){function r(e){var t=["unlink","chmod","stat","lstat","rmdir","readdir"];t.forEach(function(t){e[t]=e[t]||g[t],t+="Sync",e[t]=e[t]||g[t]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,e.disableGlob=e.disableGlob||!1}function i(e,t,n){function i(e){c=c||e,0===--u&&n(c)}function a(e,r){return e?n(e):(u=r.length,0===u?n():void r.forEach(function(e){o(e,t,function n(r){if(r){if(_&&("EBUSY"===r.code||"ENOTEMPTY"===r.code||"EPERM"===r.code)&&s<t.maxBusyTries){s++;var a=100*s;return setTimeout(function(){o(e,t,n)},a)}if("EMFILE"===r.code&&m<t.emfileWait)return setTimeout(function(){o(e,t,n)},m++);"ENOENT"===r.code&&(r=null)}m=0,i(r)})}))}"function"==typeof t&&(n=t,t={}),p(e,"rimraf: missing path"),p.equal(typeof e,"string","rimraf: path should be a string"),p(t,"rimraf: missing options"),p.equal(typeof t,"object","rimraf: options should be object"),p.equal(typeof n,"function","rimraf: callback function required"),r(t);var s=0,c=null,u=0;return t.disableGlob||!y.hasMagic(e)?a(null,[e]):void g.lstat(e,function(t,n){return t?void y(e,v,a):a(null,[e])})}function o(e,t,n){p(e),p(t),p("function"==typeof n),t.lstat(e,function(r,i){return r&&"ENOENT"===r.code?n(null):i&&i.isDirectory()?c(e,t,r,n):void t.unlink(e,function(r){if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return _?a(e,t,r,n):c(e,t,r,n);if("EISDIR"===r.code)return c(e,t,r,n)}return n(r)})})}function a(e,t,n,r){p(e),p(t),p("function"==typeof r),n&&p(n instanceof Error),t.chmod(e,666,function(i){i?r("ENOENT"===i.code?null:n):t.stat(e,function(i,o){i?r("ENOENT"===i.code?null:n):o.isDirectory()?c(e,t,n,r):t.unlink(e,r)})})}function s(e,t,n){p(e),p(t),n&&p(n instanceof Error);try{t.chmodSync(e,666)}catch(r){if("ENOENT"===r.code)return;throw n}try{var i=t.statSync(e)}catch(o){if("ENOENT"===o.code)return;throw n}i.isDirectory()?h(e,t,n):t.unlinkSync(e)}function c(e,t,n,r){p(e),p(t),n&&p(n instanceof Error),p("function"==typeof r),t.rmdir(e,function(i){!i||"ENOTEMPTY"!==i.code&&"EEXIST"!==i.code&&"EPERM"!==i.code?r(i&&"ENOTDIR"===i.code?n:i):u(e,t,r)})}function u(e,t,n){p(e),p(t),p("function"==typeof n),t.readdir(e,function(r,o){if(r)return n(r);var a=o.length;if(0===a)return t.rmdir(e,n);var s;o.forEach(function(r){i(d.join(e,r),t,function(r){return s?void 0:r?n(s=r):void(0===--a&&t.rmdir(e,n))})})})}function f(e,t){t=t||{},r(t),p(e,"rimraf: missing path"),p.equal(typeof e,"string","rimraf: path should be a string"),p(t,"rimraf: missing options"),p.equal(typeof t,"object","rimraf: options should be object");var n;if(t.disableGlob||!y.hasMagic(e))n=[e];else try{g.lstatSync(e),n=[e]}catch(i){n=y.sync(e,v)}if(n.length)for(var o=0;o<n.length;o++){var e=n[o];try{var a=t.lstatSync(e)}catch(i){if("ENOENT"===i.code)return}try{a&&a.isDirectory()?h(e,t,null):t.unlinkSync(e)}catch(i){if("ENOENT"===i.code)return;if("EPERM"===i.code)return _?s(e,t,i):h(e,t,i);if("EISDIR"!==i.code)throw i;h(e,t,i)}}}function h(e,t,n){p(e),p(t),n&&p(n instanceof Error);try{t.rmdirSync(e)}catch(r){if("ENOENT"===r.code)return;if("ENOTDIR"===r.code)throw n;"ENOTEMPTY"!==r.code&&"EEXIST"!==r.code&&"EPERM"!==r.code||l(e,t)}}function l(e,t){p(e),p(t),t.readdirSync(e).forEach(function(n){f(d.join(e,n),t)}),t.rmdirSync(e,t)}e.exports=i,i.sync=f;var p=n(23),d=n(29),g=n(!function(){var e=new Error('Cannot find module "fs"');throw e.code="MODULE_NOT_FOUND",e}()),y=n(31),v={nosort:!0,nocomment:!0,nonegate:!0,silent:!0},m=0,_="win32"===t.platform}).call(t,n(12))},function(e,t,n){(function(t){function r(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return d(e,t)}return new o(e,t,n)}function i(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function o(e,t,n){function r(){--a._processing,a._processing<=0&&a._finish()}if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new k(e,t)}if(!(this instanceof o))return new o(e,t,n);y(this,e,t),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),"function"==typeof n&&(n=w(n),this.on("error",n),this.on("end",function(e){n(null,e)}));var a=this,i=this.minimatch.set.length;if(this._processing=0,this.matches=new Array(i),this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===i)return r();for(var s=0;i>s;s++)this._process(this.minimatch.set[s],s,!1,r)}function a(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}e.exports=r;var s=n(!function(){var e=new Error('Cannot find module "fs"');throw e.code="MODULE_NOT_FOUND",e}()),c=n(32),u=(c.Minimatch,n(36)),f=n(24).EventEmitter,h=n(29),l=n(23),p=n(37),d=n(38),g=n(39),y=(g.alphasort,g.alphasorti,g.setopts),v=g.ownProp,m=n(40),_=(n(20),g.childrenIgnored),b=g.isIgnored,w=n(42);r.sync=d;var k=r.GlobSync=d.GlobSync;r.glob=r,r.hasMagic=function(e,t){var n=i({},t);n.noprocess=!0;var r=new o(e,n),a=r.minimatch.set;if(a.length>1)return!0;for(var s=0;s<a[0].length;s++)if("string"!=typeof a[0][s])return!0;return!1},r.Glob=o,u(o,f),o.prototype._finish=function(){if(l(this instanceof o),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();g.finish(this),this.emit("end",this.found)}},o.prototype._realpath=function(){function e(){0===--t&&n._finish()}if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var n=this,r=0;r<this.matches.length;r++)this._realpathSet(r,e)}},o.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),i=this,o=r.length;if(0===o)return t();var a=this.matches[e]=Object.create(null);r.forEach(function(n,r){n=i._makeAbs(n),s.realpath(n,i.realpathCache,function(r,s){r?"stat"===r.syscall?a[n]=!0:i.emit("error",r):a[s]=!0,0===--o&&(i.matches[e]=a,t())})})},o.prototype._mark=function(e){return g.mark(this,e)},o.prototype._makeAbs=function(e){return g.makeAbs(this,e)},o.prototype.abort=function(){this.aborted=!0,this.emit("abort")},o.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},o.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},o.prototype._process=function(e,t,n,r){if(l(this instanceof o),l("function"==typeof r),!this.aborted){if(this._processing++,this.paused)return void this._processQueue.push([e,t,n,r]);for(var i=0;"string"==typeof e[i];)i++;var a;switch(i){case e.length:return void this._processSimple(e.join("/"),t,r);
case 0:a=null;break;default:a=e.slice(0,i).join("/")}var s,u=e.slice(i);null===a?s=".":p(a)||p(e.join("/"))?(a&&p(a)||(a="/"+a),s=a):s=a;var f=this._makeAbs(s);if(_(this,s))return r();var h=u[0]===c.GLOBSTAR;h?this._processGlobStar(a,s,f,u,t,n,r):this._processReaddir(a,s,f,u,t,n,r)}},o.prototype._processReaddir=function(e,t,n,r,i,o,a){var s=this;this._readdir(n,o,function(c,u){return s._processReaddir2(e,t,n,r,i,o,u,a)})},o.prototype._processReaddir2=function(e,t,n,r,i,o,a,s){if(!a)return s();for(var c=r[0],u=!!this.minimatch.negate,f=c._glob,l=this.dot||"."===f.charAt(0),p=[],d=0;d<a.length;d++){var g=a[d];if("."!==g.charAt(0)||l){var y;y=u&&!e?!g.match(c):g.match(c),y&&p.push(g)}}var v=p.length;if(0===v)return s();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var d=0;v>d;d++){var g=p[d];e&&(g="/"!==e?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=h.join(this.root,g)),this._emitMatch(i,g)}return s()}r.shift();for(var d=0;v>d;d++){var g=p[d];e&&(g="/"!==e?e+"/"+g:e+g),this._process([g].concat(r),i,o,s)}s()},o.prototype._emitMatch=function(e,t){if(!this.aborted&&!this.matches[e][t]&&!b(this,t)){if(this.paused)return void this._emitQueue.push([e,t]);var n=this._makeAbs(t);if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.mark&&(t=this._mark(t)),this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}},o.prototype._readdirInGlobStar=function(e,t){function n(n,r){if(n)return t();var o=r.isSymbolicLink();i.symlinks[e]=o,o||r.isDirectory()?i._readdir(e,!1,t):(i.cache[e]="FILE",t())}if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var r="lstat\x00"+e,i=this,o=m(r,n);o&&s.lstat(e,o)}},o.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=m("readdir\x00"+e+"\x00"+t,n))){if(t&&!v(this.symlinks,e))return this._readdirInGlobStar(e,n);if(v(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return n();if(Array.isArray(r))return n(null,r)}s.readdir(e,a(this,e,n))}},o.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}},o.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":this.cache[this._makeAbs(e)]="FILE";break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},o.prototype._processGlobStar=function(e,t,n,r,i,o,a){var s=this;this._readdir(n,o,function(c,u){s._processGlobStar2(e,t,n,r,i,o,u,a)})},o.prototype._processGlobStar2=function(e,t,n,r,i,o,a,s){if(!a)return s();var c=r.slice(1),u=e?[e]:[],f=u.concat(c);this._process(f,i,!1,s);var h=this.symlinks[n],l=a.length;if(h&&o)return s();for(var p=0;l>p;p++){var d=a[p];if("."!==d.charAt(0)||this.dot){var g=u.concat(a[p],c);this._process(g,i,!0,s);var y=u.concat(a[p],r);this._process(y,i,!0,s)}}s()},o.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,function(i,o){r._processSimple2(e,t,i,o,n)})},o.prototype._processSimple2=function(e,n,r,i,o){if(this.matches[n]||(this.matches[n]=Object.create(null)),!i)return o();if(e&&p(e)&&!this.nomount){var a=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=h.join(this.root,e):(e=h.resolve(this.root,e),a&&(e+="/"))}"win32"===t.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(n,e),o()},o.prototype._stat=function(e,t){function n(n,i){return i&&i.isSymbolicLink()?s.stat(r,function(n,o){n?u._stat2(e,r,null,i,t):u._stat2(e,r,n,o,t)}):void u._stat2(e,r,n,i,t)}var r=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&v(this.cache,r)){var o=this.cache[r];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return t(null,o);if(i&&"FILE"===o)return t()}var a=this.statCache[r];if(void 0!==a){if(a===!1)return t(null,a);var c=a.isDirectory()?"DIR":"FILE";return i&&"FILE"===c?t():t(null,c,a)}var u=this,f=m("stat\x00"+r,n);f&&s.lstat(r,f)},o.prototype._stat2=function(e,t,n,r,i){if(n)return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&!r.isDirectory())return i(null,!1,r);var a=r.isDirectory()?"DIR":"FILE";return this.cache[t]=this.cache[t]||a,o&&"DIR"!==a?i():i(null,a,r)}}).call(t,n(12))},function(e,t,n){function r(e){return e.split("").reduce(function(e,t){return e[t]=!0,e},{})}function i(e,t){return t=t||{},function(n,r,i){return a(n,e,t)}}function o(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function a(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),n.nocomment||"#"!==t.charAt(0)?""===t.trim()?""===e:new s(t,n).match(e):!1}function s(e,t){if(!(this instanceof s))return new s(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==y.sep&&(e=e.split(y.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function c(){if(!this._made){var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(O)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n}}function u(){var e=this.pattern,t=!1,n=this.options,r=0;if(!n.nonegate){for(var i=0,o=e.length;o>i&&"!"===e.charAt(i);i++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}}function f(e,t){if(t||(t=this instanceof s?this.options:{}),e="undefined"==typeof e?this.pattern:e,"undefined"==typeof e)throw new Error("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:_(e)}function h(e,t){function n(){if(o){switch(o){case"*":s+=w,c=!0;break;case"?":s+=b,c=!0;break;default:s+="\\"+o}v.debug("clearStateChar %j %j",o,s),o=!1}}var r=this.options;if(!r.noglobstar&&"**"===e)return m;if(""===e)return"";for(var i,o,a,s="",c=!!r.nocase,u=!1,f=[],h=[],l=!1,p=-1,g=-1,y="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this,_=0,k=e.length;k>_&&(a=e.charAt(_));_++)if(this.debug("%s	%s %s %j",e,_,s,a),u&&S[a])s+="\\"+a,u=!1;else switch(a){case"/":return!1;case"\\":n(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,_,s,a),l){this.debug("  in class"),"!"===a&&_===g+1&&(a="^"),s+=a;continue}v.debug("call clearStateChar %j",o),n(),o=a,r.noext&&n();continue;case"(":if(l){s+="(";continue}if(!o){s+="\\(";continue}i=o,f.push({type:i,start:_-1,reStart:s.length}),s+="!"===o?"(?:(?!(?:":"(?:",this.debug("plType %j %j",o,s),o=!1;continue;case")":if(l||!f.length){s+="\\)";continue}n(),c=!0,s+=")";var E=f.pop();switch(i=E.type){case"!":h.push(E),s+=")[^/]*?)",E.reEnd=s.length;break;case"?":case"+":case"*":s+=i;break;case"@":}continue;case"|":if(l||!f.length||u){s+="\\|",u=!1;continue}n(),s+="|";continue;case"[":if(n(),l){s+="\\"+a;continue}l=!0,g=_,p=s.length,s+=a;continue;case"]":if(_===g+1||!l){s+="\\"+a,u=!1;continue}if(l){var O=e.substring(g+1,_);try{RegExp("["+O+"]")}catch(x){var I=this.parse(O,A);s=s.substr(0,p)+"\\["+I[0]+"\\]",c=c||I[1],l=!1;continue}}c=!0,l=!1,s+=a;continue;default:n(),u?u=!1:!S[a]||"^"===a&&l||(s+="\\"),s+=a}for(l&&(O=e.substr(g+1),I=this.parse(O,A),s=s.substr(0,p)+"\\["+I[0],c=c||I[1]),E=f.pop();E;E=f.pop()){var T=s.slice(E.reStart+3);T=T.replace(/((?:\\{2})*)(\\?)\|/g,function(e,t,n){return n||(n="\\"),t+t+n+"|"}),this.debug("tail=%j\n   %s",T,T);var P="*"===E.type?w:"?"===E.type?b:"\\"+E.type;c=!0,s=s.slice(0,E.reStart)+P+"\\("+T}n(),u&&(s+="\\\\");var C=!1;switch(s.charAt(0)){case".":case"[":case"(":C=!0}for(var U=h.length-1;U>-1;U--){var R=h[U],j=s.slice(0,R.reStart),D=s.slice(R.reStart,R.reEnd-8),M=s.slice(R.reEnd-8,R.reEnd),B=s.slice(R.reEnd);M+=B;var N=j.split("(").length-1,L=B;for(_=0;N>_;_++)L=L.replace(/\)[+*?]?/,"");B=L;var K="";""===B&&t!==A&&(K="$");var F=j+D+B+K+M;s=F}if(""!==s&&c&&(s="(?=.)"+s),C&&(s=y+s),t===A)return[s,c];if(!c)return d(e);var z=r.nocase?"i":"",G=new RegExp("^"+s+"$",z);return G._glob=e,G._src=s,G}function l(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?w:t.dot?k:E,r=t.nocase?"i":"",i=e.map(function(e){return e.map(function(e){return e===m?n:"string"==typeof e?g(e):e._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch(o){this.regexp=!1}return this.regexp}function p(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==y.sep&&(e=e.split(y.sep).join("/")),e=e.split(O),this.debug(this.pattern,"split",e);var r=this.set;this.debug(this.pattern,"set",r);var i,o;for(o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<r.length;o++){var a=r[o],s=e;n.matchBase&&1===a.length&&(s=[i]);var c=this.matchOne(s,a,t);if(c)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}function d(e){return e.replace(/\\(.)/g,"$1")}function g(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}e.exports=a,a.Minimatch=s;var y={sep:"/"};try{y=n(29)}catch(v){}var m=a.GLOBSTAR=s.GLOBSTAR={},_=n(33),b="[^/]",w=b+"*?",k="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",E="(?:(?!(?:\\/|^)\\.).)*?",S=r("().*{}+?[]^$\\!"),O=/\/+/;a.filter=i,a.defaults=function(e){if(!e||!Object.keys(e).length)return a;var t=a,n=function(n,r,i){return t.minimatch(n,r,o(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,o(e,r))},n},s.defaults=function(e){return e&&Object.keys(e).length?a.defaults(e).Minimatch:s},s.prototype.debug=function(){},s.prototype.make=c,s.prototype.parseNegate=u,a.braceExpand=function(e,t){return f(e,t)},s.prototype.braceExpand=f,s.prototype.parse=h;var A={};a.makeRe=function(e,t){return new s(e,t||{}).makeRe()},s.prototype.makeRe=l,a.match=function(e,t,n){n=n||{};var r=new s(t,n);return e=e.filter(function(e){return r.match(e)}),r.options.nonull&&!e.length&&e.push(t),e},s.prototype.match=p,s.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{"this":this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,o=0,a=e.length,s=t.length;a>i&&s>o;i++,o++){this.debug("matchOne loop");var c=t[o],u=e[i];if(this.debug(t,c,u),c===!1)return!1;if(c===m){this.debug("GLOBSTAR",[t,c,u]);var f=i,h=o+1;if(h===s){for(this.debug("** at the end");a>i;i++)if("."===e[i]||".."===e[i]||!r.dot&&"."===e[i].charAt(0))return!1;return!0}for(;a>f;){var l=e[f];if(this.debug("\nglobstar while",e,f,t,h,l),this.matchOne(e.slice(f),t.slice(h),n))return this.debug("globstar found match!",f,a,l),!0;if("."===l||".."===l||!r.dot&&"."===l.charAt(0)){this.debug("dot detected!",e,f,t,h);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",e,f,t,h),f!==a))}var p;if("string"==typeof c?(p=r.nocase?u.toLowerCase()===c.toLowerCase():u===c,this.debug("string match",c,u,p)):(p=u.match(c),this.debug("pattern match",c,u,p)),!p)return!1}if(i===a&&o===s)return!0;if(i===a)return n;if(o===s){var d=i===a-1&&""===e[i];return d}throw new Error("wtf?")}},function(e,t,n){function r(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function i(e){return e.split("\\\\").join(g).split("\\{").join(y).split("\\}").join(v).split("\\,").join(m).split("\\.").join(_)}function o(e){return e.split(g).join("\\").split(y).join("{").split(v).join("}").split(m).join(",").split(_).join(".")}function a(e){if(!e)return[""];var t=[],n=d("{","}",e);if(!n)return e.split(",");var r=n.pre,i=n.body,o=n.post,s=r.split(",");s[s.length-1]+="{"+i+"}";var c=a(o);return o.length&&(s[s.length-1]+=c.shift(),s.push.apply(s,c)),t.push.apply(t,s),t}function s(e){return e?l(i(e),!0).map(o):[]}function c(e){return"{"+e+"}"}function u(e){return/^-?0\d/.test(e)}function f(e,t){return t>=e}function h(e,t){return e>=t}function l(e,t){var n=[],i=d("{","}",e);if(!i||/\$$/.test(i.pre))return[e];var o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),g=o||s,y=/^(.*,)+(.+)?$/.test(i.body);if(!g&&!y)return i.post.match(/,.*\}/)?(e=i.pre+"{"+i.body+v+i.post,l(e)):[e];var m;if(g)m=i.body.split(/\.\./);else if(m=a(i.body),1===m.length&&(m=l(m[0],!1).map(c),1===m.length)){var _=i.post.length?l(i.post,!1):[""];return _.map(function(e){return i.pre+m[0]+e})}var b,w=i.pre,_=i.post.length?l(i.post,!1):[""];if(g){var k=r(m[0]),E=r(m[1]),S=Math.max(m[0].length,m[1].length),O=3==m.length?Math.abs(r(m[2])):1,A=f,x=k>E;x&&(O*=-1,A=h);var I=m.some(u);b=[];for(var T=k;A(T,E);T+=O){var P;if(s)P=String.fromCharCode(T),"\\"===P&&(P="");else if(P=String(T),I){var C=S-P.length;if(C>0){var U=new Array(C+1).join("0");P=0>T?"-"+U+P.slice(1):U+P}}b.push(P)}}else b=p(m,function(e){return l(e,!1)});for(var R=0;R<b.length;R++)for(var j=0;j<_.length;j++){var D=w+b[R]+_[j];(!t||g||D)&&n.push(D)}return n}var p=n(34),d=n(35);e.exports=s;var g="\x00SLASH"+Math.random()+"\x00",y="\x00OPEN"+Math.random()+"\x00",v="\x00CLOSE"+Math.random()+"\x00",m="\x00COMMA"+Math.random()+"\x00",_="\x00PERIOD"+Math.random()+"\x00"},function(e,t){e.exports=function(e,t){for(var r=[],i=0;i<e.length;i++){var o=t(e[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t){function n(e,t,n){var i=r(e,t,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+e.length,i[1]),post:n.slice(i[1]+t.length)}}function r(e,t,n){var r,i,o,a,s,c=n.indexOf(e),u=n.indexOf(t,c+1),f=c;if(c>=0&&u>0){for(r=[],o=n.length;f<n.length&&f>=0&&!s;)f==c?(r.push(f),c=n.indexOf(e,f+1)):1==r.length?s=[r.pop(),u]:(i=r.pop(),o>i&&(o=i,a=u),u=n.indexOf(t,f+1)),f=u>c&&c>=0?c:u;r.length&&(s=[o,a])}return s}e.exports=n,n.range=r},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(t){"use strict";function n(e){return"/"===e.charAt(0)}function r(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,n=t.exec(e),r=n[1]||"",i=!!r&&":"!==r.charAt(1);return!!n[2]||i}e.exports="win32"===t.platform?r:n,e.exports.posix=n,e.exports.win32=r}).call(t,n(12))},function(e,t,n){(function(t){function r(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new i(e,t).found}function i(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof i))return new i(e,t);if(h(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;n>r;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}e.exports=r,r.GlobSync=i;var o=n(!function(){var e=new Error('Cannot find module "fs"');throw e.code="MODULE_NOT_FOUND",e}()),a=n(32),s=(a.Minimatch,n(31).Glob,n(20),n(29)),c=n(23),u=n(37),f=n(39),h=(f.alphasort,f.alphasorti,f.setopts),l=f.ownProp,p=f.childrenIgnored;i.prototype._finish=function(){if(c(this instanceof i),this.realpath){var e=this;this.matches.forEach(function(t,n){var r=e.matches[n]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var a=o.realpathSync(i,e.realpathCache);r[a]=!0}catch(s){if("stat"!==s.syscall)throw s;r[e._makeAbs(i)]=!0}})}f.finish(this)},i.prototype._process=function(e,t,n){c(this instanceof i);for(var r=0;"string"==typeof e[r];)r++;var o;switch(r){case e.length:return void this._processSimple(e.join("/"),t);case 0:o=null;break;default:o=e.slice(0,r).join("/")}var s,f=e.slice(r);null===o?s=".":u(o)||u(e.join("/"))?(o&&u(o)||(o="/"+o),s=o):s=o;var h=this._makeAbs(s);if(!p(this,s)){var l=f[0]===a.GLOBSTAR;l?this._processGlobStar(o,s,h,f,t,n):this._processReaddir(o,s,h,f,t,n)}},i.prototype._processReaddir=function(e,t,n,r,i,o){var a=this._readdir(n,o);if(a){for(var c=r[0],u=!!this.minimatch.negate,f=c._glob,h=this.dot||"."===f.charAt(0),l=[],p=0;p<a.length;p++){var d=a[p];if("."!==d.charAt(0)||h){var g;g=u&&!e?!d.match(c):d.match(c),g&&l.push(d)}}var y=l.length;if(0!==y)if(1!==r.length||this.mark||this.stat){r.shift();for(var p=0;y>p;p++){var v,d=l[p];v=e?[e,d]:[d],this._process(v.concat(r),i,o)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;y>p;p++){var d=l[p];e&&(d="/"!==e.slice(-1)?e+"/"+d:e+d),"/"!==d.charAt(0)||this.nomount||(d=s.join(this.root,d)),this.matches[i][d]=!0}}}},i.prototype._emitMatch=function(e,t){this._makeAbs(t);if(this.mark&&(t=this._mark(t)),!this.matches[e][t]){if(this.nodir){var n=this.cache[this._makeAbs(t)];if("DIR"===n||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}},i.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=o.lstatSync(e)}catch(r){return null}var i=n.isSymbolicLink();return this.symlinks[e]=i,i||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},i.prototype._readdir=function(e,t){if(t&&!l(this.symlinks,e))return this._readdirInGlobStar(e);if(l(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,o.readdirSync(e))}catch(r){return this._readdirError(e,r),null}},i.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},i.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":this.cache[this._makeAbs(e)]="FILE";break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},i.prototype._processGlobStar=function(e,t,n,r,i,o){var a=this._readdir(n,o);if(a){var s=r.slice(1),c=e?[e]:[],u=c.concat(s);this._process(u,i,!1);var f=a.length,h=this.symlinks[n];if(!h||!o)for(var l=0;f>l;l++){var p=a[l];if("."!==p.charAt(0)||this.dot){var d=c.concat(a[l],s);this._process(d,i,!0);var g=c.concat(a[l],r);this._process(g,i,!0)}}}},i.prototype._processSimple=function(e,n){var r=this._stat(e);if(this.matches[n]||(this.matches[n]=Object.create(null)),r){if(e&&u(e)&&!this.nomount){var i=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),i&&(e+="/"))}"win32"===t.platform&&(e=e.replace(/\\/g,"/")),this.matches[n][e]=!0}},i.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&l(this.cache,t)){var r=this.cache[t];if(Array.isArray(r)&&(r="DIR"),!n||"DIR"===r)return r;if(n&&"FILE"===r)return!1}var i=this.statCache[t];if(!i){var a;try{a=o.lstatSync(t)}catch(s){return!1}if(a.isSymbolicLink())try{i=o.statSync(t)}catch(s){i=a}else i=a}this.statCache[t]=i;var r=i.isDirectory()?"DIR":"FILE";return this.cache[t]=this.cache[t]||r,n&&"DIR"!==r?!1:r},i.prototype._mark=function(e){return f.mark(this,e)},i.prototype._makeAbs=function(e){return f.makeAbs(this,e)}}).call(t,n(12))},function(e,t,n){(function(e){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function i(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function o(e,t){return e.localeCompare(t)}function a(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(s))}function s(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new v(n,{dot:!0})}return{matcher:new v(e,{dot:!0}),gmatcher:t}}function c(t,n,i){if(i||(i={}),i.matchBase&&-1===n.indexOf("/")){if(i.noglobstar)throw new Error("base matching requires globstar");n="**/"+n}t.silent=!!i.silent,t.pattern=n,t.strict=i.strict!==!1,t.realpath=!!i.realpath,t.realpathCache=i.realpathCache||Object.create(null),t.follow=!!i.follow,t.dot=!!i.dot,t.mark=!!i.mark,t.nodir=!!i.nodir,t.nodir&&(t.mark=!0),t.sync=!!i.sync,t.nounique=!!i.nounique,t.nonull=!!i.nonull,t.nosort=!!i.nosort,t.nocase=!!i.nocase,t.stat=!!i.stat,t.noprocess=!!i.noprocess,t.maxLength=i.maxLength||1/0,t.cache=i.cache||Object.create(null),t.statCache=i.statCache||Object.create(null),t.symlinks=i.symlinks||Object.create(null),a(t,i),t.changedCwd=!1;var o=e.cwd();r(i,"cwd")?(t.cwd=i.cwd,t.changedCwd=d.resolve(i.cwd)!==o):t.cwd=o,t.root=i.root||d.resolve(t.cwd,"/"),t.root=d.resolve(t.root),"win32"===e.platform&&(t.root=t.root.replace(/\\/g,"/")),t.nomount=!!i.nomount,i.nonegate=!0,i.nocomment=!0,t.minimatch=new v(n,i),t.options=t.minimatch.options}function u(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,a=e.matches.length;a>r;r++){var s=e.matches[r];if(s&&0!==Object.keys(s).length){var c=Object.keys(s);t?n.push.apply(n,c):c.forEach(function(e){n[e]=!0})}else if(e.nonull){var u=e.minimatch.globSet[r];t?n.push(u):n[u]=!0}}if(t||(n=Object.keys(n)),e.nosort||(n=n.sort(e.nocase?i:o)),e.mark){for(var r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter(function(e){return!/\/$/.test(e)}))}e.ignore.length&&(n=n.filter(function(t){return!l(e,t)})),e.found=n}function f(e,t){var n=h(e,t),r=e.cache[n],i=t;if(r){var o="DIR"===r||Array.isArray(r),a="/"===t.slice(-1);if(o&&!a?i+="/":!o&&a&&(i=i.slice(0,-1)),i!==t){var s=h(e,i);e.statCache[s]=e.statCache[n],e.cache[s]=e.cache[n]}}return i}function h(e,t){var n=t;return n="/"===t.charAt(0)?d.join(e.root,t):y(t)||""===t?t:e.changedCwd?d.resolve(e.cwd,t):d.resolve(t)}function l(e,t){return e.ignore.length?e.ignore.some(function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}):!1}function p(e,t){return e.ignore.length?e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}):!1}t.alphasort=o,t.alphasorti=i,t.setopts=c,t.ownProp=r,t.makeAbs=h,t.finish=u,t.mark=f,t.isIgnored=l,t.childrenIgnored=p;var d=n(29),g=n(32),y=n(37),v=g.Minimatch}).call(t,n(12))},function(e,t,n){(function(t){function r(e,t){return s[e]?(s[e].push(t),null):(s[e]=[t],i(e))}function i(e){return c(function n(){for(var r=s[e],i=r.length,a=o(arguments),c=0;i>c;c++)r[c].apply(null,a);r.length>i?(r.splice(0,i),t.nextTick(function(){n.apply(null,a)})):delete s[e]})}function o(e){for(var t=e.length,n=[],r=0;t>r;r++)n[r]=e[r];return n}var a=n(41),s=Object.create(null),c=n(42);e.exports=a(r)}).call(t,n(12))},function(e,t){function n(e,t){function r(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];var r=e.apply(this,t),i=t[t.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(e){r[e]=i[e]}),r}if(e&&t)return n(e)(t);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(t){r[t]=e[t]}),r}e.exports=n},function(e,t,n){function r(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}var i=n(43);e.exports=i(r),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0})})},function(e,t){function n(e,t){function r(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];var r=e.apply(this,t),i=t[t.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(e){r[e]=i[e]}),r}if(e&&t)return n(e)(t);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(t){r[t]=e[t]}),r}e.exports=n},function(e,t,n){(function(t){function r(e,n,s,c){"function"==typeof n?(s=n,n={}):n&&"object"==typeof n||(n={mode:n});var u=n.mode,f=n.fs||o;void 0===u&&(u=a&~t.umask()),c||(c=null);var h=s||function(){};e=i.resolve(e),f.mkdir(e,u,function(t){if(!t)return c=c||e,h(null,c);switch(t.code){case"ENOENT":r(i.dirname(e),n,function(t,i){t?h(t,i):r(e,n,h,i)});break;default:f.stat(e,function(e,n){e||!n.isDirectory()?h(t,c):h(null,c)})}})}var i=n(29),o=n(!function(){var e=new Error('Cannot find module "fs"');throw e.code="MODULE_NOT_FOUND",e}()),a=parseInt("0777",8);e.exports=r.mkdirp=r.mkdirP=r,r.sync=function s(e,n,r){n&&"object"==typeof n||(n={mode:n});var c=n.mode,u=n.fs||o;void 0===c&&(c=a&~t.umask()),r||(r=null),e=i.resolve(e);try{u.mkdirSync(e,c),r=r||e}catch(f){switch(f.code){case"ENOENT":r=s(i.dirname(e),n,r),s(e,n,r);break;default:var h;try{h=u.statSync(e)}catch(l){throw f}if(!h.isDirectory())throw f}}return r}}).call(t,n(12))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(46),c=r(s),u=function(){function e(){i(this,e)}return a(e,null,[{key:"callback",value:function(e,t,n){if("object"===("undefined"==typeof e?"undefined":o(e))){if(e.error){var r=(0,c["default"])(e,["message","payload"]);return void(n&&n(r))}if(e.payload)return void(e.next_page?t&&t(e.payload,e.next_page):t&&t(e.payload))}t&&t(e)}},{key:"error",value:function(e,t){if("object"===("undefined"==typeof e?"undefined":o(e))&&e.error){var n=(0,c["default"])(e,["message","payload"]);if(t)return t(n)}else if(t)return t(e)}}]),e}();t["default"]=u},function(e,t,n){var r=n(47),i=n(59),o=n(61),a=o(function(e,t){return null==e?{}:i(e,r(t,1))});e.exports=a},function(e,t,n){function r(e,t,n,c){c||(c=[]);for(var u=-1,f=e.length;++u<f;){var h=e[u];t>0&&s(h)&&(n||a(h)||o(h))?t>1?r(h,t-1,n,c):i(c,h):n||(c[c.length]=h)}return c}var i=n(48),o=n(49),a=n(58),s=n(50);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},function(e,t,n){function r(e){return i(e)&&s.call(e,"callee")&&(!u.call(e,"callee")||c.call(e)==o)}var i=n(50),o="[object Arguments]",a=Object.prototype,s=a.hasOwnProperty,c=a.toString,u=a.propertyIsEnumerable;e.exports=r},function(e,t,n){function r(e){return o(e)&&i(e)}var i=n(51),o=n(57);e.exports=r},function(e,t,n){function r(e){return null!=e&&a(i(e))&&!o(e)}var i=n(52),o=n(54),a=n(56);e.exports=r},function(e,t,n){var r=n(53),i=r("length");e.exports=i},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function r(e){var t=i(e)?c.call(e):"";return t==o||t==a}var i=n(55),o="[object Function]",a="[object GeneratorFunction]",s=Object.prototype,c=s.toString;e.exports=r},function(e,t){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=n},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&r>=e}var r=9007199254740991;e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){function r(e,t){return e=Object(e),i(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}var i=n(60);e.exports=r},function(e,t){function n(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}e.exports=n},function(e,t,n){function r(e,t){if("function"!=typeof e)throw new TypeError(a);return t=s(void 0===t?e.length-1:o(t),0),function(){for(var n=arguments,r=-1,o=s(n.length-t,0),a=Array(o);++r<o;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var c=Array(t+1);for(r=-1;++r<t;)c[r]=n[r];return c[t]=a,i(e,this,c)}}var i=n(62),o=n(63),a="Expected a function",s=Math.max;e.exports=r},function(e,t){function n(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if(e=i(e),e===o||e===-o){var t=0>e?-1:1;return t*a}var n=e%1;return e===e?n?e-n:e:0}var i=n(64),o=1/0,a=1.7976931348623157e308;e.exports=r},function(e,t,n){function r(e){if(o(e)){var t=i(e.valueOf)?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=u.test(e);return n||f.test(e)?h(e.slice(2),n?2:8):c.test(e)?a:+e}var i=n(54),o=n(55),a=NaN,s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,h=parseInt;e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),s=(r(a),n(9)),c=(r(s),n(6)),u=(r(c),function(){function e(t){var n=t.networking,r=t.config,o=t.keychain;i(this,e),this._networking=n,this._config=r,this._keychain=o}return o(e,[{key:"fetchTime",value:function(e){var t={uuid:this._keychain.getUUID(),auth:this._keychain.getAuthKey()};this._config.isInstanceIdEnabled()&&(t.instanceid=this._keychain.getInstanceId());var n=function(t){e(t[0])},r=function(){e(0)};this._networking.fetchTime({data:this._networking.prepareParams(t),success:n,fail:r})}}]),e}());t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),s=(r(a),n(9)),c=(r(s),n(6)),u=(r(c),n(10)),f=(r(u),n(45)),h=r(f),l=n(7),p=r(l),d=n(8),g=r(d),y=function(){function e(t){var n=t.networking,r=t.config,o=t.keychain,a=t.state,s=t.error;i(this,e),this._networking=n,this._config=r,this._keychain=o,this._state=a,this._error=s}return o(e,[{key:"hereNow",value:function(e,t){var n=e.callback||t,r=e.error||function(){},i=e.auth_key||this._keychain.getAuthKey(),o=e.channel,a=e.channel_group,s="uuids"in e?e.uuids:!0,c=e.state,u={uuid:this._keychain.getUUID(),auth:i};return s||(u.disable_uuids=1),c&&(u.state=1),n?this._keychain.getSubscribeKey()?(a&&(u["channel-group"]=a),this._config.isInstanceIdEnabled()&&(u.instanceid=this._keychain.getInstanceId()),void this._networking.fetchHereNow(o,a,{data:this._networking.prepareParams(u),success:function(e){h["default"].callback(e,n,r)},fail:function(e){h["default"].error(e,r)}})):this._error("Missing Subscribe Key"):this._error("Missing Callback")}},{key:"whereNow",value:function(e,t){var n=e.callback||t,r=e.error||function(){},i=e.auth_key||this._keychain.getAuthKey(),o=e.uuid||this._keychain.getUUID(),a={auth:i};return n?this._keychain.getSubscribeKey()?(this._config.isInstanceIdEnabled()&&(a.instanceid=this._keychain.getInstanceId()),void this._networking.fetchWhereNow(o,{data:this._networking.prepareParams(a),success:function(e){h["default"].callback(e,n,r);
},fail:function(e){h["default"].error(e,r)}})):this._error("Missing Subscribe Key"):this._error("Missing Callback")}},{key:"heartbeat",value:function(e){var t=e.callback||function(){},n=e.error||function(){},r={uuid:this._keychain.getUUID(),auth:this._keychain.getAuthKey()},i=JSON.stringify(this._state.getPresenceState());i.length>2&&(r.state=JSON.stringify(this._state.getPresenceState())),this._config.getPresenceTimeout()>0&&this._config.getPresenceTimeout()<320&&(r.heartbeat=this._config.getPresenceTimeout());var o=p["default"].encode(this._state.generate_channel_list(!0).join(",")),a=this._state.generate_channel_group_list(!0).join(",");o||(o=","),a&&(r["channel-group"]=a),this._config.isInstanceIdEnabled()&&(r.instanceid=this._keychain.getInstanceId()),this._config.isRequestIdEnabled()&&(r.requestid=p["default"].generateUUID()),this._networking.performHeartbeat(o,{data:this._networking.prepareParams(r),success:function(e){h["default"].callback(e,t,n)},fail:function(e){h["default"].error(e,n)}})}},{key:"performState",value:function(e,t){var n=e.callback||t||function(){},r=e.error||function(){},i=e.auth_key||this._keychain.getAuthKey(),o=e.state,a=e.uuid||this._keychain.getUUID(),s=e.channel,c=e.channel_group,u=this._networking.prepareParams({auth:i});return this._keychain.getSubscribeKey()?a?s||c?("undefined"!=typeof s&&this._state.getChannel(s)&&this._state.getChannel(s).subscribed&&o&&this._state.addToPresenceState(s,o),"undefined"!=typeof c&&this._state.getChannelGroup(c)&&this._state.getChannelGroup(c).subscribed&&(o&&this._state.addToPresenceState(c,o),u["channel-group"]=c,s||(s=",")),u.state=JSON.stringify(o),this._config.isInstanceIdEnabled()&&(u.instanceid=this._keychain.getInstanceId()),void this._networking.performState(o,s,a,{data:this._networking.prepareParams(u),success:function(e){h["default"].callback(e,n,r)},fail:function(e){h["default"].error(e,r)}})):this._error("Missing Channel"):this._error("Missing UUID"):this._error("Missing Subscribe Key")}},{key:"announceChannelLeave",value:function(e,t,n,r){var i={uuid:this._keychain.getUUID(),auth:t||this._keychain.getAuthKey()},o=n||function(){},a=r||function(){};return e.indexOf(g["default"].PRESENCE_SUFFIX)>0?!0:this._config.isSuppressingLeaveEvents()?!1:(this._config.isInstanceIdEnabled()&&(i.instanceid=this._keychain.getInstanceId()),void this._networking.performChannelLeave(e,{data:this._networking.prepareParams(i),success:function(e){h["default"].callback(e,o,a)},fail:function(e){h["default"].error(e,a)}}))}},{key:"announceChannelGroupLeave",value:function(e,t,n,r){var i={uuid:this._keychain.getUUID(),auth:t||this._keychain.getAuthKey()},o=n||function(){},a=r||function(){};return e.indexOf(g["default"].PRESENCE_SUFFIX)>0?!0:this._config.isSuppressingLeaveEvents()?!1:(e&&e.length>0&&(i["channel-group"]=e),this._config.isInstanceIdEnabled()&&(i.instanceid=this._keychain.getInstanceId()),void this._networking.performChannelGroupLeave({data:this._networking.prepareParams(i),success:function(e){h["default"].callback(e,o,a)},fail:function(e){h["default"].error(e,a)}}))}}]),e}();t["default"]=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),c=(r(s),n(6)),u=(r(c),n(45)),f=r(u),h=function(){function e(t){var n=t.networking,r=t.keychain,o=t.error,a=t.decrypt;i(this,e),this._networking=n,this._keychain=r,this._error=o,this._decrypt=a}return a(e,[{key:"fetchHistory",value:function(e,t){var n=this,r=e.callback||t,i=e.count||e.limit||100,o=e.reverse||"false",a=e.error||function(){},s=e.auth_key||this._keychain.getAuthKey(),c=e.cipher_key,u=e.channel,h=e.channel_group,l=e.start,p=e.end,d=e.include_token,g=e.string_message_token||!1;if(!u&&!h)return this._error("Missing Channel");if(!r)return this._error("Missing Callback");if(!this._keychain.getSubscribeKey())return this._error("Missing Subscribe Key");var y={stringtoken:"true",count:i,reverse:o,auth:s};h&&(y["channel-group"]=h,u||(u=",")),l&&(y.start=l),p&&(y.end=p),d&&(y.include_token="true"),g&&(y.string_message_token="true"),this._networking.fetchHistory(u,{data:this._networking.prepareParams(y),success:function(e){n._handleHistoryResponse(e,a,r,d,c)},fail:function(e){f["default"].error(e,a)}})}},{key:"_handleHistoryResponse",value:function(e,t,n,r,i){if("object"===("undefined"==typeof e?"undefined":o(e))&&e.error)return void t({message:e.message,payload:e.payload});for(var a=e[0],s=[],c=0;c<a.length;c++)if(r){var u=this._decrypt(a[c].message,i),f=a[c].timetoken;try{s.push({message:JSON.parse(u),timetoken:f})}catch(h){s.push({message:u,timetoken:f})}}else{var l=this._decrypt(a[c],i);try{s.push(JSON.parse(l))}catch(h){s.push(l)}}n([s,e[1],e[2]])}}]),e}();t["default"]=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),s=(r(a),n(6)),c=(r(s),n(9)),u=(r(c),n(45)),f=r(u),h=function(){function e(t){var n=t.networking,r=t.keychain,o=t.error,a=t.config;i(this,e),this._networking=n,this._keychain=r,this._error=o,this._config=a}return o(e,[{key:"provisionDevice",value:function(e){var t=e.op,n=e.gw_type,r=e.device_id,i=e.channel,o=e.callback||function(){},a=e.auth_key||this._keychain.getAuthKey(),s=e.error||function(){};if(!r)return this._error("Missing Device ID (device_id)");if(!n)return this._error("Missing GW Type (gw_type: gcm or apns)");if(!t)return this._error("Missing GW Operation (op: add or remove)");if(!i)return this._error("Missing gw destination Channel (channel)");if(!this._keychain.getPublishKey())return this._error("Missing Publish Key");if(!this._keychain.getSubscribeKey())return this._error("Missing Subscribe Key");var c={uuid:this._keychain.getUUID(),auth:a,type:n};"add"===t?c.add=i:"remove"===t&&(c.remove=i),this._config.isInstanceIdEnabled()&&(c.instanceid=this._keychain.getInstanceId()),this._networking.provisionDeviceForPush(r,{data:c,success:function(e){f["default"].callback(e,o,s)},fail:function(e){f["default"].error(e,s)}})}}]),e}();t["default"]=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),s=(r(a),n(9)),c=(r(s),n(6)),u=(r(c),n(45)),f=r(u),h=n(7),l=r(h),p=function(){function e(t){var n=t.networking,r=t.config,o=t.keychain,a=t.error,s=t.hmac_SHA256;i(this,e),this._networking=n,this._keychain=o,this._config=r,this._error=a,this._hmac_SHA256=s}return o(e,[{key:"performGrant",value:function(e,t){var n=e.callback||t,r=e.error||function(){},i=e.channel||e.channels,o=e.channel_group,a=e.ttl,s=e.read?"1":"0",c=e.write?"1":"0",u=e.manage?"1":"0",h=e.auth_key||e.auth_keys;if(!n)return this._error("Missing Callback");if(!this._keychain.getSubscribeKey())return this._error("Missing Subscribe Key");if(!this._keychain.getPublishKey())return this._error("Missing Publish Key");if(!this._keychain.getSecretKey())return this._error("Missing Secret Key");var p=Math.floor((new Date).getTime()/1e3),d=this._keychain.getSubscribeKey()+"\n"+this._keychain.getPublishKey()+"\ngrant\n",g={w:c,r:s,timestamp:p};e.manage&&(g.m=u),l["default"].isArray(i)&&(i=i.join(",")),l["default"].isArray(h)&&(h=h.join(",")),"undefined"!=typeof i&&null!==i&&i.length>0&&(g.channel=i),"undefined"!=typeof o&&null!==o&&o.length>0&&(g["channel-group"]=o),(a||0===a)&&(g.ttl=a),h&&(g.auth=h),g=this._networking.prepareParams(g),h||delete g.auth,d+=l["default"]._get_pam_sign_input_from_params(g);var y=this._hmac_SHA256(d,this._keychain.getSecretKey());y=y.replace(/\+/g,"-"),y=y.replace(/\//g,"_"),g.signature=y,this._networking.performGrant({data:g,success:function(e){f["default"].callback(e,n,r)},fail:function(e){f["default"].error(e,r)}})}},{key:"performAudit",value:function(e,t){var n=e.callback||t,r=e.error||function(){},i=e.channel,o=e.channel_group,a=e.auth_key;if(!n)return this._error("Missing Callback");if(!this._keychain.getSubscribeKey())return this._error("Missing Subscribe Key");if(!this._keychain.getPublishKey())return this._error("Missing Publish Key");if(!this._keychain.getSecretKey())return this._error("Missing Secret Key");var s=Math.floor((new Date).getTime()/1e3),c=this._keychain.getSubscribeKey()+"\n"+this._keychain.getPublishKey()+"\naudit\n",u={timestamp:s};"undefined"!=typeof i&&null!==i&&i.length>0&&(u.channel=i),"undefined"!=typeof o&&null!==o&&o.length>0&&(u["channel-group"]=o),a&&(u.auth=a),u=this._networking.prepareParams(u),a||delete u.auth,c+=l["default"]._get_pam_sign_input_from_params(u);var h=this._hmac_SHA256(c,this._keychain.getSecretKey());h=h.replace(/\+/g,"-"),h=h.replace(/\//g,"_"),u.signature=h,this._networking.performAudit({data:u,success:function(e){f["default"].callback(e,n,r)},fail:function(e){f["default"].error(e,r)}})}}]),e}();t["default"]=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),s=(r(a),n(6)),c=(r(s),n(45)),u=r(c),f=function(){function e(t){var n=t.networking,r=t.keychain,o=t.error;i(this,e),this._networking=n,this._keychain=r,this._error=o}return o(e,[{key:"performReplay",value:function(e,t){var n=e.stop,r=e.start,i=e.end,o=e.reverse,a=e.limit,s=e.source,c=t||e.callback||function(){},f=e.auth_key||this._keychain.getAuthKey(),h=e.destination,l=e.error||function(){},p={};return s?h?this._keychain.getPublishKey()?this._keychain.getSubscribeKey()?(n&&(p.stop="all"),o&&(p.reverse="true"),r&&(p.start=r),i&&(p.end=i),a&&(p.count=a),p.auth=f,void this._networking.fetchReplay(s,h,{success:function(e){u["default"].callback(e,c,l)},fail:function(){c([0,"Disconnected"])},data:this._networking.prepareParams(p)})):this._error("Missing Subscribe Key"):this._error("Missing Publish Key"):this._error("Missing Destination Channel"):this._error("Missing Source Channel")}}]),e}();t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),s=(r(a),n(6)),c=(r(s),n(9)),u=(r(c),n(45)),f=r(u),h=n(7),l=r(h),p=function(){function e(t){var n=t.networking,r=t.keychain,o=t.config,a=t.error;i(this,e),this._networking=n,this._keychain=r,this._config=o,this._error=a}return o(e,[{key:"channelGroup",value:function(e,t){var n=e.channel_group,r=e.callback||t,i=e.channels||e.channel,o="",a={},s=e.mode||"add",c=e.error||this._error;if(n){var u=n.split(":");o=u.length>1?u[1]:u[0]}i&&(l["default"].isArray(i)&&(i=i.join(",")),a[s]=i),a.auth||(a.auth=e.auth_key||this._keychain.getAuthKey()),this._networking.performChannelGroupOperation(o,s,{data:this._networking.prepareParams(a),success:function(e){f["default"].callback(e,r,c)},fail:function(e){f["default"].error(e,c)}})}},{key:"listChannels",value:function(e,t){return e.channel_group?void this.channelGroup(e,t):this._error("Missing Channel Group")}},{key:"removeGroup",value:function(e,t){var n="Use channel_group_remove_channel if you want to remove a channel from a group.";return e.channel_group?e.channel?this._error(n):(e.mode="remove",void this.channelGroup(e,t)):this._error("Missing Channel Group")}},{key:"listGroups",value:function(e,t){this.channelGroup(e,t)}},{key:"addChannel",value:function(e,t){return e.channel_group?e.channel||e.channels?void this.channelGroup(e,t):this._error("Missing Channel"):this._error("Missing Channel Group")}},{key:"removeChannel",value:function(e,t){return e.channel_group?e.channel||e.channels?(e.mode="remove",void this.channelGroup(e,t)):this._error("Missing Channel"):this._error("Missing Channel Group")}}]),e}();t["default"]=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),s=(r(a),n(9)),c=(r(s),n(6)),u=(r(c),n(10)),f=(r(u),n(66)),h=(r(f),n(7)),l=r(h),p=n(8),d=r(p),g=function(){function e(t){var n=t.networking,r=t.config,o=t.keychain,a=t.presenceEndpoints,s=t.state,c=t.error;i(this,e),this._networking=n,this._config=r,this._keychain=o,this._state=s,this._error=c,this._presence=a}return o(e,[{key:"performUnsubscribe",value:function(e,t){var n=e.channel,r=e.channel_group,i=e.auth_key||this._keychain.getAuthKey(),o=t||e.callback||function(){},a=e.error||function(){};if(!n&&!r)return this._error("Missing Channel or Channel Group");if(!this._keychain.getSubscribeKey())return this._error("Missing Subscribe Key");if(n){var s=l["default"].isArray(n)?n:(""+n).split(","),c=[],u=[];if(l["default"].each(s,function(e){this._state.getChannel(e)&&c.push(e)}),0===c.length)return void o({action:"leave"});l["default"].each(c,function(e){u.push(e+d["default"].PRESENCE_SUFFIX)}),l["default"].each(c.concat(u),function(e){this._state.containsChannel(e)&&this._state.removeChannel(e),this._state.isInPresenceState(e)&&this._state.removeFromPresenceState(e)}),this._presence.performChannelLeave(c.join(","),i,o,a)}if(r){var f=l["default"].isArray(r)?r:(""+r).split(","),h=[],p=[];if(l["default"].each(f,function(e){this._state.getChannelGroup(e)&&h.push(e)}),0===h.length)return void o({action:"leave"});l["default"].each(h,function(e){p.push(e+d["default"].PRESENCE_SUFFIX)}),l["default"].each(h.concat(p),function(e){this._state.containsChannelGroup(e)&&this._state.removeChannelGroup(e),this._state.isInPresenceState(e)&&this._state.removeFromPresenceState(e)}),this._presence.performChannelGroupLeave(h.join(","),i,o,a)}}}]),e}();t["default"]=g},function(e,t,n){function r(){function e(e){return i.SHA256(e).toString(i.enc.Hex)}function t(e){return e=e||{},e.hasOwnProperty("encryptKey")||(e.encryptKey=h.encryptKey),e.hasOwnProperty("keyEncoding")||(e.keyEncoding=h.keyEncoding),e.hasOwnProperty("keyLength")||(e.keyLength=h.keyLength),e.hasOwnProperty("mode")||(e.mode=h.mode),-1==c.indexOf(e.keyEncoding.toLowerCase())&&(e.keyEncoding=h.keyEncoding),-1==u.indexOf(parseInt(e.keyLength,10))&&(e.keyLength=h.keyLength),-1==f.indexOf(e.mode.toLowerCase())&&(e.mode=h.mode),e}function n(e,t){return"base64"===t.keyEncoding?i.enc.Base64.parse(e):"hex"===t.keyEncoding?i.enc.Hex.parse(e):e}function r(t,r){return t=n(t,r),r.encryptKey?i.enc.Utf8.parse(e(t).slice(0,32)):t}function o(e){return"ecb"===e.mode?i.mode.ECB:i.mode.CBC}function a(e){return"cbc"===e.mode?i.enc.Utf8.parse(s):null}var s="0123456789012345",c=["hex","utf8","base64","binary"],u=[128,256],f=["ecb","cbc"],h={encryptKey:!0,keyEncoding:"utf8",keyLength:256,mode:"cbc"};return{encrypt:function(e,n,s){if(!n)return e;s=t(s);var c=a(s),u=o(s),f=r(n,s),h=JSON.stringify(e),l=i.AES.encrypt(h,f,{iv:c,mode:u}).ciphertext,p=l.toString(i.enc.Base64);return p||e},decrypt:function(e,n,s){if(!n)return e;s=t(s);var c=a(s),u=o(s),f=r(n,s);try{var h=i.enc.Base64.parse(e),l=i.AES.decrypt({ciphertext:h},f,{iv:c,mode:u}).toString(i.enc.Utf8),p=JSON.parse(l);return p}catch(d){return}}}}var i=n(74);e.exports=r},function(e,t){var n=n||function(e,t){var n={},r=n.lib={},i=function(){},o=r.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var i=0;e>i;i++)t[r+i>>>2]|=(n[i>>>2]>>>24-8*(i%4)&255)<<24-8*((r+i)%4);else if(65535<n.length)for(i=0;e>i;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;t>r;r+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),s=n.enc={},c=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;e>r;r++){var i=t[r>>>2]>>>24-8*(r%4)&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-4*(r%8);return new a.init(n,t/2)}},u=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;e>r;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-8*(r%4)&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-8*(r%4);return new a.init(n,t)}},f=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},h=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=i/(4*o),s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0);if(t=s*o,i=e.min(4*t,i),t){for(var c=0;t>c;c+=o)this._doProcessBlock(r,c);c=r.splice(0,t),n.sigBytes-=i}return new a.init(c,i)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=h.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new l.HMAC.init(e,n).finalize(t)}}});var l=n.algo={};return n}(Math);!function(e){for(var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,r=t.algo,a=[],s=[],c=function(e){return 4294967296*(e-(0|e))|0},u=2,f=0;64>f;){var h;e:{h=u;for(var l=e.sqrt(h),p=2;l>=p;p++)if(!(h%p)){h=!1;break e}h=!0}h&&(8>f&&(a[f]=c(e.pow(u,.5))),s[f]=c(e.pow(u,1/3)),f++),u++}var d=[],r=r.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],c=n[4],u=n[5],f=n[6],h=n[7],l=0;64>l;l++){if(16>l)d[l]=0|e[t+l];else{var p=d[l-15],g=d[l-2];d[l]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+d[l-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+d[l-16]}p=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&f)+s[l]+d[l],g=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),h=f,f=u,u=c,c=a+p|0,a=o,o=i,i=r,r=p+g|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0,n[5]=n[5]+u|0,n[6]=n[6]+f|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+14]=e.floor(r/4294967296),n[(i+64>>>9<<4)+15]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(r),t.HmacSHA256=o._createHmacHelper(r)}(Math),function(){var e=n,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,i=4*r;n.sigBytes>i&&(n=e.finalize(n)),n.clamp();for(var o=this._oKey=n.clone(),a=this._iKey=n.clone(),s=o.words,c=a.words,u=0;r>u;u++)s[u]^=1549556828,c[u]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e=n,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;n>i;i+=3)for(var o=(t[i>>>2]>>>24-8*(i%4)&255)<<16|(t[i+1>>>2]>>>24-8*((i+1)%4)&255)<<8|t[i+2>>>2]>>>24-8*((i+2)%4)&255,a=0;4>a&&n>i+.75*a;a++)e.push(r.charAt(o>>>6*(3-a)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map,i=r.charAt(64);i&&(i=e.indexOf(i),-1!=i&&(n=i));for(var i=[],o=0,a=0;n>a;a++)if(a%4){var s=r.indexOf(e.charAt(a-1))<<2*(a%4),c=r.indexOf(e.charAt(a))>>>6-2*(a%4);i[o>>>2]|=(s|c)<<24-8*(o%4),o++}return t.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,r,i,o,a){return e=e+(t&n|~t&r)+i+a,(e<<o|e>>>32-o)+t}function r(e,t,n,r,i,o,a){return e=e+(t&r|n&~r)+i+a,(e<<o|e>>>32-o)+t}function i(e,t,n,r,i,o,a){return e=e+(t^n^r)+i+a,(e<<o|e>>>32-o)+t}function o(e,t,n,r,i,o,a){return e=e+(n^(t|~r))+i+a,(e<<o|e>>>32-o)+t}for(var a=n,s=a.lib,c=s.WordArray,u=s.Hasher,s=a.algo,f=[],h=0;64>h;h++)f[h]=4294967296*e.abs(e.sin(h+1))|0;s=s.MD5=u.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,n){for(var a=0;16>a;a++){var s=n+a,c=e[s];e[s]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var a=this._hash.words,s=e[n+0],c=e[n+1],u=e[n+2],h=e[n+3],l=e[n+4],p=e[n+5],d=e[n+6],g=e[n+7],y=e[n+8],v=e[n+9],m=e[n+10],_=e[n+11],b=e[n+12],w=e[n+13],k=e[n+14],E=e[n+15],S=a[0],O=a[1],A=a[2],x=a[3],S=t(S,O,A,x,s,7,f[0]),x=t(x,S,O,A,c,12,f[1]),A=t(A,x,S,O,u,17,f[2]),O=t(O,A,x,S,h,22,f[3]),S=t(S,O,A,x,l,7,f[4]),x=t(x,S,O,A,p,12,f[5]),A=t(A,x,S,O,d,17,f[6]),O=t(O,A,x,S,g,22,f[7]),S=t(S,O,A,x,y,7,f[8]),x=t(x,S,O,A,v,12,f[9]),A=t(A,x,S,O,m,17,f[10]),O=t(O,A,x,S,_,22,f[11]),S=t(S,O,A,x,b,7,f[12]),x=t(x,S,O,A,w,12,f[13]),A=t(A,x,S,O,k,17,f[14]),O=t(O,A,x,S,E,22,f[15]),S=r(S,O,A,x,c,5,f[16]),x=r(x,S,O,A,d,9,f[17]),A=r(A,x,S,O,_,14,f[18]),O=r(O,A,x,S,s,20,f[19]),S=r(S,O,A,x,p,5,f[20]),x=r(x,S,O,A,m,9,f[21]),A=r(A,x,S,O,E,14,f[22]),O=r(O,A,x,S,l,20,f[23]),S=r(S,O,A,x,v,5,f[24]),x=r(x,S,O,A,k,9,f[25]),A=r(A,x,S,O,h,14,f[26]),O=r(O,A,x,S,y,20,f[27]),S=r(S,O,A,x,w,5,f[28]),x=r(x,S,O,A,u,9,f[29]),A=r(A,x,S,O,g,14,f[30]),O=r(O,A,x,S,b,20,f[31]),S=i(S,O,A,x,p,4,f[32]),x=i(x,S,O,A,y,11,f[33]),A=i(A,x,S,O,_,16,f[34]),O=i(O,A,x,S,k,23,f[35]),S=i(S,O,A,x,c,4,f[36]),x=i(x,S,O,A,l,11,f[37]),A=i(A,x,S,O,g,16,f[38]),O=i(O,A,x,S,m,23,f[39]),S=i(S,O,A,x,w,4,f[40]),x=i(x,S,O,A,s,11,f[41]),A=i(A,x,S,O,h,16,f[42]),O=i(O,A,x,S,d,23,f[43]),S=i(S,O,A,x,v,4,f[44]),x=i(x,S,O,A,b,11,f[45]),A=i(A,x,S,O,E,16,f[46]),O=i(O,A,x,S,u,23,f[47]),S=o(S,O,A,x,s,6,f[48]),x=o(x,S,O,A,g,10,f[49]),A=o(A,x,S,O,k,15,f[50]),O=o(O,A,x,S,p,21,f[51]),S=o(S,O,A,x,b,6,f[52]),x=o(x,S,O,A,h,10,f[53]),A=o(A,x,S,O,m,15,f[54]),O=o(O,A,x,S,c,21,f[55]),S=o(S,O,A,x,y,6,f[56]),x=o(x,S,O,A,E,10,f[57]),A=o(A,x,S,O,d,15,f[58]),O=o(O,A,x,S,w,21,f[59]),S=o(S,O,A,x,l,6,f[60]),x=o(x,S,O,A,_,10,f[61]),A=o(A,x,S,O,u,15,f[62]),O=o(O,A,x,S,v,21,f[63]);a[0]=a[0]+S|0,a[1]=a[1]+O|0,a[2]=a[2]+A|0,a[3]=a[3]+x|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296);for(n[(i+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[(i+64>>>9<<4)+14]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process(),t=this._hash,n=t.words,r=0;4>r;r++)i=n[r],n[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=u.clone.call(this);return e._hash=this._hash.clone(),e}}),a.MD5=u._createHelper(s),a.HmacMD5=u._createHmacHelper(s)}(Math),function(){var e=n,t=e.lib,r=t.Base,i=t.WordArray,t=e.algo,o=t.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=n.hasher.create(),o=i.create(),a=o.words,s=n.keySize,n=n.iterations;a.length<s;){c&&r.update(c);var c=r.update(e).finalize(t);r.reset();for(var u=1;n>u;u++)c=r.finalize(c),r.reset();o.concat(c)}return o.sigBytes=4*s,o}});e.EvpKDF=function(e,t,n){return o.create(n).compute(e,t)}}(),n.lib.Cipher||function(e){var t=n,r=t.lib,i=r.Base,o=r.WordArray,a=r.BufferedBlockAlgorithm,s=t.enc.Base64,c=t.algo.EvpKDF,u=r.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return("string"==typeof n?g:d).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?g:d).decrypt(e,t,n,r)}}}});r.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var f=t.mode={},h=function(t,n,r){var i=this._iv;i?this._iv=e:i=this._prevBlock;for(var o=0;r>o;o++)t[n+o]^=i[o]},l=(r.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();l.Encryptor=l.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;h.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),l.Decryptor=l.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),h.call(this,e,t,r),this._prevBlock=i}}),f=f.CBC=l,l=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,n=n-e.sigBytes%n,r=n<<24|n<<16|n<<8|n,i=[],a=0;n>a;a+=4)i.push(r);n=o.create(i,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},r.BlockCipher=u.extend({cfg:u.cfg.extend({mode:f,padding:l}),reset:function(){u.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var p=r.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),f=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return e=e.salt,(e?o.create([1398893684,1701076831]).concat(e).concat(t):t).toString(s)},parse:function(e){e=s.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var n=o.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return p.create({ciphertext:e,salt:n})}},d=r.SerializableCipher=i.extend({cfg:i.extend({format:f}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r);return t=i.finalize(t),i=i.cfg,p.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,n,r){return r||(r=o.random(8)),e=c.create({keySize:t+n}).compute(e,r),n=o.create(e.words.slice(t),4*n),e.sigBytes=4*t,p.create({key:e,iv:n,salt:r})}},g=r.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:t}),encrypt:function(e,t,n,r){return r=this.cfg.extend(r),n=r.kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,e=d.encrypt.call(this,e,t,n.key,r),e.mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,d.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=n,t=e.lib.BlockCipher,r=e.algo,i=[],o=[],a=[],s=[],c=[],u=[],f=[],h=[],l=[],p=[],d=[],g=0;256>g;g++)d[g]=128>g?g<<1:g<<1^283;for(var y=0,v=0,g=0;256>g;g++){var m=v^v<<1^v<<2^v<<3^v<<4,m=m>>>8^255&m^99;i[y]=m,o[m]=y;var _=d[y],b=d[_],w=d[b],k=257*d[m]^16843008*m;a[y]=k<<24|k>>>8,s[y]=k<<16|k>>>16,c[y]=k<<8|k>>>24,u[y]=k,k=16843009*w^65537*b^257*_^16843008*y,f[m]=k<<24|k>>>8,h[m]=k<<16|k>>>16,l[m]=k<<8|k>>>24,p[m]=k,y?(y=_^d[d[d[w^_]]],v^=d[d[v]]):y=v=1}var E=[0,1,2,4,8,16,32,64,128,27,54],r=r.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,e=4*((this._nRounds=n+6)+1),r=this._keySchedule=[],o=0;e>o;o++)if(n>o)r[o]=t[o];else{var a=r[o-1];o%n?n>6&&4==o%n&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=a<<8|a>>>24,a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=E[o/n|0]<<24),r[o]=r[o-n]^a}for(t=this._invKeySchedule=[],n=0;e>n;n++)o=e-n,a=n%4?r[o]:r[o-4],t[n]=4>n||4>=o?a:f[i[a>>>24]]^h[i[a>>>16&255]]^l[i[a>>>8&255]]^p[i[255&a]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,u,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,f,h,l,p,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var c=this._nRounds,u=e[t]^n[0],f=e[t+1]^n[1],h=e[t+2]^n[2],l=e[t+3]^n[3],p=4,d=1;c>d;d++)var g=r[u>>>24]^i[f>>>16&255]^o[h>>>8&255]^a[255&l]^n[p++],y=r[f>>>24]^i[h>>>16&255]^o[l>>>8&255]^a[255&u]^n[p++],v=r[h>>>24]^i[l>>>16&255]^o[u>>>8&255]^a[255&f]^n[p++],l=r[l>>>24]^i[u>>>16&255]^o[f>>>8&255]^a[255&h]^n[p++],u=g,f=y,h=v;g=(s[u>>>24]<<24|s[f>>>16&255]<<16|s[h>>>8&255]<<8|s[255&l])^n[p++],y=(s[f>>>24]<<24|s[h>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^n[p++],v=(s[h>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&f])^n[p++],l=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[f>>>8&255]<<8|s[255&h])^n[p++],
e[t]=g,e[t+1]=y,e[t+2]=v,e[t+3]=l},keySize:8});e.AES=t._createHelper(r)}(),n.mode.ECB=function(){var e=n.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e}(),e.exports=n}])});