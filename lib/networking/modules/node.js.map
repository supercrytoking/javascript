{"version":3,"sources":["networking/modules/node.js"],"names":["proxy","keepAlive","keepAliveAgent","keepAliveSecureAgent","superagentConstruct","_config","agent","secure","AgentClass","HttpsAgent","keepAliveSettings"],"mappings":";;;;;QAWgBA,K,GAAAA,K;QAIAC,S,GAAAA,S;;AAbhB;;;;AACA;;;;AACA;;;;;;AAEA,IAAIC,iBAA+D,IAAnE;AACA,IAAIC,uBAAqE,IAAzE;;AAEA;;AAEO,SAASH,KAAT,CAAeI,mBAAf,EAAgD;AACrD,SAAOA,oBAAoBJ,KAApB,CAA0B,KAAKK,OAAL,CAAaL,KAAvC,CAAP;AACD;;AAEM,SAASC,SAAT,CAAmBG,mBAAnB,EAAoD;AACzD,MAAIE,QAAQ,KAAKD,OAAL,CAAaE,MAAb,GAAsBJ,oBAAtB,GAA6CD,cAAzD;AACA,MAAII,UAAU,IAAd,EAAoB;AAClB,QAAIE,aAAa,KAAKH,OAAL,CAAaE,MAAb,GAAsB,yBAAeE,UAArC,2BAAjB;AACAH,YAAQ,IAAIE,UAAJ,CAAe,KAAKH,OAAL,CAAaK,iBAA5B,CAAR;AACA,QAAI,KAAKL,OAAL,CAAaE,MAAjB,EAAyB;AACvBJ,6BAAuBG,KAAvB;AACD,KAFD,MAEO;AACLJ,uBAAiBI,KAAjB;AACD;AACF;;AAED,SAAOF,oBAAoBE,KAApB,CAA0BA,KAA1B,CAAP;AACD","file":"node.js","sourcesContent":["/* @flow */\n\nimport superagent from 'superagent';\nimport superagentProxy from 'superagent-proxy';\nimport AgentKeepAlive from 'agentkeepalive';\n\nlet keepAliveAgent: (AgentKeepAlive | AgentKeepAlive.HttpsAgent) = null;\nlet keepAliveSecureAgent: (AgentKeepAlive | AgentKeepAlive.HttpsAgent) = null;\n\nsuperagentProxy(superagent);\n\nexport function proxy(superagentConstruct: superagent) {\n  return superagentConstruct.proxy(this._config.proxy);\n}\n\nexport function keepAlive(superagentConstruct: superagent) {\n  let agent = this._config.secure ? keepAliveSecureAgent : keepAliveAgent;\n  if (agent === null) {\n    let AgentClass = this._config.secure ? AgentKeepAlive.HttpsAgent : AgentKeepAlive;\n    agent = new AgentClass(this._config.keepAliveSettings);\n    if (this._config.secure) {\n      keepAliveSecureAgent = agent;\n    } else {\n      keepAliveAgent = agent;\n    }\n  }\n\n  return superagentConstruct.agent(agent);\n}\n"]}