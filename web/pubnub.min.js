// Version: 3.5.49
(function(){
var u=void 0,x=!0,y=null,z=!1;function A(){return function(){}}
window.JSON&&window.JSON.stringify||function(){function b(){try{return this.valueOf()}catch(b){return y}}function e(b){d.lastIndex=0;return d.test(b)?'"'+b.replace(d,function(b){var c=p[b];return"string"===typeof c?c:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function c(d,p){var q,r,f,l,j,k=g,h=p[d];h&&"object"===typeof h&&(h=b.call(h));"function"===typeof m&&(h=m.call(p,d,h));switch(typeof h){case "string":return e(h);case "number":return isFinite(h)?String(h):"null";case "boolean":case "null":return String(h);
case "object":if(!h)return"null";g+=n;j=[];if("[object Array]"===Object.prototype.toString.apply(h)){l=h.length;for(q=0;q<l;q+=1)j[q]=c(q,h)||"null";f=0===j.length?"[]":g?"[\n"+g+j.join(",\n"+g)+"\n"+k+"]":"["+j.join(",")+"]";g=k;return f}if(m&&"object"===typeof m){l=m.length;for(q=0;q<l;q+=1)r=m[q],"string"===typeof r&&(f=c(r,h))&&j.push(e(r)+(g?": ":":")+f)}else for(r in h)Object.hasOwnProperty.call(h,r)&&(f=c(r,h))&&j.push(e(r)+(g?": ":":")+f);f=0===j.length?"{}":g?"{\n"+g+j.join(",\n"+g)+"\n"+
k+"}":"{"+j.join(",")+"}";g=k;return f}}window.JSON||(window.JSON={});var d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,n,p={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,d,e){var p;n=g="";if("number"===typeof e)for(p=0;p<e;p+=1)n+=" ";else"string"===typeof e&&(n=e);if((m=d)&&"function"!==typeof d&&("object"!==typeof d||"number"!==
typeof d.length))throw Error("JSON.stringify");return c("",{"":b})});"function"!==typeof JSON.parse&&(JSON.parse=function(b){return eval("("+b+")")})}();var ca=1,ea=z,fa=[],ga="-pnpres",C=1E3,ha="/",ja="&",ka=/{([\w\-]+)}/g;function la(){return"x"+ ++ca+""+ +new Date}function D(){return+new Date}var E,ma=Math.floor(20*Math.random());E=function(b,e){return 0<b.indexOf("pubsub.")&&b.replace("pubsub","ps"+(e?na().split("-")[0]:20>++ma?ma:ma=1))||b};
function oa(b,e){var c=b.join(ha),d=[];if(!e)return c;J(e,function(b,c){"undefined"!=typeof c&&(c!=y&&0<encodeURIComponent(c).length)&&d.push(b+"="+encodeURIComponent(c))});return c+="?"+d.join(ja)}function pa(b,e){function c(){g+e>D()?(clearTimeout(d),d=setTimeout(c,e)):(g=D(),b())}var d,g=0;return c}function qa(b,e){var c=[];J(b||[],function(b){e(b)&&c.push(b)});return c}function ra(b,e){return b.replace(ka,function(b,d){return e[d]||b})}
function na(b){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var d=16*Math.random()|0;return("x"==b?d:d&3|8).toString(16)});b&&b(e);return e}function J(b,e){if(b&&e)if("[object Array]"===Object.prototype.toString.call(b))for(var c=0,d=b.length;c<d;)e.call(b[c],b[c],c++);else for(c in b)b.hasOwnProperty&&b.hasOwnProperty(c)&&e.call(b[c],c,b[c])}function sa(b,e){var c=[];J(b||[],function(b,g){c.push(e(b,g))});return c}
function ta(b){var e=[];J(b,function(b,d){d.l&&e.push(b)});return e.sort()}function ua(){setTimeout(function(){ea||(ea=1,J(fa,function(b){b()}))},C)}
if(!window.PUBNUB){var va=function(b,e){return CryptoJS.HmacSHA256(b,e).toString(CryptoJS.enc.Base64)},wa=function(b){return document.getElementById(b)},xa=function(b){console.error(b)},ya=function(b,e){var c=[];J(b.split(/\s+/),function(b){J((e||document).getElementsByTagName(b),function(b){c.push(b)})});return c},za=function(b,e,c){J(b.split(","),function(b){function g(b){b||(b=window.event);c(b)||(b.cancelBubble=x,b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation())}e.addEventListener?
e.addEventListener(b,g,z):e.attachEvent?e.attachEvent("on"+b,g):e["on"+b]=g})},Aa=function(){return ya("head")[0]},N=function(b,e,c){if(c)b.setAttribute(e,c);else return b&&b.getAttribute&&b.getAttribute(e)},Ba=function(b,e){for(var c in e)if(e.hasOwnProperty(c))try{b.style[c]=e[c]+(0<"|width|height|top|left|".indexOf(c)&&"number"==typeof e[c]?"px":"")}catch(d){}},Ca=function(b){return document.createElement(b)},Fa=function(){return Da||O()?0:la()},Ha=function(b){function e(b,c){B||(B=1,h.onerror=
y,clearTimeout(K),b||!c||V(c),setTimeout(function(){b&&W();var c=wa(v),d=c&&c.parentNode;d&&d.removeChild(c)},C))}if(Da||O()){a:{var c,d,g=function(){if(!p){p=1;clearTimeout(s);try{d=JSON.parse(c.responseText)}catch(b){return l(1)}n=1;r(d)}},n=0,p=0,m=b.timeout||1E4,s=setTimeout(function(){l(1)},m),w=b.b||A(),q=b.data||{},r=b.c||A(),f="undefined"===typeof b.h,l=function(b,d){n||(n=1,clearTimeout(s),c&&(c.onerror=c.onload=y,c.abort&&c.abort(),c=y),b&&w(d))};try{c=O()||window.XDomainRequest&&new XDomainRequest||
new XMLHttpRequest;c.onerror=c.onabort=function(){l(1,c.responseText||{error:"Network Connection Error"})};c.onload=c.onloadend=g;c.onreadystatechange=function(){if(c&&4==c.readyState)switch(c.status){case 401:case 402:case 403:try{d=JSON.parse(c.responseText),l(1,d)}catch(b){return l(1,c.responseText)}}};f&&(c.timeout=m);q.pnsdk=Ga;var j=oa(b.url,q);c.open("GET",j,f);c.send()}catch(k){l(0);Da=0;b=Ha(b);break a}b=l}return b}var h=Ca("script"),g=b.a,v=la(),B=0,K=setTimeout(function(){e(1)},b.timeout||
1E4),W=b.b||A(),m=b.data||{},V=b.c||A();window[g]=function(b){e(0,b)};b.h||(h[Ia]=Ia);h.onerror=function(){e(1)};m.pnsdk=Ga;h.src=oa(b.url,m);N(h,"id",v);Aa().appendChild(h);return e},Ja=function(){return!("onLine"in navigator)?1:navigator.onLine},O=function(){if(!Ka||!Ka.get)return 0;var b={id:O.id++,send:A(),abort:function(){b.id={}},open:function(e,c){O[b.id]=b;Ka.get(b.id,c)}};return b},Ia="async",Ga="PubNub-JS-Web/3.5.49",Da=-1==navigator.userAgent.indexOf("MSIE 6");window.console||(window.console=
window.console||{});console.log||(console.log=console.error=(window.opera||{}).postError||A());var La,Oa=window.localStorage;La={get:function(b){try{return Oa?Oa.getItem(b):-1==document.cookie.indexOf(b)?y:((document.cookie||"").match(RegExp(b+"=([^;]+)"))||[])[1]||y}catch(e){}},set:function(b,e){try{if(Oa)return Oa.setItem(b,e)&&0;document.cookie=b+"="+e+"; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/"}catch(c){}}};var Pa={list:{},unbind:function(b){Pa.list[b]=[]},bind:function(b,e){(Pa.list[b]=
Pa.list[b]||[]).push(e)},fire:function(b,e){J(Pa.list[b]||[],function(b){b(e)})}},P,R=14,U=8,X=z,Qa=function(b,e){var c="",d,g;if(e){d=b[15];if(16<d)throw"Decryption error: Maybe bad key";if(16==d)return"";for(g=0;g<16-d;g++)c+=String.fromCharCode(b[g])}else for(g=0;16>g;g++)c+=String.fromCharCode(b[g]);return c},Ra=function(b,e){var c=[],d;if(!e)try{b=unescape(encodeURIComponent(b))}catch(g){throw"Error on UTF-8 encode";}for(d=0;d<b.length;d++)c[d]=b.charCodeAt(d);return c},Sa=function(b,e){var c=
12<=R?3:2,d=[],g=[],d=[],g=[],n=b.concat(e),p;d[0]=GibberishAES.m.n(n);g=d[0];for(p=1;p<c;p++)d[p]=GibberishAES.m.n(d[p-1].concat(n)),g=g.concat(d[p]);d=g.slice(0,4*U);g=g.slice(4*U,4*U+16);return{key:d,i:g}},Xa=function(b,e,c){var e=Ta(e),d=Math.ceil(b.length/16),g=[],n,p=[];for(n=0;n<d;n++){var m=g,s=n,w=b.slice(16*n,16*n+16),q=[],r=u,r=u;16>w.length&&(r=16-w.length,q=[r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r]);for(r=0;r<w.length;r++)q[r]=w[r];m[s]=q}0===b.length%16&&g.push([16,16,16,16,16,16,16,16,16,16,
16,16,16,16,16,16]);for(n=0;n<g.length;n++)g[n]=0===n?Ua(g[n],c):Ua(g[n],p[n-1]),p[n]=Va(g[n],e);return p},Za=function(b,e,c,d){var e=Ta(e),g=b.length/16,n=[],p,m=[],s="";for(p=0;p<g;p++)n.push(b.slice(16*p,16*(p+1)));for(p=n.length-1;0<=p;p--)m[p]=Ya(n[p],e),m[p]=0===p?Ua(m[p],c):Ua(m[p],n[p-1]);for(p=0;p<g-1;p++)s+=Qa(m[p]);var s=s+Qa(m[p],x),w;if(d)w=s;else try{w=decodeURIComponent(escape(s))}catch(q){throw"Bad Key";}return w},Va=function(b,e){X=z;var c=$a(b,e,0),d;for(d=1;d<R+1;d++)c=ab(c),c=
bb(c),d<R&&(c=cb(c)),c=$a(c,e,d);return c},Ya=function(b,e){X=x;var c=$a(b,e,R),d;for(d=R-1;-1<d;d--)c=bb(c),c=ab(c),c=$a(c,e,d),0<d&&(c=cb(c));return c},ab=function(b){var e=X?db:eb,c=[],d;for(d=0;16>d;d++)c[d]=e[b[d]];return c},bb=function(b){var e=[],c=X?[0,13,10,7,4,1,14,11,8,5,2,15,12,9,6,3]:[0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11],d;for(d=0;16>d;d++)e[d]=b[c[d]];return e},cb=function(b){var e=[],c;if(X)for(c=0;4>c;c++)e[4*c]=fb[b[4*c]]^gb[b[1+4*c]]^hb[b[2+4*c]]^ib[b[3+4*c]],e[1+4*c]=ib[b[4*c]]^
fb[b[1+4*c]]^gb[b[2+4*c]]^hb[b[3+4*c]],e[2+4*c]=hb[b[4*c]]^ib[b[1+4*c]]^fb[b[2+4*c]]^gb[b[3+4*c]],e[3+4*c]=gb[b[4*c]]^hb[b[1+4*c]]^ib[b[2+4*c]]^fb[b[3+4*c]];else for(c=0;4>c;c++)e[4*c]=jb[b[4*c]]^mb[b[1+4*c]]^b[2+4*c]^b[3+4*c],e[1+4*c]=b[4*c]^jb[b[1+4*c]]^mb[b[2+4*c]]^b[3+4*c],e[2+4*c]=b[4*c]^b[1+4*c]^jb[b[2+4*c]]^mb[b[3+4*c]],e[3+4*c]=mb[b[4*c]]^b[1+4*c]^b[2+4*c]^jb[b[3+4*c]];return e},$a=function(b,e,c){var d=[],g;for(g=0;16>g;g++)d[g]=b[g]^e[c][g];return d},Ua=function(b,e){var c=[],d;for(d=0;16>
d;d++)c[d]=b[d]^e[d];return c},Ta=function(b){var e=[],c=[],d,g,n=[];for(d=0;d<U;d++)g=[b[4*d],b[4*d+1],b[4*d+2],b[4*d+3]],e[d]=g;for(d=U;d<4*(R+1);d++){e[d]=[];for(b=0;4>b;b++)c[b]=e[d-1][b];if(0===d%U){b=c[0];g=u;for(g=0;4>g;g++)c[g]=c[g+1];c[3]=b;c=nb(c);c[0]^=ob[d/U-1]}else 6<U&&4==d%U&&(c=nb(c));for(b=0;4>b;b++)e[d][b]=e[d-U][b]^c[b]}for(d=0;d<R+1;d++){n[d]=[];for(c=0;4>c;c++)n[d].push(e[4*d+c][0],e[4*d+c][1],e[4*d+c][2],e[4*d+c][3])}return n},nb=function(b){for(var e=0;4>e;e++)b[e]=eb[b[e]];
return b},pb=function(b,e){var c=[];for(i=0;i<b.length;i+=e)c[i/e]=parseInt(b.substr(i,e),16);return c},Y=function(b){for(var e=[],c=0;256>c;c++){for(var d=b,g=c,n=u,p=u,n=p=0;8>n;n++)p=1==(g&1)?p^d:p,d=127<d?283^d<<1:d<<1,g>>>=1;e[c]=p}return e},eb=pb("637c777bf26b6fc53001672bfed7ab76ca82c97dfa5947f0add4a2af9ca472c0b7fd9326363ff7cc34a5e5f171d8311504c723c31896059a071280e2eb27b27509832c1a1b6e5aa0523bd6b329e32f8453d100ed20fcb15b6acbbe394a4c58cfd0efaafb434d338545f9027f503c9fa851a3408f929d38f5bcb6da2110fff3d2cd0c13ec5f974417c4a77e3d645d197360814fdc222a908846eeb814de5e0bdbe0323a0a4906245cc2d3ac629195e479e7c8376d8dd54ea96c56f4ea657aae08ba78252e1ca6b4c6e8dd741f4bbd8b8a703eb5664803f60e613557b986c11d9ee1f8981169d98e949b1e87e9ce5528df8ca1890dbfe6426841992d0fb054bb16",
2),db,qb=eb,rb=[];for(i=0;i<qb.length;i++)rb[qb[i]]=i;db=rb;var ob=pb("01020408102040801b366cd8ab4d9a2f5ebc63c697356ad4b37dfaefc591",2),jb=Y(2),mb=Y(3),ib=Y(9),gb=Y(11),hb=Y(13),fb=Y(14),sb,Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tb=Z.split("");"function"===typeof Array.indexOf&&(Z=tb);sb={encode:function(b){var e=[],c="",d;totalChunks=Math.floor(16*b.length/3);for(d=0;d<16*b.length;d++)e.push(b[Math.floor(d/16)][d%16]);for(d=0;d<e.length;d+=3)c+=tb[e[d]>>2],c+=tb[(e[d]&
3)<<4|e[d+1]>>4],c=e[d+1]!==u?c+tb[(e[d+1]&15)<<2|e[d+2]>>6]:c+"=",c=e[d+2]!==u?c+tb[e[d+2]&63]:c+"=";b=c.slice(0,64);for(d=1;d<Math.ceil(c.length/64);d++)b+=c.slice(64*d,64*d+64)+(Math.ceil(c.length/64)==d+1?"":"\n");return b},decode:function(b){var b=b.replace(/\n/g,""),e=[],c=[],d=[],g;for(g=0;g<b.length;g+=4)c[0]=Z.indexOf(b.charAt(g)),c[1]=Z.indexOf(b.charAt(g+1)),c[2]=Z.indexOf(b.charAt(g+2)),c[3]=Z.indexOf(b.charAt(g+3)),d[0]=c[0]<<2|c[1]>>4,d[1]=(c[1]&15)<<4|c[2]>>2,d[2]=(c[2]&3)<<6|c[3],
e.push(d[0],d[1],d[2]);return e=e.slice(0,e.length-e.length%16)}};P={size:function(b){switch(b){case 128:R=10;U=4;break;case 192:R=12;U=6;break;case 256:R=14;U=8;break;default:throw"Invalid Key Size Specified:"+b;}},h2a:function(b){var e=[];b.replace(/(..)/g,function(b){e.push(parseInt(b,16))});return e},expandKey:Ta,encryptBlock:Va,decryptBlock:Ya,Decrypt:X,s2a:Ra,rawEncrypt:Xa,rawDecrypt:Za,dec:function(b,e,c){var b=sb.t(b),d=b.slice(8,16),d=Sa(Ra(e,c),d),e=d.key,d=d.i,b=b.slice(16,b.length);return b=
Za(b,e,d,c)},openSSLKey:Sa,a2h:function(b){var e="",c;for(c=0;c<b.length;c++)e+=(16>b[c]?"0":"")+b[c].toString(16);return e},enc:function(b,e,c){var d;d=[];var g;for(g=0;8>g;g++)d=d.concat(Math.floor(256*Math.random()));g=Sa(Ra(e,c),d);e=g.key;g=g.i;d=[[83,97,108,116,101,100,95,95].concat(d)];b=Ra(b,c);b=Xa(b,e,g);b=d.concat(b);return sb.u(b)},Hash:{MD5:function(b){function e(b,c){var d,e,g,f,h;g=b&2147483648;f=c&2147483648;d=b&1073741824;e=c&1073741824;h=(b&1073741823)+(c&1073741823);return d&e?
h^2147483648^g^f:d|e?h&1073741824?h^3221225472^g^f:h^1073741824^g^f:h^g^f}function c(b,c,d,g,f,h,j){b=e(b,e(e(c&d|~c&g,f),j));return e(b<<h|b>>>32-h,c)}function d(b,c,d,g,f,h,j){b=e(b,e(e(c&g|d&~g,f),j));return e(b<<h|b>>>32-h,c)}function g(b,c,d,g,f,h,j){b=e(b,e(e(c^d^g,f),j));return e(b<<h|b>>>32-h,c)}function n(b,c,d,g,f,h,j){b=e(b,e(e(d^(c|~g),f),j));return e(b<<h|b>>>32-h,c)}function p(b){var c,d,e=[];for(d=0;3>=d;d++)c=b>>>8*d&255,e=e.concat(c);return e}var m=[],s,w,q,r,f,l,j,k,h=pb("67452301efcdab8998badcfe10325476d76aa478e8c7b756242070dbc1bdceeef57c0faf4787c62aa8304613fd469501698098d88b44f7afffff5bb1895cd7be6b901122fd987193a679438e49b40821f61e2562c040b340265e5a51e9b6c7aad62f105d02441453d8a1e681e7d3fbc821e1cde6c33707d6f4d50d87455a14eda9e3e905fcefa3f8676f02d98d2a4c8afffa39428771f6816d9d6122fde5380ca4beea444bdecfa9f6bb4b60bebfbc70289b7ec6eaa127fad4ef308504881d05d9d4d039e6db99e51fa27cf8c4ac5665f4292244432aff97ab9423a7fc93a039655b59c38f0ccc92ffeff47d85845dd16fa87e4ffe2ce6e0a30143144e0811a1f7537e82bd3af2352ad7d2bbeb86d391",
8),m=b.length;s=m+8;w=16*((s-s%64)/64+1);q=[];for(f=r=0;f<m;)s=(f-f%4)/4,r=8*(f%4),q[s]|=b[f]<<r,f++;s=(f-f%4)/4;q[s]|=128<<8*(f%4);q[w-2]=m<<3;q[w-1]=m>>>29;m=q;f=h[0];l=h[1];j=h[2];k=h[3];for(b=0;b<m.length;b+=16)s=f,w=l,q=j,r=k,f=c(f,l,j,k,m[b+0],7,h[4]),k=c(k,f,l,j,m[b+1],12,h[5]),j=c(j,k,f,l,m[b+2],17,h[6]),l=c(l,j,k,f,m[b+3],22,h[7]),f=c(f,l,j,k,m[b+4],7,h[8]),k=c(k,f,l,j,m[b+5],12,h[9]),j=c(j,k,f,l,m[b+6],17,h[10]),l=c(l,j,k,f,m[b+7],22,h[11]),f=c(f,l,j,k,m[b+8],7,h[12]),k=c(k,f,l,j,m[b+9],
12,h[13]),j=c(j,k,f,l,m[b+10],17,h[14]),l=c(l,j,k,f,m[b+11],22,h[15]),f=c(f,l,j,k,m[b+12],7,h[16]),k=c(k,f,l,j,m[b+13],12,h[17]),j=c(j,k,f,l,m[b+14],17,h[18]),l=c(l,j,k,f,m[b+15],22,h[19]),f=d(f,l,j,k,m[b+1],5,h[20]),k=d(k,f,l,j,m[b+6],9,h[21]),j=d(j,k,f,l,m[b+11],14,h[22]),l=d(l,j,k,f,m[b+0],20,h[23]),f=d(f,l,j,k,m[b+5],5,h[24]),k=d(k,f,l,j,m[b+10],9,h[25]),j=d(j,k,f,l,m[b+15],14,h[26]),l=d(l,j,k,f,m[b+4],20,h[27]),f=d(f,l,j,k,m[b+9],5,h[28]),k=d(k,f,l,j,m[b+14],9,h[29]),j=d(j,k,f,l,m[b+3],14,h[30]),
l=d(l,j,k,f,m[b+8],20,h[31]),f=d(f,l,j,k,m[b+13],5,h[32]),k=d(k,f,l,j,m[b+2],9,h[33]),j=d(j,k,f,l,m[b+7],14,h[34]),l=d(l,j,k,f,m[b+12],20,h[35]),f=g(f,l,j,k,m[b+5],4,h[36]),k=g(k,f,l,j,m[b+8],11,h[37]),j=g(j,k,f,l,m[b+11],16,h[38]),l=g(l,j,k,f,m[b+14],23,h[39]),f=g(f,l,j,k,m[b+1],4,h[40]),k=g(k,f,l,j,m[b+4],11,h[41]),j=g(j,k,f,l,m[b+7],16,h[42]),l=g(l,j,k,f,m[b+10],23,h[43]),f=g(f,l,j,k,m[b+13],4,h[44]),k=g(k,f,l,j,m[b+0],11,h[45]),j=g(j,k,f,l,m[b+3],16,h[46]),l=g(l,j,k,f,m[b+6],23,h[47]),f=g(f,l,
j,k,m[b+9],4,h[48]),k=g(k,f,l,j,m[b+12],11,h[49]),j=g(j,k,f,l,m[b+15],16,h[50]),l=g(l,j,k,f,m[b+2],23,h[51]),f=n(f,l,j,k,m[b+0],6,h[52]),k=n(k,f,l,j,m[b+7],10,h[53]),j=n(j,k,f,l,m[b+14],15,h[54]),l=n(l,j,k,f,m[b+5],21,h[55]),f=n(f,l,j,k,m[b+12],6,h[56]),k=n(k,f,l,j,m[b+3],10,h[57]),j=n(j,k,f,l,m[b+10],15,h[58]),l=n(l,j,k,f,m[b+1],21,h[59]),f=n(f,l,j,k,m[b+8],6,h[60]),k=n(k,f,l,j,m[b+15],10,h[61]),j=n(j,k,f,l,m[b+6],15,h[62]),l=n(l,j,k,f,m[b+13],21,h[63]),f=n(f,l,j,k,m[b+4],6,h[64]),k=n(k,f,l,j,m[b+
11],10,h[65]),j=n(j,k,f,l,m[b+2],15,h[66]),l=n(l,j,k,f,m[b+9],21,h[67]),f=e(f,s),l=e(l,w),j=e(j,q),k=e(k,r);return p(f).concat(p(l),p(j),p(k))}},Base64:sb};var ub=wa("pubnub")||0,vb=function(b){function e(){}function c(b,c){function d(c){c&&(Ma=D()-(c/1E4+(D()-e)/2),b&&b(Ma))}var e=D();c&&d(c)||F.time(d)}function d(b,c){$&&$(b,c);$=y}function g(){F.time(function(b){c(A(),b);b||d(1,{error:"Heartbeat failed to connect to Pubnub Servers.Please check your network settings."});setTimeout(g,j)})}function n(){yb()||
d(1,{error:"Offline. Please check your network settings. "});setTimeout(n,C)}function p(b){var c=0;J(ta(G),function(d){if(d=G[d])c++,(b||A())(d)});return c}function m(b){if(zb){if(!L.length)return}else{b&&(L.j=0);if(L.j||!L.length)return;L.j=1}H(L.shift())}function s(b){return vb(b)}function w(b){function c(b,d){var e=(b&65535)+(d&65535);return(b>>16)+(d>>16)+(e>>16)<<16|e&65535}function d(b,c){return b>>>c|b<<32-c}var e;e=b.replace(/\r\n/g,"\n");for(var b="",g=0;g<e.length;g++){var f=e.charCodeAt(g);
128>f?b+=String.fromCharCode(f):(127<f&&2048>f?b+=String.fromCharCode(f>>6|192):(b+=String.fromCharCode(f>>12|224),b+=String.fromCharCode(f>>6&63|128)),b+=String.fromCharCode(f&63|128))}g=b;e=[];for(f=0;f<8*g.length;f+=8)e[f>>5]|=(g.charCodeAt(f/8)&255)<<24-f%32;var h=8*b.length,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,
1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],b=[1779033703,3144134277,1013904242,2773480762,
1359893119,2600822924,528734635,1541459225],f=Array(64),j,l,m,k,n,p,r,s,q,t,v;e[h>>5]|=128<<24-h%32;e[(h+64>>9<<4)+15]=h;for(s=0;s<e.length;s+=16){h=b[0];j=b[1];l=b[2];m=b[3];k=b[4];n=b[5];p=b[6];r=b[7];for(q=0;64>q;q++)f[q]=16>q?e[q+s]:c(c(c(d(f[q-2],17)^d(f[q-2],19)^f[q-2]>>>10,f[q-7]),d(f[q-15],7)^d(f[q-15],18)^f[q-15]>>>3),f[q-16]),t=c(c(c(c(r,d(k,6)^d(k,11)^d(k,25)),k&n^~k&p),g[q]),f[q]),v=c(d(h,2)^d(h,13)^d(h,22),h&j^h&l^j&l),r=p,p=n,n=k,k=c(m,t),m=l,l=j,j=h,h=c(t,v);b[0]=c(h,b[0]);b[1]=c(j,
b[1]);b[2]=c(l,b[2]);b[3]=c(m,b[3]);b[4]=c(k,b[4]);b[5]=c(n,b[5]);b[6]=c(p,b[6]);b[7]=c(r,b[7])}e="";for(g=0;g<4*b.length;g++)e+="0123456789abcdef".charAt(b[g>>2]>>8*(3-g%4)+4&15)+"0123456789abcdef".charAt(b[g>>2]>>8*(3-g%4)&15);return e}b.jsonp&&(Da=0);var q=b.subscribe_key||"";b.uuid||La.get(q+"uuid");b.xdr=Ha;b.db=La;b.error=xa;b._is_online=Ja;b.jsonp_cb=Fa;b.PNSDK=Ga;b.hmac_SHA256=va;P.size(256);var r=P.s2a("0123456789012345");b.crypto_obj={encrypt:function(b,c){if(!c)return b;var d=P.s2a(w(c).slice(0,
32)),e=P.s2a(JSON.stringify(b)),d=P.rawEncrypt(e,d,r);return P.Base64.encode(d)||b.data},decrypt:function(b,c){if(!c)return b;var d=P.s2a(w(c).slice(0,32));try{var e=P.Base64.decode(b),f=P.rawDecrypt(e,d,r,z);return JSON.parse(f)}catch(g){}}};var f=+b.windowing||10,l=(+b.timeout||310)*C,j=(+b.keepalive||60)*C,k=b.noleave||0,h=b.publish_key||"demo",v=b.subscribe_key||"demo",B=b.auth_key||"",K=b.secret_key||"",W=b.PNSDK||"",V=b.hmac_SHA256,Ea=b.ssl?"s":"",da="http"+Ea+"://"+(b.origin||"pubsub.pubnub.com"),
Q=E(da),Wa=E(da),L=[],Ma=0,kb=0,lb=0,$=0,Na=0,aa=0,G={},zb=b.no_wait_for_pending,H=b.xdr,t=b.error||A(),yb=b._is_online||function(){return 1},M=b.jsonp_cb||function(){return 0},ba=b.db||{get:A(),set:A()},S=b.cipher_key,I=b.uuid||ba&&ba.get(v+"uuid")||"",ia=b.crypto_obj||{encrypt:function(b){return b},decrypt:function(b){return b}},F={LEAVE:function(b,c,d,e){var f={uuid:I,auth:B},g=E(da),d=d||A(),h=e||A(),e=M();if(0<b.indexOf(ga))return x;if(k||!Ea||"0"==e)return z;"0"!=e&&(f.callback=e);H({h:c||Ea,
timeout:2E3,a:e,data:f,c:function(b){"object"==typeof b&&b.error?h(b):d(b)},b:h,url:[g,"v2","presence","sub_key",v,"channel",encodeURIComponent(b),"leave"]});return x},get_cipher_key:function(){return S},set_cipher_key:function(b){S=b},history:function(b,c){var c=b.callback||c,d=b.count||b.limit||100,e=b.reverse||"false",f=b.error||A(),g=b.auth_key||B,h=b.cipher_key,j=b.channel,l=b.start,k=b.end,m={},n=M();if(!j)return t("Missing Channel");if(!c)return t("Missing Callback");if(!v)return t("Missing Subscribe Key");
m.stringtoken="true";m.count=d;m.reverse=e;m.auth=g;n&&(m.callback=n);l&&(m.start=l);k&&(m.end=k);H({a:n,data:m,c:function(b){if("object"==typeof b&&b.error)f(b);else{var d=b[0],e=[];for(a=0;a<d.length;a++){var g=ia.g(d[a],h||S)||ia.g(d[a],S)||d[a];try{e.push(JSON.parse(g))}catch(j){e.push(g)}}c([e,b[1],b[2]])}},b:f,url:[Q,"v2","history","sub-key",v,"channel",encodeURIComponent(j)]})},replay:function(b){var c=c||b.callback||A(),d=b.auth_key||B,e=b.source,f=b.destination,g=b.stop,j=b.start,m=b.end,
l=b.reverse,b=b.limit,k=M(),n={};if(!e)return t("Missing Source Channel");if(!f)return t("Missing Destination Channel");if(!h)return t("Missing Publish Key");if(!v)return t("Missing Subscribe Key");"0"!=k&&(n.callback=k);g&&(n.stop="all");l&&(n.reverse="true");j&&(n.start=j);m&&(n.end=m);b&&(n.count=b);n.auth=d;H({a:k,c:function(b){"object"==typeof b&&b.error?err(b):c(b)},b:function(){c([0,"Disconnected"])},url:[Q,"v1","replay",h,v,e,f],data:n})},auth:function(b){B=b;e()},time:function(b){var c=M();
H({a:c,data:{uuid:I,auth:B},timeout:5*C,url:[Q,"time",c],c:function(c){b(c[0])},b:function(){b(0)}})},publish:function(b,c){var c=c||b.callback||A(),d=b.message,e=b.channel,f=b.auth_key||B,g=b.cipher_key,j=b.error||A(),l=M(),k="push";b.prepend&&(k="unshift");if(!d)return t("Missing Message");if(!e)return t("Missing Channel");if(!h)return t("Missing Publish Key");if(!v)return t("Missing Subscribe Key");d=JSON.stringify(ia.v(d,g||S)||d);L[k]({a:l,timeout:5*C,url:[Q,"publish",h,v,0,encodeURIComponent(e),
l,encodeURIComponent(d)],data:{uuid:I,auth:f},b:function(b){j(b);m(1)},c:function(b){"object"==typeof b&&b.error?j(b):c(b);m(1)}});m()},unsubscribe:function(b,c){var d=b.channel,c=c||b.callback||A(),f=b.error||A();aa=0;Na=1;d=sa((d.join?d.join(","):""+d).split(","),function(b){if(G[b])return b+","+b+ga}).join(",");J(d.split(","),function(b){var d=x;b&&(ea&&(d=F.LEAVE(b,0,c,f)),d||c({action:"leave"}),G[b]=0)});e()},subscribe:function(b,c){function g(b){b?setTimeout(e,C):(Q=E(da,1),Wa=E(da,1),setTimeout(function(){F.time(g)},
C));p(function(c){if(b&&c.d)return c.d=0,c.q(c.name);!b&&!c.d&&(c.d=1,c.p(c.name))})}function h(){var b=M(),c=ta(G).join(",");c&&(d(),$=H({timeout:W,a:b,b:function(b){r(b);$=y;F.time(g)},data:{uuid:I,auth:m},url:[Wa,"subscribe",v,encodeURIComponent(c),b,aa],c:function(b){$=y;if(!b||"object"==typeof b&&"error"in b&&b.error)return r(b),setTimeout(e,C);s(b[1]);aa=!aa&&Na&&ba.get(v)||b[1];p(function(b){b.f||(b.f=1,b.o(b.name))});K&&(aa=1E4,K=0);ba.set(v,b[1]);var c,d=(2<b.length?b[2]:sa(ta(G),function(c){return sa(Array(b[0].length).join(",").split(","),
function(){return c})}).join(",")).split(",");c=function(){var b=d.shift()||lb;return[(G[b]||{}).a||kb,b.split(ga)[0]]};var f=D()-Ma-+b[1]/1E4;J(b[0],function(d){var e=c(),d=ia.g(d,G[e[1]].cipher_key||S)||ia.g(d,S)||d;try{e[0](JSON.parse(d),b,e[1],f)}catch(g){e[0](d,b,e[1],f)}});setTimeout(h,T)}}))}var j=b.channel,c=(c=c||b.callback)||b.message,m=b.auth_key||B,k=b.connect||A(),n=b.reconnect||A(),q=b.disconnect||A(),r=b.error||A(),s=b.idle||A(),w=b.presence||0,L=b.noheresync||0,K=b.backfill||0,V=b.timetoken||
0,W=b.timeout||l,T=b.windowing||f;Na=b.restore;aa=V;if(!j)return t("Missing Channel");if(!c)return t("Missing Callback");if(!v)return t("Missing Subscribe Key");J((j.join?j.join(","):""+j).split(","),function(d){var e=G[d]||{};G[lb=d]={name:d,f:e.f,d:e.d,l:1,a:kb=c,s:b.cipher_key,o:k,p:q,q:n};w&&(F.subscribe({channel:d+ga,callback:w}),!e.l&&!L&&F.here_now({channel:d,callback:function(b){J("uuids"in b?b.uuids:[],function(c){w({action:"join",uuid:c,timestamp:D(),occupancy:b.occupancy||1},b,d)})}}))});
e=function(){d();setTimeout(h,T)};if(!ea)return fa.push(e);e()},here_now:function(b,c){var c=b.callback||c,d=b.error||A(),e=b.auth_key||B,f=b.channel,g=M(),e={uuid:I,auth:e};if(!f)return t("Missing Channel");if(!c)return t("Missing Callback");if(!v)return t("Missing Subscribe Key");"0"!=g&&(e.callback=g);H({a:g,data:e,c:function(b){"object"==typeof b&&b.error?d(b):c(b)},b:d,url:[Q,"v2","presence","sub_key",v,"channel",encodeURIComponent(f)]})},grant:function(b,c){var c=b.callback||c,d=b.error||A(),
e=b.channel,f=M(),g=b.ttl||-1,j=b.read?"1":"0",m=b.write?"1":"0",l=b.auth_key;if(!e)return t("Missing Channel");if(!c)return t("Missing Callback");if(!v)return t("Missing Subscribe Key");if(!h)return t("Missing Publish Key");if(!K)return t("Missing Secret Key");"0"!=f&&(k.callback=f);var k=Math.floor((new Date).getTime()/1E3),n=V(v+"\n"+h+"\ngrant\n"+(l&&0<encodeURIComponent(l).length?"auth="+encodeURIComponent(l)+"&":"")+"channel="+encodeURIComponent(e)+"&pnsdk="+encodeURIComponent(W)+"&r="+j+"&timestamp="+
encodeURIComponent(k)+(-1<g?"&ttl="+g:"")+"&w="+m,K),n=n.replace(/\+/g,"-"),n=n.replace(/\//g,"_"),k={w:m,r:j,signature:n,channel:encodeURIComponent(e),timestamp:k};-1<g&&(k.ttl=g);l&&(k.auth=encodeURIComponent(l));H({a:f,data:k,c:function(b){c(b)},b:d,url:[Q,"v1","auth","grant","sub-key",v]})},audit:function(b,c){var c=b.callback||c,d=b.error||A(),e=b.channel,f=b.auth_key,g=M();if(!c)return t("Missing Callback");if(!v)return t("Missing Subscribe Key");if(!h)return t("Missing Publish Key");if(!K)return t("Missing Secret Key");
"0"!=g&&(j.callback=g);var j=Math.floor((new Date).getTime()/1E3),k=v+"\n"+h+"\naudit\n";f&&(k+="auth="+encodeURIComponent(f)+"&");e&&(k+="channel="+encodeURIComponent(e)+"&");var k=k+("pnsdk="+encodeURIComponent(W)+"&timestamp="+j),k=V(k,K),k=k.replace(/\+/g,"-"),k=k.replace(/\//g,"_"),j={signature:k,timestamp:j};e&&(j.channel=encodeURIComponent(e));f&&(j.auth=encodeURIComponent(f));H({a:g,data:j,c:function(b){c(b)},b:d,url:[Q,"v1","auth","audit","sub-key",v]})},revoke:function(b,c){b.read=z;b.write=
z;F.grant(b,c)},set_uuid:function(b){I=b;e()},get_uuid:function(){return I},xdr:H,ready:ua,db:ba,uuid:na,map:sa,each:J,"each-channel":p,grep:qa,offline:function(){d(1)},supplant:ra,now:D,unique:la,updater:pa};I||(I=F.uuid());ba.set(v+"uuid",I);setTimeout(n,C);setTimeout(g,j);c();var q=F,T;for(T in q)q.hasOwnProperty(T)&&(s[T]=q[T]);s.css=Ba;s.$=wa;s.create=Ca;s.bind=za;s.head=Aa;s.search=ya;s.attr=N;s.events=Pa;s.init=s;za("beforeunload",window,function(){s["each-channel"](function(b){s.LEAVE(b.name,
0)});return x});if(b.notest)return s;za("offline",window,s.offline);za("offline",document,s.offline);return s};vb.init=vb;"complete"===document.readyState?setTimeout(ua,0):za("load",window,function(){setTimeout(ua,0)});var wb=ub||{};PUBNUB=vb({notest:1,publish_key:N(wb,"pub-key"),subscribe_key:N(wb,"sub-key"),ssl:!document.location.href.indexOf("https")||"on"==N(wb,"ssl"),origin:N(wb,"origin"),uuid:N(wb,"uuid")});window.jQuery&&(window.jQuery.PUBNUB=vb);"undefined"!==typeof module&&(module.exports=
PUBNUB)&&ua();var Ka=wa("pubnubs")||0;if(ub){Ba(ub,{position:"absolute",top:-C});if("opera"in window||N(ub,"flash"))ub.innerHTML="<object id=pubnubs data=https://pubnub.a.ssl.fastly.net/pubnub.swf><param name=movie value=https://pubnub.a.ssl.fastly.net/pubnub.swf><param name=allowscriptaccess value=always></object>";PUBNUB.rdx=function(b,e){if(!e)return O[b].onerror();O[b].responseText=unescape(e);O[b].onload()};O.id=C}}
var xb=PUBNUB.ws=function(b,e){if(!(this instanceof xb))return new xb(b,e);var c=this,b=c.url=b||"";c.protocol=e||"Sec-WebSocket-Protocol";var d=b.split("/"),d={ssl:"wss:"===d[0],origin:d[2],publish_key:d[3],subscribe_key:d[4],channel:d[5]};c.CONNECTING=0;c.OPEN=1;c.CLOSING=2;c.CLOSED=3;c.CLOSE_NORMAL=1E3;c.CLOSE_GOING_AWAY=1001;c.CLOSE_PROTOCOL_ERROR=1002;c.CLOSE_UNSUPPORTED=1003;c.CLOSE_TOO_LARGE=1004;c.CLOSE_NO_STATUS=1005;c.CLOSE_ABNORMAL=1006;c.onclose=c.onerror=c.onmessage=c.onopen=c.onsend=
A();c.binaryType="";c.extensions="";c.bufferedAmount=0;c.trasnmitting=z;c.buffer=[];c.readyState=c.CONNECTING;if(!b)return c.readyState=c.CLOSED,c.onclose({code:c.CLOSE_ABNORMAL,reason:"Missing URL",wasClean:x}),c;c.e=PUBNUB.init(d);c.e.k=d;c.k=d;c.e.subscribe({restore:z,channel:d.channel,disconnect:c.onerror,reconnect:c.onopen,error:function(){c.onclose({code:c.CLOSE_ABNORMAL,reason:"Missing URL",wasClean:z})},callback:function(b){c.onmessage({data:b})},connect:function(){c.readyState=c.OPEN;c.onopen()}})};
xb.prototype.send=function(b){var e=this;e.e.publish({channel:e.e.k.channel,message:b,callback:function(b){e.onsend({data:b})}})};
})();
