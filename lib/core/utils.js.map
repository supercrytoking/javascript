{"version":3,"sources":["core/utils.js"],"names":["pamEncode","str","encodeURIComponent","replace","c","charCodeAt","toString","toUpperCase","objectToList","o","l","Object","keys","forEach","key","push","objectToListSorted","sort","signPamFromParams","params","map","paramKey","join","module","exports","endsWith","searchString","suffix","indexOf","length"],"mappings":";;AAEA,SAASA,SAAT,CAAmBC,GAAnB,EAAwC;AACtC,SAAOC,mBAAmBD,GAAnB,EAAwBE,OAAxB,CAAgC,WAAhC,EAA6C,UAACC,CAAD;AAAA,WAAO,MAAMA,EAAEC,UAAF,CAAa,CAAb,EAAgBC,QAAhB,CAAyB,EAAzB,EAA6BC,WAA7B,EAAb;AAAA,GAA7C,CAAP;AACD;;AAED,SAASC,YAAT,CAAsBC,CAAtB,EAA+C;AAC7C,MAAIC,IAAI,EAAR;AACAC,SAAOC,IAAP,CAAYH,CAAZ,EAAeI,OAAf,CAAuB,UAACC,GAAD;AAAA,WAASJ,EAAEK,IAAF,CAAOD,GAAP,CAAT;AAAA,GAAvB;AACA,SAAOJ,CAAP;AACD;;AAED,SAASM,kBAAT,CAA4BP,CAA5B,EAAqD;AACnD,SAAOD,aAAaC,CAAb,EAAgBQ,IAAhB,EAAP;AACD;;AAED,SAASC,iBAAT,CAA2BC,MAA3B,EAAmD;AACjD,MAAIT,IAAIM,mBAAmBG,MAAnB,CAAR;AACA,SAAOT,EAAEU,GAAF,CAAM,UAACC,QAAD;AAAA,WAAcA,WAAW,GAAX,GAAiBrB,UAAUmB,OAAOE,QAAP,CAAV,CAA/B;AAAA,GAAN,EAAkEC,IAAlE,CAAuE,GAAvE,CAAP;AACD;;AAEDC,OAAOC,OAAP,GAAiB;AACfN,sCADe;AAEfO,UAFe,oBAENC,YAFM,EAEgBC,MAFhB,EAEyC;AACtD,WAAOD,aAAaE,OAAb,CAAqBD,MAArB,EAA6B,KAAKE,MAAL,GAAcF,OAAOE,MAAlD,MAA8D,CAAC,CAAtE;AACD;AAJc,CAAjB","file":"core/utils.js","sourcesContent":["/* @flow */\n\nfunction pamEncode(str: string): string {\n  return encodeURIComponent(str).replace(/[!'()*~]/g, (c) => '%' + c.charCodeAt(0).toString(16).toUpperCase());\n}\n\nfunction objectToList(o: Object): Array<mixed> {\n  let l = [];\n  Object.keys(o).forEach((key) => l.push(key));\n  return l;\n}\n\nfunction objectToListSorted(o: Object): Array<mixed> {\n  return objectToList(o).sort();\n}\n\nfunction signPamFromParams(params: Object): string {\n  let l = objectToListSorted(params);\n  return l.map((paramKey) => paramKey + '=' + pamEncode(params[paramKey])).join('&');\n}\n\nmodule.exports = {\n  signPamFromParams,\n  endsWith(searchString: string, suffix: string): boolean {\n    return searchString.indexOf(suffix, this.length - suffix.length) !== -1;\n  }\n};\n"],"sourceRoot":"/source/"}