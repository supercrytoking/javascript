{"version":3,"sources":["core/presenters/responders.js"],"names":[],"mappings":";;;;;;;;;;;;;AAKE,kBAAY,cAAZ,EAAoC;AAAA;;AAClC,SAAK,cAAL,GAAsB,cAAtB;AACD;;;;6BAEQ,Q,EAAkB,S,EAAoB;AAC7C,UAAI,QAAO,QAAP,yCAAO,QAAP,OAAoB,QAAxB,EAAkC;AAChC,YAAI,SAAS,KAAb,EAAoB;AAClB,eAAK,KAAL,CAAW,QAAX,EAAqB,SAArB;AACA;AACD;AACD,YAAI,SAAS,OAAb,EAAsB;AACpB,cAAI,SAAS,SAAb,EAAwB;AACtB,gBAAI,SAAJ,EAAc,UAAS,SAAS,OAAlB,EAA2B,SAAS,SAApC;AACf,WAFD,MAEO;AACL,gBAAI,SAAJ,EAAc,UAAS,SAAS,OAAlB;AACf;AACD;AACD;AACF;AACD,UAAI,SAAJ,EAAc,UAAS,QAAT;AACf;;;0BAEK,Q,EAAkB,Q,EAAoB;AAC1C,UAAI,QAAO,QAAP,yCAAO,QAAP,OAAoB,QAApB,IAAgC,SAAS,KAA7C,EAAoD;AAClD,YAAI,eAAe,MAAM,QAAN,EAAgB,CAAC,SAAD,EAAY,SAAZ,CAAhB,CAAnB;AACA,eAAO,KAAK,YAAL,CAAkB,QAAlB,EAA4B,YAA5B,EAA0C,iBAA1C,CAAP;AACD,OAHD,MAGO;AACL,eAAO,KAAK,YAAL,CAAkB,QAAlB,EAA4B,EAAE,SAAS,QAAX,EAA5B,EAAmD,iBAAnD,CAAP;AACD;AACF;;;oCAEe,O,EAAyB;AACvC,aAAO,KAAK,YAAL,CAAkB,EAAE,gBAAF,EAAlB,EAA+B,iBAA/B,CAAP;AACD;;;iCAEY,Y,EAAsB,I,EAAsB;AACvD,mBAAa,SAAb,GAAyB,KAAK,cAA9B;AACA,mBAAa,IAAb,GAAoB,IAApB;AACA,aAAO,YAAP;AACD","file":"core/presenters/responders.js","sourcesContent":["/* @flow */\nexport default class {\n\n  _componentName: string;\n\n  constructor(componenetName: string) {\n    this._componentName = componenetName;\n  }\n\n  callback(response: Object, callback: Function) {\n    if (typeof response === 'object') {\n      if (response.error) {\n        this.error(response, callback);\n        return;\n      }\n      if (response.payload) {\n        if (response.next_page) {\n          if (callback) callback(response.payload, response.next_page);\n        } else {\n          if (callback) callback(response.payload);\n        }\n        return;\n      }\n    }\n    if (callback) callback(response);\n  }\n\n  error(response: Object, callback: Function) {\n    if (typeof response === 'object' && response.error) {\n      let preparedData = _pick(response, ['message', 'payload']);\n      return this._createError(callback, preparedData, 'httpResultError');\n    } else {\n      return this._createError(callback, { message: response }, 'httpResultError');\n    }\n  }\n\n  validationError(message: string): Object {\n    return this._createError({ message }, 'validationError');\n  }\n\n  _createError(errorPayload: Object, type: string): Object {\n    errorPayload.component = this._componentName;\n    errorPayload.type = type;\n    return errorPayload;\n  }\n\n}\n"],"sourceRoot":"/source/"}