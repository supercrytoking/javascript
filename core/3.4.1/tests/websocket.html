<!doctype html>
<html>
<head>
    <!-- Hey, let's be friends! twitter.com/pubnub -->
    <title>PubNub JavaScript Unit Test</title>
    <meta http-equiv=content-type content=text/html;charset=utf-8>
</head>
<body>

<div id=pubnub sub-key=demo pub-key=demo></div>
<script src=../pubnub-3.4.1.min.js></script>
<script>(function(){

    "use strict"

    /* 'wss://ORIGIN/PUBLISH_KEY/SUBSCRIBE_KEY/CHANNEL' */
    var socket = new WebSocket('wss://pubsub.pubnub.com/demo/demo/my_channel')

    socket.onmessage = function(evt) {
        console.log('socket receive');
        console.log(evt.data);
    }
    socket.onclose = function() {
        console.log('socket closed');
    }
    socket.onerror = function() {
        console.log('socket error');
    }
    socket.onopen = function(evt) {
        console.log('socket open');
        socket.send('hello world!');
    }
    socket.onsend = function(evt) {
        console.log('socket send');
        console.log(evt);
    }

    console.log(socket)

})();</script>
</div>
</body>
</html>
