{"version":3,"sources":["cbor/common.js"],"names":["tokenString","padding","length","cleaned","replace","result","cbor","decode","Buffer","from","undefined"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;;;;gCAGcA,W,EAAa;AACvB,UAAIC,OAAO,GAAG,EAAd;;AAEA,UAAID,WAAW,CAACE,MAAZ,GAAqB,CAArB,KAA2B,CAA/B,EAAkC;AAChCD,QAAAA,OAAO,GAAG,GAAV;AACD,OAFD,MAEO,IAAID,WAAW,CAACE,MAAZ,GAAqB,CAArB,KAA2B,CAA/B,EAAkC;AACvCD,QAAAA,OAAO,GAAG,IAAV;AACD;;AAED,UAAIE,OAAO,GAAGH,WAAW,CAACI,OAAZ,CAAoB,GAApB,EAAyB,GAAzB,EAA8BA,OAA9B,CAAsC,GAAtC,EAA2C,GAA3C,IAAkDH,OAAhE;;AAEA,UAAII,MAAM,GAAGC,qBAAKC,MAAL,CAAY,IAAIC,MAAM,CAACC,IAAX,CAAgBN,OAAhB,EAAyB,QAAzB,CAAZ,CAAb;;AAEA,UAAI,QAAOE,MAAP,MAAkB,QAAtB,EAAgC;AAC9B,eAAOA,MAAP;AACD;;AAED,aAAOK,SAAP;AACD","sourcesContent":["import cbor from 'cbor-sync';\n\nexport default class {\n  decodeToken(tokenString) {\n    let padding = '';\n\n    if (tokenString.length % 4 === 3) {\n      padding = '=';\n    } else if (tokenString.length % 4 === 2) {\n      padding = '==';\n    }\n\n    let cleaned = tokenString.replace('-', '+').replace('_', '/') + padding;\n\n    let result = cbor.decode(new Buffer.from(cleaned, 'base64'));\n\n    if (typeof result === 'object') {\n      return result;\n    }\n\n    return undefined;\n  }\n}\n"],"file":"common.js"}