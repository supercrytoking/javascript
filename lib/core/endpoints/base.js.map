{"version":3,"sources":["core/endpoints/base.js"],"names":[],"mappings":";;;;;;;;AAEA;;;;AACA;;;;AACA;;;;;;;AAYE,wBAAuC;AAAA,QAAzB,MAAyB,QAAzB,MAAyB;;AAAA;;AACrC,SAAK,OAAL,GAAe,MAAf;AACD;;;;2CAEsB,c,EAAoC;AACzD,UAAI,CAAC,cAAL,EAAqB;AACnB,eAAO,KAAP;AACD;AACD,aAAO,IAAP;AACD;;;qCAEgB,c,EAAoC;AAAA;;AACnD,UAAI,OAAO,EAAX;;AAEA,aAAO,IAAP,CAAY,KAAK,OAAL,CAAa,UAAzB,EAAqC,OAArC,CAA6C,UAAC,GAAD,EAAS;AACpD,YAAI,QAAQ,MAAK,OAAL,CAAa,UAAb,CAAwB,GAAxB,CAAZ;AACA,YAAI,EAAE,OAAO,IAAT,CAAJ,EAAoB,KAAK,GAAL,IAAY,KAAZ;AACrB,OAHD;;AAKA,UAAI,KAAK,OAAL,CAAa,mBAAb,EAAJ,EAAwC;AACtC,aAAK,UAAL,GAAkB,KAAK,OAAL,CAAa,aAAb,EAAlB;AACD;;AAED,UAAI,eAAe,MAAf,CAAsB,OAAtB,IAAiC,KAAK,OAAL,CAAa,OAAlD,EAA2D;AACzD,aAAK,IAAL,GAAY,KAAK,OAAL,CAAa,OAAzB;AACD;;AAED,UAAI,eAAe,MAAf,CAAsB,IAAtB,IAA8B,KAAK,OAAL,CAAa,IAA/C,EAAqD;AACnD,aAAK,IAAL,GAAY,KAAK,OAAL,CAAa,IAAzB;AACD;;AAED,aAAO,IAAP;AACD;;;0CAEqB,O,EAAyB;AAC7C,aAAO,KAAK,YAAL,CAAkB,EAAE,gBAAF,EAAlB,EAA+B,iBAA/B,CAAP;AACD;;;iCAEY,Y,EAAsB,I,EAAsB;AACvD,mBAAa,IAAb,GAAoB,IAApB;AACA,aAAO,YAAP;AACD;;;0BAEqB;AAAA,wCAAf,MAAe;AAAf,cAAe;AAAA;;AACpB,cAAQ,GAAR,CAAY,KAAZ,CAAkB,OAAlB,EAA2B,MAA3B;AACD","file":"core/endpoints/base.js","sourcesContent":["/* @flow */\n\nimport Networking from '../components/networking';\nimport Config from '../components/config';\nimport { endpointDefinition } from '../flow_interfaces';\n\ntype baseConstruct = {\n  config: Config\n};\n\nexport default class {\n\n  _networking: Networking;\n  _config: Config;\n  _componentName: string;\n\n  constructor({ config }: baseConstruct) {\n    this._config = config;\n  }\n\n  validateEndpointConfig(endpointConfig: endpointDefinition) {\n    if (!endpointConfig) {\n      return false;\n    }\n    return true;\n  }\n\n  createBaseParams(endpointConfig: endpointDefinition) {\n    let data = {};\n\n    Object.keys(this._config.baseParams).forEach((key) => {\n      let value = this._config.baseParams[key];\n      if (!(key in data)) data[key] = value;\n    });\n\n    if (this._config.isInstanceIdEnabled()) {\n      data.instanceid = this._config.getInstanceId();\n    }\n\n    if (endpointConfig.params.authKey && this._config.authKey) {\n      data.auth = this._config.authKey;\n    }\n\n    if (endpointConfig.params.uuid && this._config.UUID) {\n      data.uuid = this._config.UUID;\n    }\n\n    return data;\n  }\n\n  createValidationError(message: string): Object {\n    return this._createError({ message }, 'validationError');\n  }\n\n  _createError(errorPayload: Object, type: string): Object {\n    errorPayload.type = type;\n    return errorPayload;\n  }\n\n  log(...params: mixed) {\n    console.log.apply(console, params); // eslint-disable-line no-console\n  }\n\n}\n"],"sourceRoot":"/source/"}