{"version":3,"sources":["core/utils.js"],"names":["pamEncode","str","encodeURIComponent","replace","c","charCodeAt","toString","toUpperCase","objectToList","o","l","Object","keys","forEach","push","key","objectToListSorted","sort","signPamFromParams","params","map","paramKey","join","module","exports","endsWith","searchString","suffix","indexOf","length"],"mappings":";;AAEA,SAASA,SAAT,CAAmBC,GAAnB,EAAwC;AACtC,SAAOC,mBAAmBD,GAAnB,EAAwBE,OAAxB,CAAgC,WAAhC,EAA6C;AAAA,WAAK,MAAMC,EAAEC,UAAF,CAAa,CAAb,EAAgBC,QAAhB,CAAyB,EAAzB,EAA6BC,WAA7B,EAAX;AAAA,GAA7C,CAAP;AACD;;AAED,SAASC,YAAT,CAAsBC,CAAtB,EAA6C;AAC3C,MAAIC,IAAI,EAAR;AACAC,SAAOC,IAAP,CAAYH,CAAZ,EAAeI,OAAf,CAAuB;AAAA,WAAOH,EAAEI,IAAF,CAAOC,GAAP,CAAP;AAAA,GAAvB;AACA,SAAOL,CAAP;AACD;;AAED,SAASM,kBAAT,CAA4BP,CAA5B,EAAmD;AACjD,SAAOD,aAAaC,CAAb,EAAgBQ,IAAhB,EAAP;AACD;;AAED,SAASC,iBAAT,CAA2BC,MAA3B,EAAmD;AACjD,MAAIT,IAAIM,mBAAmBG,MAAnB,CAAR;AACA,SAAOT,EAAEU,GAAF,CAAM;AAAA,WAAYC,WAAW,GAAX,GAAiBrB,UAAUmB,OAAOE,QAAP,CAAV,CAA7B;AAAA,GAAN,EAAgEC,IAAhE,CAAqE,GAArE,CAAP;AACD;;AAEDC,OAAOC,OAAP,GAAiB;AACfN,sCADe;AAEfO,UAFe,oBAENC,YAFM,EAEgBC,MAFhB,EAEyC;AACtD,WAAOD,aAAaE,OAAb,CAAqBD,MAArB,EAA6B,KAAKE,MAAL,GAAcF,OAAOE,MAAlD,MAA8D,CAAC,CAAtE;AACD;AAJc,CAAjB","file":"core/utils.js","sourcesContent":["/* @flow */\n\nfunction pamEncode(str: string): string {\n  return encodeURIComponent(str).replace(/[!'()*~]/g, c => '%' + c.charCodeAt(0).toString(16).toUpperCase());\n}\n\nfunction objectToList(o: Object): Array<any> {\n  let l = [];\n  Object.keys(o).forEach(key => l.push(key));\n  return l;\n}\n\nfunction objectToListSorted(o: Object): Array<any> {\n  return objectToList(o).sort();\n}\n\nfunction signPamFromParams(params: Object): string {\n  let l = objectToListSorted(params);\n  return l.map(paramKey => paramKey + '=' + pamEncode(params[paramKey])).join('&');\n}\n\nmodule.exports = {\n  signPamFromParams,\n  endsWith(searchString: string, suffix: string): boolean {\n    return searchString.indexOf(suffix, this.length - suffix.length) !== -1;\n  }\n};\n"],"sourceRoot":"/source/"}