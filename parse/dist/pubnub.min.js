!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b(require("crypto"),require("buffer")):"function"==typeof define&&define.amd?define(["crypto","buffer"],b):"object"==typeof exports?exports.PUBNUB=b(require("crypto"),require("buffer")):a.PUBNUB=b(a.crypto,a.buffer)}(this,function(a,b){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){function d(a,b){return h.createHmac("sha256",new i(b,"utf8")).update(a).digest("base64")}function e(a){console.error(a)}function f(a){function b(a,b){g({message:a,payload:b})}var c,d,e,f=a.success||function(){},g=a.fail||function(){},h=a.mode||"GET",i=a.data||{},j={};i.pnsdk=l,"POST"===h&&(c=decodeURIComponent(a.url.pop())),e=k.build_url(a.url,i),e="/"+e.split("/").slice(3).join("/"),d=a.url[0].split("//")[1],j.url="http://"+d+e,j.method=h,j.body=c,Parse.Cloud.httpRequest(j).then(function(a){var c;try{c=JSON.parse(a.text)}catch(d){return void b("Bad JSON response",a.text)}f(c)},function(a){var c;try{c=JSON.parse(a.text),"object"==typeof c&&"error"in c&&c.error===!0?g(c):b("Network error",a.text)}catch(d){b("Network error",a.text)}})}function g(){function a(a){return h.createHash("sha256").update(a).digest("hex").slice(0,32)}var b="0123456789012345";return{encrypt:function(c,d){if(!d)return c;var e=JSON.stringify(c),f=h.createCipheriv("aes-256-cbc",a(d),b),g=f.update(e,"utf8","base64")+f["final"]("base64");return g||c},decrypt:function(c,d){var e;if(!d)return c;var f=h.createDecipheriv("aes-256-cbc",a(d),b);try{e=f.update(c,"base64","utf8")+f["final"]("utf8")}catch(g){return null}return JSON.parse(e)}}}var h=c(1),i=c(2).Buffer,j=c(3),k=c(4),l="PubNub-JS-Parse/"+j.version,m=function(){var a={};return{get:function(b){return a[b]},set:function(b,c){a[b]=c}}}(),n=function(a){a.xdr=f,a.db=m,a.error=a.error||e,a.hmac_SHA256=d,a.crypto_obj=g(),a.params={pnsdk:l};var b=function(a){return n(a)},c=k.PN_API(a);for(var h in c)c.hasOwnProperty(h)&&(b[h]=c[h]);return b.init=b,b.secure=b,b.subscribe=function(){throw Error("#subscribe() method is disabled in Parse.com environment")},b.ready(),b};n.init=n,n.unique=k.unique,n.secure=n,a.exports=n,a.exports.PNmessage=k.PNmessage},function(b,c){b.exports=a},function(a,c){a.exports=b},function(a,b){a.exports={name:"pubnub",preferGlobal:!1,version:"3.14.1",author:"PubNub <support@pubnub.com>",description:"Publish & Subscribe Real-time Messaging with PubNub",contributors:[{name:"Stephen Blum",email:"stephen@pubnub.com"}],bin:{},scripts:{test:"grunt test --force"},main:"./node.js/pubnub.js",browser:"./modern/dist/pubnub.js",repository:{type:"git",url:"git://github.com/pubnub/javascript.git"},keywords:["cloud","publish","subscribe","websockets","comet","bosh","xmpp","real-time","messaging"],dependencies:{agentkeepalive:"~0.2",lodash:"^4.1.0",uuid:"^2.0.1"},noAnalyze:!1,devDependencies:{"babel-core":"^6.5.2","babel-eslint":"^5.0.0","babel-plugin-transform-class-properties":"^6.5.2","babel-plugin-transform-flow-strip-types":"^6.5.0","babel-preset-es2015":"^6.5.0",chai:"^3.5.0",eslint:"^2.2.0","eslint-config-airbnb":"^6.0.2","eslint-plugin-flowtype":"^2.1.0","eslint-plugin-mocha":"^2.0.0","eslint-plugin-react":"^4.1.0","flow-bin":"^0.22.0",grunt:"^0.4.5","grunt-babel":"^6.0.0","grunt-contrib-clean":"^1.0.0","grunt-contrib-copy":"^0.8.2","grunt-contrib-uglify":"^0.11.1","grunt-env":"^0.4.4","grunt-eslint":"^18.0.0","grunt-flow":"^1.0.3","grunt-karma":"^0.12.1","grunt-mocha-istanbul":"^3.0.1","grunt-text-replace":"^0.4.0","grunt-webpack":"^1.0.11","imports-loader":"^0.6.5",isparta:"^4.0.0","json-loader":"^0.5.4",karma:"^0.13.21","karma-chai":"^0.1.0","karma-mocha":"^0.2.1","karma-phantomjs-launcher":"^1.0.0","karma-spec-reporter":"0.0.24","load-grunt-tasks":"^3.4.0",mocha:"^2.4.5",nock:"^1.1.0","node-uuid":"^1.4.7",nodeunit:"^0.9.0","phantomjs-prebuilt":"^2.1.4",proxyquire:"^1.7.4",sinon:"^1.17.2","uglify-js":"^2.6.1",underscore:"^1.7.0",webpack:"^1.12.13","webpack-dev-server":"^1.14.1"},bundleDependencies:[],license:"MIT",engine:{node:">=0.8"},files:["core","node.js","modern","CHANGELOG","FUTURE.md","LICENSE","README.md"]}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){return"x"+ ++A+ +new Date}function f(a,b){var c=[];return z.each(a,function(a,d){b?a.search("-pnpres")<0&&d.subscribed&&c.push(a):d.subscribed&&c.push(a)}),c.sort()}function g(a,b){var c=[];return z.each(a,function(a,d){b?a.search("-pnpres")<0&&d.subscribed&&c.push(a):d.subscribed&&c.push(a)}),c.sort()}function h(){B||(B=1,z.each(C,function(a){a()}))}function i(a){var b=a||{apns:{}};return b.getPubnubMessage=function(){var a={};if(Object.keys(b.apns).length){a.pn_apns={aps:{alert:b.apns.alert,badge:b.apns.badge}};for(var c in b.apns)a.pn_apns[c]=b.apns[c];var d=["badge","alert"];for(var c in d)delete a.pn_apns[d[c]]}b.gcm&&(a.pn_gcm={data:b.gcm});for(var c in b)a[c]=b[c];var e=["apns","gcm","publish","channel","callback","error"];for(var c in e)delete a[e[c]];return a},b.publish=function(){var a=b.getPubnubMessage();b.pubnub&&b.channel&&b.pubnub.publish({message:a,channel:b.channel,callback:b.callback,error:b.error})},b}function j(a){function b(a){return a||(a={}),z.each(ya,function(b,c){b in a||(a[b]=c)}),a}function c(a){var b=[];return z.each(a,function(a,c){b.push(a)}),b}function d(a){return c(a).sort()}function i(a){var b="",c=d(a);for(var e in c){var f=c[e];b+=f+"="+z.pamEncode(a[f]),e!=c.length-1&&(b+="&")}return b}function j(a,b,c){var d=!1;if("undefined"==typeof a)return b;if("number"==typeof a)d=!(a>J||0==a);else{if("boolean"==typeof a)return a?K:0;d=!0}return d?(c&&c("Presence Heartbeat value invalid. Valid range ( x > "+J+" or x = 0). Current Value : "+(b||J)),b||J):a}function l(a,b){return Fa.encrypt(a,b||Ba)||a}function n(a,b){return Fa.decrypt(a,b||Ba)||Fa.decrypt(a,Ba)||a}function p(){return clearTimeout(sa),!ua||ua>=500||1>ua||!f(pa,!0).length&&!g(qa,!0).length?void(va=!1):(va=!0,void Ga.presence_heartbeat({callback:function(a){sa=z.timeout(p,ua*I)},error:function(a){za&&za("Presence Heartbeat unable to reach Pubnub servers."+JSON.stringify(a)),sa=z.timeout(p,ua*I)}}))}function r(){!va&&p()}function t(a){if(wa){if(!ga.length)return}else{if(a&&(ga.sending=0),ga.sending||!ga.length)return;ga.sending=1}S(ga.shift())}function v(a){var b=0;return z.each(g(qa),function(c){var d=qa[c];d&&(b++,(a||function(){})(d))}),b}function x(a){var b=0;return z.each(f(pa),function(c){var d=pa[c];d&&(b++,(a||function(){})(d))}),b}function y(a,b,c){if("object"==("undefined"==typeof a?"undefined":k(a))){if(a.error){var d={};return a.message&&(d.message=a.message),a.payload&&(d.payload=a.payload),void(c&&c(d))}if(a.payload)return void(a.next_page?b&&b(a.payload,a.next_page):b&&b(a.payload))}b&&b(a)}function A(a,b){if("object"==("undefined"==typeof a?"undefined":k(a))&&a.error){var c={};return a.message&&(c.message=a.message),a.payload&&(c.payload=a.payload),void(b&&b(c))}b&&b(a)}function F(a,c,d,e){var c=a.callback||c,f=a.error||za,g=R();e=e||{},e.auth||(e.auth=a.auth_key||U.getAuthKey());var h=[Y.getStandardOrigin(),"v1","channel-registration","sub-key",U.getSubscribeKey()];h.push.apply(h,d),g&&(e.callback=g),S({callback:g,data:b(e),success:function(a){y(a,c,f)},fail:function(a){A(a,f)},url:h})}function M(){Aa()||O(1,{error:"Offline. Please check your network settings."}),V&&clearTimeout(V),V=z.timeout(M,I)}function N(){ba&&Ga.time(function(a){Q(function(){},a),a||O(1,{error:"Heartbeat failed to connect to Pubnub Servers.Please check your network settings."}),W&&clearTimeout(W),W=z.timeout(N,aa)})}function O(a,b){la&&la(a,b),la=null,clearTimeout(V),clearTimeout(W)}function P(a){var b=z.rnow()-ia;return b-a/1e4}function Q(a,b){function c(b){if(b){var c=b/1e4,e=(z.rnow()-d)/2;ia=z.rnow()-(c+e),a&&a(ia)}}var d=z.rnow();b&&c(b)||Ga.time(c)}var R=a.jsonp_cb||function(){return 0},S=a.xdr,T=a.db||{get:function(){},set:function(){}},U=(new q["default"]).setInstanceId(m["default"].v4()).setAuthKey(a.auth_key||"").setSecretKey(a.secret_key||"").setSubscribeKey(a.subscribe_key).setPublishKey(a.publish_key);U.setUUID(a.uuid||!a.unique_uuid&&T.get(U.getSubscribeKey()+"uuid")||m["default"].v4()),T.set(U.getSubscribeKey()+"uuid",U.getUUID());var V,W,X=(new s["default"]).setRequestIdConfig(a.use_request_id||!1).setInstanceIdConfig(a.instance_id||!1),Y=new o["default"](a.xdr,U,a.ssl,a.origin),Z=new u["default"]({keychain:U,config:X,networking:Y,jsonp_cb:R,get_url_params:b}),$=+a.windowing||E,_=(+a.timeout||G)*I,aa=(+a.keepalive||H)*I,ba=a.timecheck||0,ca=a.noleave||0,da=a.hmac_SHA256,ea=a.ssl?"s":"",fa=function(){},ga=[],ha=!0,ia=0,ja=0,ka=0,la=0,ma=a.restore||0,na=0,oa=!1,pa={},qa={},ra={},sa=null,ta=j(a.heartbeat||a.pnexpires||0,a.error),ua=a.heartbeat_interval||ta/2-1,va=!1,wa=a.no_wait_for_pending,xa=a["compatible_3.5"]||!1,ya=a.params||{},za=a.error||function(){},Aa=a._is_online||function(){return 1},Ba=a.cipher_key,Ca=a.shutdown,Da="undefined"!=typeof a.use_send_beacon?a.use_send_beacon:!0,Ea=Da?a.sendBeacon:null;2===ta&&(ua=1);var Fa=a.crypto_obj||{encrypt:function(a,b){return a},decrypt:function(a,b){return a}},Ga={LEAVE:function(a,c,d,e,f){var g,h,i={uuid:U.getUUID(),auth:d||U.getAuthKey()},j=Y.nextOrigin(!1),e=e||function(){},k=f||function(){},l=R();if(a.indexOf(D)>0)return!0;if(xa){if(!ea)return!1;if("0"==l)return!1}if(ca)return!1;if("0"!=l&&(i.callback=l),X.isInstanceIdEnabled()&&(i.instanceid=U.getInstanceId()),g=[j,"v2","presence","sub_key",U.getSubscribeKey(),"channel",z.encode(a),"leave"],h=b(i),Ea){var m=z.buildURL(g,h);if(Ea(m))return e&&e({status:200,action:"leave",message:"OK",service:"Presence"}),!0}return S({blocking:c||ea,callback:l,data:h,success:function(a){y(a,e,k)},fail:function(a){A(a,k)},url:g}),!0},LEAVE_GROUP:function(a,c,d,e,f){var g,h,i={uuid:U.getUUID(),auth:d||U.getAuthKey()},j=Y.nextOrigin(!1),e=e||function(){},k=f||function(){},l=R();if(a.indexOf(D)>0)return!0;if(xa){if(!ea)return!1;if("0"==l)return!1}if(ca)return!1;if("0"!=l&&(i.callback=l),a&&a.length>0&&(i["channel-group"]=a),X.isInstanceIdEnabled()&&(i.instanceid=U.getInstanceId()),g=[j,"v2","presence","sub_key",U.getSubscribeKey(),"channel",z.encode(","),"leave"],h=b(i),Ea){var m=z.buildURL(g,h);if(Ea(m))return e&&e({status:200,action:"leave",message:"OK",service:"Presence"}),!0}return S({blocking:c||ea,callback:l,data:h,success:function(a){y(a,e,k)},fail:function(a){A(a,k)},url:g}),!0},set_resumed:function(a){oa=a},get_cipher_key:function(){return Ba},set_cipher_key:function(a){Ba=a},raw_encrypt:function(a,b){return l(a,b)},raw_decrypt:function(a,b){return n(a,b)},get_heartbeat:function(){return ta},set_heartbeat:function(a,b){ta=j(a,ta,za),ua=b||ta/2-1,2==ta&&(ua=1),fa(),p()},get_heartbeat_interval:function(){return ua},set_heartbeat_interval:function(a){ua=a,p()},get_version:function(){return L},getGcmMessageObject:function(a){return{data:a}},getApnsMessageObject:function(a){var b={aps:{badge:1,alert:""}};for(var c in a)c[b]=a[c];return b},_add_param:function(a,b){ya[a]=b},channel_group:function Ha(a,b){var c,Ha,d=a.channel_group,b=b||a.callback,e=a.channels||a.channel,f=a.cloak,g=[],h={},i=a.mode||"add";if(d){var j=d.split(":");j.length>1?(c="*"===j[0]?null:j[0],Ha=j[1]):Ha=j[0]}c&&g.push("namespace")&&g.push(z.encode(c)),g.push("channel-group"),Ha&&"*"!==Ha&&g.push(Ha),e?(z.isArray(e)&&(e=e.join(",")),h[i]=e,h.cloak=ha?"true":"false"):"remove"===i&&g.push("remove"),"undefined"!=typeof f&&(h.cloak=f?"true":"false"),F(a,b,g,h)},channel_group_list_groups:function(a,b){var c;c=a.namespace||a.ns||a.channel_group||null,c&&(a.channel_group=c+":*"),Ga.channel_group(a,b)},channel_group_list_channels:function(a,b){return a.channel_group?void Ga.channel_group(a,b):za("Missing Channel Group")},channel_group_remove_channel:function(a,b){return a.channel_group?a.channel||a.channels?(a.mode="remove",void Ga.channel_group(a,b)):za("Missing Channel"):za("Missing Channel Group")},channel_group_remove_group:function(a,b){return a.channel_group?a.channel?za("Use channel_group_remove_channel if you want to remove a channel from a group."):(a.mode="remove",void Ga.channel_group(a,b)):za("Missing Channel Group")},channel_group_add_channel:function(a,b){return a.channel_group?a.channel||a.channels?void Ga.channel_group(a,b):za("Missing Channel"):za("Missing Channel Group")},channel_group_cloak:function(a,b){return"undefined"==typeof a.cloak?void b(ha):(ha=a.cloak,void Ga.channel_group(a,b))},channel_group_list_namespaces:function(a,b){var c=["namespace"];F(a,b,c)},channel_group_remove_namespace:function(a,b){var c=["namespace",a.namespace,"remove"];F(a,b,c)},history:function(a,c){var c=a.callback||c,d=a.count||a.limit||100,e=a.reverse||"false",f=a.error||function(){},g=a.auth_key||U.getAuthKey(),h=a.cipher_key,i=a.channel,j=a.channel_group,l=a.start,m=a.end,o=a.include_token,p=a.string_message_token||!1,q={},r=R();return i||j?c?U.getSubscribeKey()?(q.stringtoken="true",q.count=d,q.reverse=e,q.auth=g,j&&(q["channel-group"]=j,i||(i=",")),r&&(q.callback=r),l&&(q.start=l),m&&(q.end=m),o&&(q.include_token="true"),p&&(q.string_message_token="true"),void Y.fetchHistory(i,{callback:r,data:b(q),success:function(a){if("object"==("undefined"==typeof a?"undefined":k(a))&&a.error)return void f({message:a.message,payload:a.payload});for(var b=a[0],d=[],e=0;e<b.length;e++)if(o){var g=n(b[e].message,h),i=b[e].timetoken;try{d.push({message:JSON.parse(g),timetoken:i})}catch(j){d.push({message:g,timetoken:i})}}else{var g=n(b[e],h);try{d.push(JSON.parse(g))}catch(j){d.push(g)}}c([d,a[1],a[2]])},fail:function(a){A(a,f)}})):za("Missing Subscribe Key"):za("Missing Callback"):za("Missing Channel")},replay:function(a,c){var c=c||a.callback||function(){},d=a.auth_key||U.getAuthKey(),e=a.source,f=a.destination,g=a.error||a.error||function(){},h=a.stop,i=a.start,j=a.end,k=a.reverse,l=a.limit,m=R(),n={};return e?f?U.getPublishKey()?U.getSubscribeKey()?("0"!=m&&(n.callback=m),h&&(n.stop="all"),k&&(n.reverse="true"),i&&(n.start=i),j&&(n.end=j),l&&(n.count=l),n.auth=d,void Y.fetchReplay(e,f,{callback:m,success:function(a){y(a,c,g)},fail:function(){c([0,"Disconnected"])},data:b(n)})):za("Missing Subscribe Key"):za("Missing Publish Key"):za("Missing Destination Channel"):za("Missing Source Channel")},auth:function(a){U.setAuthKey(a),fa()},time:(0,w["default"])(Z.fetchTime,Z),publish:function(a,c){var d=a.message;if(!d)return za("Missing Message");var e,c=c||a.callback||d.callback||a.success||function(){},f=a.channel||d.channel,g=a.auth_key||U.getAuthKey(),h=a.cipher_key,i=a.error||d.error||function(){},j=a.post||!1,k="store_in_history"in a?a.store_in_history:!0,m=R(),n="push",o={uuid:U.getUUID(),auth:g};return a.prepend&&(n="unshift"),f?U.getPublishKey()?U.getSubscribeKey()?(d.getPubnubMessage&&(d=d.getPubnubMessage()),d=JSON.stringify(l(d,h)),e=[Y.getStandardOrigin(),"publish",U.getPublishKey(),U.getSubscribeKey(),0,z.encode(f),m,z.encode(d)],k||(o.store="0"),X.isInstanceIdEnabled()&&(o.instanceid=U.getInstanceId()),ga[n]({callback:m,url:e,data:b(o),fail:function(a){A(a,i),t(1)},success:function(a){y(a,c,i),t(1)},mode:j?"POST":"GET"}),void t()):za("Missing Subscribe Key"):za("Missing Publish Key"):za("Missing Channel")},unsubscribe:function(a,b){var c=a.channel,d=a.channel_group,e=a.auth_key||U.getAuthKey(),b=b||a.callback||function(){},f=a.error||function(){};if(na=0,ma=1,!c&&!d)return za("Missing Channel or Channel Group");if(!U.getSubscribeKey())return za("Missing Subscribe Key");if(c){var g=z.isArray(c)?c:(""+c).split(","),h=[],i=[];if(z.each(g,function(a){pa[a]&&h.push(a)}),0==h.length)return void b({action:"leave"});z.each(h,function(a){i.push(a+D)}),z.each(h.concat(i),function(a){a in pa&&(pa[a]=0),a in ra&&delete ra[a]});var j=!0;B&&(j=Ga.LEAVE(h.join(","),0,e,b,f)),j||b({action:"leave"})}if(d){var k=z.isArray(d)?d:(""+d).split(","),l=[],m=[];if(z.each(k,function(a){qa[a]&&l.push(a)}),0==l.length)return void b({action:"leave"});z.each(l,function(a){m.push(a+D)}),z.each(l.concat(m),function(a){a in qa&&(qa[a]=0),a in ra&&delete ra[a]});var j=!0;B&&(j=Ga.LEAVE_GROUP(l.join(","),0,e,b,f)),j||b({action:"leave"})}fa()},subscribe:function(a,c){function d(a){a?z.timeout(fa,y):(Y.shiftStandardOrigin(!0),Y.shiftSubscribeOrigin(!0),z.timeout(function(){Ga.time(d)},I)),x(function(b){return a&&b.disconnected?(b.disconnected=0,b.reconnect(b.name)):void(a||b.disconnected||(b.disconnected=1,b.disconnect(b.name)))}),v(function(b){return a&&b.disconnected?(b.disconnected=0,b.reconnect(b.name)):void(a||b.disconnected||(b.disconnected=1,b.disconnect(b.name)))})}function e(){var a=R(),c=f(pa).join(","),h=g(qa).join(",");if(c||h){c||(c=","),O();var i=b({uuid:U.getUUID(),auth:U.getAuthKey()});h&&(i["channel-group"]=h);var j=JSON.stringify(ra);j.length>2&&(i.state=JSON.stringify(ra)),ta&&(i.heartbeat=ta),X.isInstanceIdEnabled()&&(i.instanceid=U.getInstanceId()),r(),la=S({timeout:w,callback:a,fail:function(a){a&&a.error&&a.service?(A(a,o),d(!1)):Ga.time(function(b){!b&&A(a,o),d(b)})},data:b(i),url:[Y.getSubscribeOrigin(),"subscribe",U.getSubscribeKey(),z.encode(c),a,na],success:function(a){if(!a||"object"==("undefined"==typeof a?"undefined":k(a))&&"error"in a&&a.error)return o(a),z.timeout(fa,I);if(p(a[1]),na=!na&&ma&&T.get(U.getSubscribeKey())||a[1],x(function(a){a.connected||(a.connected=1,a.connect(a.name))}),v(function(a){a.connected||(a.connected=1,a.connect(a.name))}),oa&&!ma)return na=0,oa=!1,T.set(U.getSubscribeKey(),0),void z.timeout(e,y);t&&(na=1e4,t=0),T.set(U.getSubscribeKey(),a[1]);var b=function(){var b="",c="";a.length>3?(b=a[3],c=a[2]):b=a.length>2?a[2]:z.map(f(pa),function(b){return z.map(Array(a[0].length).join(",").split(","),function(){return b})}).join(",");var d=b.split(","),e=c?c.split(","):[];return function(){var a=d.shift()||ka,b=e.shift(),c={};b?(a&&a.indexOf("-pnpres")>=0&&b.indexOf("-pnpres")<0&&(b+="-pnpres"),c=qa[b]||pa[b]||{callback:function(){}}):c=pa[a];var f=[c.callback||ja,a.split(D)[0]];return b&&f.push(b.split(D)[0]),f}}(),c=P(+a[1]);z.each(a[0],function(d){var e=b(),f=n(d,pa[e[1]]?pa[e[1]].cipher_key:null);e[0]&&e[0](f,a,e[2]||e[1],c,e[1])}),z.timeout(e,y)}})}}var h=a.channel,i=a.channel_group,c=c||a.callback,c=c||a.message,j=a.connect||function(){},l=a.reconnect||function(){},m=a.disconnect||function(){},o=a.error||o||function(){},p=a.idle||function(){},q=a.presence||0,s=a.noheresync||0,t=a.backfill||0,u=a.timetoken||0,w=a.timeout||_,y=a.windowing||$,E=a.state,F=a.heartbeat||a.pnexpires,G=a.heartbeat_interval,H=a.restore||ma;return U.setAuthKey(a.auth_key||U.getAuthKey()),ma=H,na=u,h||i?c?U.getSubscribeKey()?((F||0===F||G||0===G)&&Ga.set_heartbeat(F,G),h&&z.each((h.join?h.join(","):""+h).split(","),function(d){var e=pa[d]||{};pa[ka=d]={name:d,connected:e.connected,disconnected:e.disconnected,subscribed:1,callback:ja=c,cipher_key:a.cipher_key,connect:j,disconnect:m,reconnect:l},E&&(d in E?ra[d]=E[d]:ra[d]=E),q&&(Ga.subscribe({channel:d+D,callback:q,restore:H}),e.subscribed||s||Ga.here_now({channel:d,data:b({uuid:U.getUUID(),auth:U.getAuthKey()}),callback:function(a){z.each("uuids"in a?a.uuids:[],function(b){q({action:"join",uuid:b,timestamp:Math.floor(z.rnow()/1e3),occupancy:a.occupancy||1},a,d)})}}))}),i&&z.each((i.join?i.join(","):""+i).split(","),function(d){var e=qa[d]||{};qa[d]={name:d,connected:e.connected,disconnected:e.disconnected,subscribed:1,callback:ja=c,cipher_key:a.cipher_key,connect:j,disconnect:m,reconnect:l},q&&(Ga.subscribe({channel_group:d+D,callback:q,restore:H,auth_key:U.getAuthKey()}),e.subscribed||s||Ga.here_now({channel_group:d,data:b({uuid:U.getUUID(),auth:U.getAuthKey()}),callback:function(a){z.each("uuids"in a?a.uuids:[],function(b){q({action:"join",uuid:b,timestamp:Math.floor(z.rnow()/1e3),occupancy:a.occupancy||1},a,d)})}}))}),fa=function(){O(),z.timeout(e,y)},B?void fa():C.push(fa)):za("Missing Subscribe Key"):za("Missing Callback"):za("Missing Channel")},here_now:function(a,c){var c=a.callback||c,d=a.debug,e=a.error||function(){},f=a.auth_key||U.getAuthKey(),g=a.channel,h=a.channel_group,i=R(),j="uuids"in a?a.uuids:!0,k=a.state,l={uuid:U.getUUID(),auth:f};if(j||(l.disable_uuids=1),k&&(l.state=1),!c)return za("Missing Callback");if(!U.getSubscribeKey())return za("Missing Subscribe Key");var m=[Y.getStandardOrigin(),"v2","presence","sub_key",U.getSubscribeKey()];g&&m.push("channel")&&m.push(z.encode(g)),"0"!=i&&(l.callback=i),h&&(l["channel-group"]=h,!g&&m.push("channel")&&m.push(",")),X.isInstanceIdEnabled()&&(l.instanceid=U.getInstanceId()),S({callback:i,data:b(l),success:function(a){y(a,c,e)},fail:function(a){A(a,e)},debug:d,url:m})},where_now:function(a,c){var c=a.callback||c,d=a.error||function(){},e=a.auth_key||U.getAuthKey(),f=R(),g=a.uuid||U.getUUID(),h={auth:e};return c?U.getSubscribeKey()?("0"!=f&&(h.callback=f),X.isInstanceIdEnabled()&&(h.instanceid=U.getInstanceId()),void S({callback:f,data:b(h),success:function(a){y(a,c,d)},fail:function(a){A(a,d)},url:[Y.getStandardOrigin(),"v2","presence","sub_key",U.getSubscribeKey(),"uuid",z.encode(g)]})):za("Missing Subscribe Key"):za("Missing Callback")},state:function Ia(a,c){var d,c=a.callback||c||function(a){},e=a.error||function(){},f=a.auth_key||U.getAuthKey(),g=R(),Ia=a.state,h=a.uuid||U.getUUID(),i=a.channel,j=a.channel_group,k=b({auth:f});return U.getSubscribeKey()?h?i||j?("0"!=g&&(k.callback=g),"undefined"!=typeof i&&pa[i]&&pa[i].subscribed&&Ia&&(ra[i]=Ia),"undefined"!=typeof j&&qa[j]&&qa[j].subscribed&&(Ia&&(ra[j]=Ia),k["channel-group"]=j,i||(i=",")),k.state=JSON.stringify(Ia),X.isInstanceIdEnabled()&&(k.instanceid=U.getInstanceId()),d=Ia?[Y.getStandardOrigin(),"v2","presence","sub-key",U.getSubscribeKey(),"channel",i,"uuid",h,"data"]:[Y.getStandardOrigin(),"v2","presence","sub-key",U.getSubscribeKey(),"channel",i,"uuid",z.encode(h)],void S({callback:g,data:b(k),success:function(a){y(a,c,e)},fail:function(a){A(a,e)},url:d})):za("Missing Channel"):za("Missing UUID"):za("Missing Subscribe Key")},grant:function(a,c){var c=a.callback||c,d=a.error||function(){},e=a.channel||a.channels,f=a.channel_group,g=R(),h=a.ttl,j=a.read?"1":"0",k=a.write?"1":"0",l=a.manage?"1":"0",m=a.auth_key||a.auth_keys;if(!c)return za("Missing Callback");if(!U.getSubscribeKey())return za("Missing Subscribe Key");if(!U.getPublishKey())return za("Missing Publish Key");if(!U.getSecretKey())return za("Missing Secret Key");var n=Math.floor((new Date).getTime()/1e3),o=U.getSubscribeKey()+"\n"+U.getPublishKey()+"\ngrant\n",p={w:k,r:j,timestamp:n};a.manage&&(p.m=l),z.isArray(e)&&(e=e.join(",")),z.isArray(m)&&(m=m.join(",")),"undefined"!=typeof e&&null!=e&&e.length>0&&(p.channel=e),"undefined"!=typeof f&&null!=f&&f.length>0&&(p["channel-group"]=f),"0"!=g&&(p.callback=g),(h||0===h)&&(p.ttl=h),m&&(p.auth=m),p=b(p),m||delete p.auth,o+=i(p);var q=da(o,U.getSecretKey());q=q.replace(/\+/g,"-"),q=q.replace(/\//g,"_"),p.signature=q,S({callback:g,data:p,success:function(a){y(a,c,d)},fail:function(a){A(a,d)},url:[Y.getStandardOrigin(),"v1","auth","grant","sub-key",U.getSubscribeKey()]})},mobile_gw_provision:function(a){var b,c=a.callback||function(){},d=a.auth_key||U.getAuthKey(),e=a.error||function(){},f=R(),g=a.channel,h=a.op,i=a.gw_type,j=a.device_id;if(!j)return za("Missing Device ID (device_id)");if(!i)return za("Missing GW Type (gw_type: gcm or apns)");if(!h)return za("Missing GW Operation (op: add or remove)");if(!g)return za("Missing gw destination Channel (channel)");if(!U.getPublishKey())return za("Missing Publish Key");if(!U.getSubscribeKey())return za("Missing Subscribe Key");var k={uuid:U.getUUID(),auth:d,type:i};b=[Y.getStandardOrigin(),"v1/push/sub-key",U.getSubscribeKey(),"devices",j],"add"==h?k.add=g:"remove"==h&&(k.remove=g),X.isInstanceIdEnabled()&&(k.instanceid=U.getInstanceId()),S({callback:f,data:k,success:function(a){y(a,c,e)},fail:function(a){A(a,e)},url:b})},audit:function(a,c){var c=a.callback||c,d=a.error||function(){},e=a.channel,f=a.channel_group,g=a.auth_key,h=R();if(!c)return za("Missing Callback");if(!U.getSubscribeKey())return za("Missing Subscribe Key");if(!U.getPublishKey())return za("Missing Publish Key");if(!U.getSecretKey())return za("Missing Secret Key");var j=Math.floor((new Date).getTime()/1e3),k=U.getSubscribeKey()+"\n"+U.getPublishKey()+"\naudit\n",l={timestamp:j};"0"!=h&&(l.callback=h),"undefined"!=typeof e&&null!=e&&e.length>0&&(l.channel=e),"undefined"!=typeof f&&null!=f&&f.length>0&&(l["channel-group"]=f),g&&(l.auth=g),l=b(l),g||delete l.auth,k+=i(l);var m=da(k,U.getSecretKey());m=m.replace(/\+/g,"-"),m=m.replace(/\//g,"_"),l.signature=m,S({callback:h,data:l,success:function(a){y(a,c,d)},fail:function(a){A(a,d)},url:[Y.getStandardOrigin(),"v1","auth","audit","sub-key",U.getSubscribeKey()]})},revoke:function(a,b){a.read=!1,a.write=!1,Ga.grant(a,b)},set_uuid:function(a){U.setUUID(a),fa()},get_uuid:function(){return U.getUUID()},isArray:function(a){return z.isArray(a)},get_subscribed_channels:function(){return f(pa,!0)},presence_heartbeat:function(a){var c=a.callback||function(){},d=a.error||function(){},e=R(),h={uuid:U.getUUID(),auth:U.getAuthKey()},i=JSON.stringify(ra);i.length>2&&(h.state=JSON.stringify(ra)),ta>0&&320>ta&&(h.heartbeat=ta),"0"!=e&&(h.callback=e);var j=z.encode(f(pa,!0).join(",")),k=g(qa,!0).join(",");j||(j=","),k&&(h["channel-group"]=k),X.isInstanceIdEnabled()&&(h.instanceid=U.getInstanceId()),X.isRequestIdEnabled()&&(h.requestid=z.generateUUID()),S({callback:e,data:b(h),url:[Y.getStandardOrigin(),"v2","presence","sub-key",U.getSubscribeKey(),"channel",j,"heartbeat"],success:function(a){y(a,c,d)},fail:function(a){A(a,d)}})},stop_timers:function(){clearTimeout(V),clearTimeout(W),clearTimeout(sa)},shutdown:function(){Ga.stop_timers(),Ca&&Ca()},xdr:S,ready:h,db:T,uuid:z.generateUUID,map:z.map,each:z.each,"each-channel":x,grep:z.grep,offline:function(){O(1,{message:"Offline. Please check your network settings."})},supplant:z.supplant,now:z.rnow,unique:e,updater:z.updater};return V=z.timeout(M,I),W=z.timeout(N,aa),sa=z.timeout(r,(ua-3)*I),Q(),Ga}var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},l=c(5),m=d(l),n=c(7),o=d(n),p=c(8),q=d(p),r=c(11),s=d(r),t=c(12),u=d(t),v=c(13),w=d(v),x=c(3),y=c(10),z=c(9),A=1,B=!1,C=[],D="-pnpres",E=10,F=15e3,G=310,H=60,I=1e3,J=5,K=30,L=x.version;a.exports={PN_API:j,unique:e,PNmessage:i,DEF_TIMEOUT:F,timeout:z.timeout,build_url:z.buildURL,each:z.each,uuid:z.generateUUID,URLBIT:y.URLBIT,grep:z.grep,supplant:z.supplant,now:z.rnow,updater:z.updater,map:z.map}},function(a,b,c){function d(a,b,c){var d=b&&c||0,e=0;for(b=b||[],a.toLowerCase().replace(/[0-9a-f]{2}/g,function(a){16>e&&(b[d+e++]=j[a])});16>e;)b[d+e++]=0;return b}function e(a,b){var c=b||0,d=i;return d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]}function f(a,b,c){var d=b&&c||0,f=b||[];a=a||{};var g=void 0!==a.clockseq?a.clockseq:n,h=void 0!==a.msecs?a.msecs:(new Date).getTime(),i=void 0!==a.nsecs?a.nsecs:p+1,j=h-o+(i-p)/1e4;if(0>j&&void 0===a.clockseq&&(g=g+1&16383),(0>j||h>o)&&void 0===a.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=h,p=i,n=g,h+=122192928e5;var k=(1e4*(268435455&h)+i)%4294967296;f[d++]=k>>>24&255,f[d++]=k>>>16&255,f[d++]=k>>>8&255,f[d++]=255&k;var l=h/4294967296*1e4&268435455;f[d++]=l>>>8&255,f[d++]=255&l,f[d++]=l>>>24&15|16,f[d++]=l>>>16&255,f[d++]=g>>>8|128,f[d++]=255&g;for(var q=a.node||m,r=0;6>r;r++)f[d+r]=q[r];return b?b:e(f)}function g(a,b,c){var d=b&&c||0;"string"==typeof a&&(b="binary"==a?new Array(16):null,a=null),a=a||{};var f=a.random||(a.rng||h)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,b)for(var g=0;16>g;g++)b[d+g]=f[g];return b||e(f)}for(var h=c(6),i=[],j={},k=0;256>k;k++)i[k]=(k+256).toString(16).substr(1),j[i[k]]=k;var l=h(),m=[1|l[0],l[1],l[2],l[3],l[4],l[5]],n=16383&(l[6]<<8|l[7]),o=0,p=0,q=g;q.v1=f,q.v4=g,q.parse=d,q.unparse=e,a.exports=q},function(a,b){(function(b){var c;if(b.crypto&&crypto.getRandomValues){var d=new Uint8Array(16);c=function(){return crypto.getRandomValues(d),d}}if(!c){var e=new Array(16);c=function(){for(var a,b=0;16>b;b++)0===(3&b)&&(a=4294967296*Math.random()),e[b]=a>>>((3&b)<<3)&255;return e}}a.exports=c}).call(b,function(){return this}())},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(8),h=(d(g),c(9)),i=function(){function a(b,c){var d=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],f=arguments.length<=3||void 0===arguments[3]?"pubsub.pubnub.com":arguments[3];e(this,a),this._xdr=b,this._keychain=c,this._maxSubDomain=20,this._currentSubDomain=Math.floor(Math.random()*this._maxSubDomain),this._providedFQDN=(d?"https://":"http://")+f,this.shiftStandardOrigin(!1),this.shiftSubscribeOrigin(!1)}return f(a,[{key:"nextOrigin",value:function(a){if(-1===this._providedFQDN.indexOf("pubsub."))return this._providedFQDN;var b=void 0;return a?b=h.generateUUID().split("-")[0]:(this._currentSubDomain=this._currentSubDomain+1,this._currentSubDomain>=this._maxSubDomain&&(this._currentSubDomain=1),b=this._currentSubDomain.toString()),this._providedFQDN.replace("pubsub","ps"+b)}},{key:"shiftStandardOrigin",value:function(){var a=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return this._standardOrigin=this.nextOrigin(a),this._standardOrigin}},{key:"shiftSubscribeOrigin",value:function(){var a=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return this._subscribeOrigin=this.nextOrigin(a),this._subscribeOrigin}},{key:"fetchHistory",value:function(a,b){var c=b.data,d=b.callback,e=b.success,f=b.fail,g=[this.getStandardOrigin(),"v2","history","sub-key",this._keychain.getSubscribeKey(),"channel",h.encode(a)];this._xdr({data:c,callback:d,success:e,fail:f,url:g})}},{key:"fetchReplay",value:function(a,b,c){var d=c.data,e=c.callback,f=c.success,g=c.fail,h=[this.getStandardOrigin(),"v1","replay",this._keychain.getPublishKey(),this._keychain.getSubscribeKey(),a,b];this._xdr({data:d,callback:e,success:f,fail:g,url:h})}},{key:"fetchTime",value:function(a,b){var c=b.data,d=b.callback,e=b.success,f=b.fail,g=[this.getStandardOrigin(),"time",a];this._xdr({data:c,callback:d,success:e,fail:f,url:g})}},{key:"getOrigin",value:function(){return this._providedFQDN}},{key:"getStandardOrigin",value:function(){return this._standardOrigin}},{key:"getSubscribeOrigin",value:function(){return this._subscribeOrigin}}]),a}();b["default"]=i},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(){c(this,a)}return d(a,[{key:"setUUID",value:function(a){return this._UUID=a,this}},{key:"setSubscribeKey",value:function(a){return this._subscribeKey=a,this}},{key:"setPublishKey",value:function(a){return this._publishKey=a,this}},{key:"setAuthKey",value:function(a){return this._authKey=a,this}},{key:"setInstanceId",value:function(a){return this._instanceId=a,this}},{key:"setSecretKey",value:function(a){return this._secretKey=a,this}},{key:"getSubscribeKey",value:function(){return this._subscribeKey}},{key:"getPublishKey",value:function(){return this._publishKey;
}},{key:"getAuthKey",value:function(){return this._authKey}},{key:"getInstanceId",value:function(){return this._instanceId}},{key:"getSecretKey",value:function(){return this._secretKey}},{key:"getUUID",value:function(){return this._UUID}}]),a}();b["default"]=e},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){return+new Date}function f(a){return!!a&&"string"!=typeof a&&(Array.isArray&&Array.isArray(a)||"number"==typeof a.length)}function g(a,b){if(a&&b)if(f(a))for(var c=0,d=a.length;d>c;)b.call(a[c],a[c],c++);else for(var c in a)a.hasOwnProperty&&a.hasOwnProperty(c)&&b.call(a[c],c,a[c])}function h(a){return encodeURIComponent(a)}function i(a,b){var c=a.join(t.URLBIT),d=[];return b?(g(b,function(a,b){var c="object"===("undefined"==typeof b?"undefined":q(b))?JSON.stringify(b):b;"undefined"!=typeof b&&null!==b&&h(c).length>0&&d.push(a+"="+h(c))}),c+="?"+d.join(t.PARAMSBIT)):c}function j(a,b){var c,d=0,f=function g(){d+b>e()?(clearTimeout(c),c=setTimeout(g,b)):(d=e(),a())};return f}function k(a,b){var c=[];return g(a||[],function(a){b(a)&&c.push(a)}),c}function l(a,b){return a.replace(u,function(a,c){return b[c]||a})}function m(a,b){return"undefined"!=typeof setTimeout?setTimeout(a,b):void 0}function n(a){var b=s["default"].v4();return a&&a(b),b}function o(a,b){var c=[];return g(a||[],function(a,d){c.push(b(a,d))}),c}function p(a){return encodeURIComponent(a).replace(/[!'()*~]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},r=c(5),s=d(r),t=c(10),u=/{([\w\-]+)}/g;a.exports={buildURL:i,encode:h,each:g,updater:j,rnow:e,isArray:f,map:o,pamEncode:p,generateUUID:n,timeout:m,supplant:l,grep:k}},function(a,b){a.exports={PARAMSBIT:"&",URLBIT:"/"}},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(){c(this,a),this._instanceId=!1,this._requestId=!1}return d(a,[{key:"setInstanceIdConfig",value:function(a){return this._instanceId=a,this}},{key:"setRequestIdConfig",value:function(a){return this._requestId=a,this}},{key:"isInstanceIdEnabled",value:function(){return this._instanceId}},{key:"isRequestIdEnabled",value:function(){return this._requestId}}]),a}();b["default"]=e},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(7),h=(d(g),c(11)),i=(d(h),c(8)),j=(d(i),function(){function a(b){var c=b.networking,d=b.config,f=b.keychain,g=b.jsonp_cb,h=b.get_url_params;e(this,a),this._networking=c,this._config=d,this._keychain=f,this._jsonp_cb=g,this._get_url_params=h}return f(a,[{key:"fetchTime",value:function(a){var b=this._jsonp_cb(),c={uuid:this._keychain.getUUID(),auth:this._keychain.getAuthKey()};this._config.isInstanceIdEnabled()&&(c.instanceid=this._keychain.getInstanceId());var d=function(b){a(b[0])},e=function(){a(0)};this._networking.fetchTime(b,{callback:b,data:this._get_url_params(c),success:d,fail:e})}}]),a}());b["default"]=j},function(a,b,c){var d=c(14),e=c(52),f=c(55),g=c(60),h=1,i=32,j=g(function(a,b,c){var g=h;if(c.length){var k=f(c,e(j));g|=i}return d(a,g,b,c,k)});j.placeholder={},a.exports=j},function(a,b,c){function d(a,b,c,d,v,w,x,y){var z=b&o;if(!z&&"function"!=typeof a)throw new TypeError(t);var A=d?d.length:0;if(A||(b&=~(r|s),d=v=void 0),x=void 0===x?x:u(m(x),0),y=void 0===y?y:m(y),A-=v?v.length:0,b&s){var B=d,C=v;d=v=void 0}var D=z?void 0:j(a),E=[a,b,c,d,v,B,C,w,x,y];if(D&&k(E,D),a=E[0],b=E[1],c=E[2],d=E[3],v=E[4],y=E[9]=null==E[9]?z?0:a.length:u(E[9]-A,0),!y&&b&(p|q)&&(b&=~(p|q)),b&&b!=n)F=b==p||b==q?g(a,b,y):b!=r&&b!=(n|r)||v.length?h.apply(void 0,E):i(a,b,c,d);else var F=f(a,b,c);var G=D?e:l;return G(F,E)}var e=c(15),f=c(28),g=c(31),h=c(33),i=c(56),j=c(42),k=c(57),l=c(50),m=c(58),n=1,o=2,p=8,q=16,r=32,s=64,t="Expected a function",u=Math.max;a.exports=d},function(a,b,c){var d=c(16),e=c(17),f=e?function(a,b){return e.set(a,b),a}:d;a.exports=f},function(a,b){function c(a){return a}a.exports=c},function(a,b,c){var d=c(18),e=d&&new d;a.exports=e},function(a,b,c){var d=c(19),e=c(25),f=d(e,"WeakMap");a.exports=f},function(a,b,c){function d(a,b){var c=null==a?void 0:a[b];return e(c)?c:void 0}var e=c(20);a.exports=d},function(a,b,c){function d(a){return null==a?!1:e(a)?m.test(k.call(a)):g(a)&&(f(a)?m:i).test(a)}var e=c(21),f=c(23),g=c(24),h=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,j=Object.prototype,k=Function.prototype.toString,l=j.hasOwnProperty,m=RegExp("^"+k.call(l).replace(h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=d},function(a,b,c){function d(a){var b=e(a)?i.call(a):"";return b==f||b==g}var e=c(22),f="[object Function]",g="[object GeneratorFunction]",h=Object.prototype,i=h.toString;a.exports=d},function(a,b){function c(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}a.exports=c},function(a,b){function c(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(c){}return b}a.exports=c},function(a,b){function c(a){return!!a&&"object"==typeof a}a.exports=c},function(a,b,c){(function(a,d){var e=c(27),f={"function":!0,object:!0},g=f[typeof b]&&b&&!b.nodeType?b:void 0,h=f[typeof a]&&a&&!a.nodeType?a:void 0,i=e(g&&h&&"object"==typeof d&&d),j=e(f[typeof self]&&self),k=e(f[typeof window]&&window),l=e(f[typeof this]&&this),m=i||k!==(l&&l.window)&&k||j||l||Function("return this")();a.exports=m}).call(b,c(26)(a),function(){return this}())},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(a,b){function c(a){return a&&a.Object===Object?a:null}a.exports=c},function(a,b,c){function d(a,b,c){function d(){var b=this&&this!==f&&this instanceof d?i:a;return b.apply(h?c:this,arguments)}var h=b&g,i=e(a);return d}var e=c(29),f=c(25),g=1;a.exports=d},function(a,b,c){function d(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=e(a.prototype),d=a.apply(c,b);return f(d)?d:c}}var e=c(30),f=c(22);a.exports=d},function(a,b,c){function d(a){return e(a)?f(a):{}}var e=c(22),f=Object.create;a.exports=d},function(a,b,c){function d(a,b,c){function d(){for(var f=arguments.length,m=Array(f),n=f,o=i(d);n--;)m[n]=arguments[n];var p=3>f&&m[0]!==o&&m[f-1]!==o?[]:j(m,o);if(f-=p.length,c>f)return h(a,b,g,d.placeholder,void 0,m,p,void 0,void 0,c-f);var q=this&&this!==k&&this instanceof d?l:a;return e(q,this,m)}var l=f(a);return d}var e=c(32),f=c(29),g=c(33),h=c(37),i=c(52),j=c(55),k=c(25);a.exports=d},function(a,b){function c(a,b,c){var d=c.length;switch(d){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}a.exports=c},function(a,b,c){function d(a,b,c,t,u,v,w,x,y,z){function A(){for(var n=arguments.length,o=n,p=Array(n);o--;)p[o]=arguments[o];if(E)var q=j(A),r=g(p,q);if(t&&(p=e(p,t,u,E)),v&&(p=f(p,v,w,E)),n-=r,E&&z>n){var s=l(p,q);return i(a,b,d,A.placeholder,c,p,s,x,y,z-n)}var H=C?c:this,I=D?H[a]:a;return n=p.length,x?p=k(p,x):F&&n>1&&p.reverse(),B&&n>y&&(p.length=y),this&&this!==m&&this instanceof A&&(I=G||h(I)),I.apply(H,p)}var B=b&r,C=b&n,D=b&o,E=b&(p|q),F=b&s,G=D?void 0:h(a);return A}var e=c(34),f=c(35),g=c(36),h=c(29),i=c(37),j=c(52),k=c(53),l=c(55),m=c(25),n=1,o=2,p=8,q=16,r=128,s=512;a.exports=d},function(a,b){function c(a,b,c,e){for(var f=-1,g=a.length,h=c.length,i=-1,j=b.length,k=d(g-h,0),l=Array(j+k),m=!e;++i<j;)l[i]=b[i];for(;++f<h;)(m||g>f)&&(l[c[f]]=a[f]);for(;k--;)l[i++]=a[f++];return l}var d=Math.max;a.exports=c},function(a,b){function c(a,b,c,e){for(var f=-1,g=a.length,h=-1,i=c.length,j=-1,k=b.length,l=d(g-i,0),m=Array(l+k),n=!e;++f<l;)m[f]=a[f];for(var o=f;++j<k;)m[o+j]=b[j];for(;++h<i;)(n||g>f)&&(m[o+c[h]]=a[f++]);return m}var d=Math.max;a.exports=c},function(a,b){function c(a,b){for(var c=a.length,d=0;c--;)a[c]===b&&d++;return d}a.exports=c},function(a,b,c){function d(a,b,c,d,n,o,p,q,r,s){var t=b&k,u=q?e(q):void 0,v=t?p:void 0,w=t?void 0:p,x=t?o:void 0,y=t?void 0:o;b|=t?l:m,b&=~(t?m:l),b&j||(b&=~(h|i));var z=[a,b,n,x,v,y,w,u,r,s],A=c.apply(void 0,z);return f(a)&&g(A,z),A.placeholder=d,A}var e=c(38),f=c(39),g=c(50),h=1,i=2,j=4,k=8,l=32,m=64;a.exports=d},function(a,b){function c(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}a.exports=c},function(a,b,c){function d(a){var b=g(a),c=h[b];if("function"!=typeof c||!(b in e.prototype))return!1;if(a===c)return!0;var d=f(c);return!!d&&a===d[0]}var e=c(40),f=c(42),g=c(44),h=c(46);a.exports=d},function(a,b,c){function d(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}var e=c(30),f=c(41),g=4294967295;d.prototype=e(f.prototype),d.prototype.constructor=d,a.exports=d},function(a,b){function c(){}a.exports=c},function(a,b,c){var d=c(17),e=c(43),f=d?function(a){return d.get(a)}:e;a.exports=f},function(a,b){function c(){}a.exports=c},function(a,b,c){function d(a){for(var b=a.name+"",c=e[b],d=g.call(e,b)?c.length:0;d--;){var f=c[d],h=f.func;if(null==h||h==a)return f.name}return b}var e=c(45),f=Object.prototype,g=f.hasOwnProperty;a.exports=d},function(a,b){var c={};a.exports=c},function(a,b,c){function d(a){if(i(a)&&!h(a)&&!(a instanceof e)){if(a instanceof f)return a;if(l.call(a,"__wrapped__"))return j(a)}return new f(a)}var e=c(40),f=c(47),g=c(41),h=c(48),i=c(24),j=c(49),k=Object.prototype,l=k.hasOwnProperty;d.prototype=g.prototype,a.exports=d},function(a,b,c){function d(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=void 0}var e=c(30),f=c(41);d.prototype=e(f.prototype),d.prototype.constructor=d,a.exports=d},function(a,b){var c=Array.isArray;a.exports=c},function(a,b,c){function d(a){if(a instanceof e)return a.clone();var b=new f(a.__wrapped__,a.__chain__);return b.__actions__=g(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}var e=c(40),f=c(47),g=c(38);a.exports=d},function(a,b,c){var d=c(15),e=c(51),f=150,g=16,h=function(){var a=0,b=0;return function(c,h){var i=e(),j=g-(i-b);if(b=i,j>0){if(++a>=f)return c}else a=0;return d(c,h)}}();a.exports=h},function(a,b){var c=Date.now;a.exports=c},function(a,b){function c(a){var b=a;return b.placeholder}a.exports=c},function(a,b,c){function d(a,b){for(var c=a.length,d=g(b.length,c),h=e(a);d--;){var i=b[d];a[d]=f(i,c)?h[i]:void 0}return a}var e=c(38),f=c(54),g=Math.min;a.exports=d},function(a,b){function c(a,b){return a="number"==typeof a||e.test(a)?+a:-1,b=null==b?d:b,a>-1&&a%1==0&&b>a}var d=9007199254740991,e=/^(?:0|[1-9]\d*)$/;a.exports=c},function(a,b){function c(a,b){for(var c=-1,e=a.length,f=-1,g=[];++c<e;){var h=a[c];h!==b&&h!==d||(a[c]=d,g[++f]=c)}return g}var d="__lodash_placeholder__";a.exports=c},function(a,b,c){function d(a,b,c,d){function i(){for(var b=-1,f=arguments.length,h=-1,l=d.length,m=Array(l+f),n=this&&this!==g&&this instanceof i?k:a;++h<l;)m[h]=d[h];for(;f--;)m[h++]=arguments[++b];return e(n,j?c:this,m)}var j=b&h,k=f(a);return i}var e=c(32),f=c(29),g=c(25),h=1;a.exports=d},function(a,b,c){function d(a,b){var c=a[1],d=b[1],q=c|d,r=(i|j|m)>q,s=d==m&&c==l||d==m&&c==n&&a[7].length<=b[8]||d==(m|n)&&b[7].length<=b[8]&&c==l;if(!r&&!s)return a;d&i&&(a[2]=b[2],q|=c&i?0:k);var t=b[3];if(t){var u=a[3];a[3]=u?e(u,t,b[4]):g(t),a[4]=u?h(a[3],o):g(b[4])}return t=b[5],t&&(u=a[5],a[5]=u?f(u,t,b[6]):g(t),a[6]=u?h(a[5],o):g(b[6])),t=b[7],t&&(a[7]=g(t)),d&m&&(a[8]=null==a[8]?b[8]:p(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=q,a}var e=c(34),f=c(35),g=c(38),h=c(55),i=1,j=2,k=4,l=8,m=128,n=256,o="__lodash_placeholder__",p=Math.min;a.exports=d},function(a,b,c){function d(a){if(!a)return 0===a?a:0;if(a=e(a),a===f||a===-f){var b=0>a?-1:1;return b*g}var c=a%1;return a===a?c?a-c:a:0}var e=c(59),f=1/0,g=1.7976931348623157e308;a.exports=d},function(a,b,c){function d(a){if(f(a)){var b=e(a.valueOf)?a.valueOf():a;a=f(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(h,"");var c=j.test(a);return c||k.test(a)?l(a.slice(2),c?2:8):i.test(a)?g:+a}var e=c(21),f=c(22),g=NaN,h=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,k=/^0o[0-7]+$/i,l=parseInt;a.exports=d},function(a,b,c){function d(a,b){if("function"!=typeof a)throw new TypeError(g);return b=h(void 0===b?a.length-1:f(b),0),function(){for(var c=arguments,d=-1,f=h(c.length-b,0),g=Array(f);++d<f;)g[d]=c[b+d];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}var i=Array(b+1);for(d=-1;++d<b;)i[d]=c[d];return i[b]=g,e(a,this,i)}}var e=c(32),f=c(58),g="Expected a function",h=Math.max;a.exports=d}])});